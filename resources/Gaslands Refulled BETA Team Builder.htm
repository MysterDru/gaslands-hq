<!DOCTYPE html> <head> <title>Gaslands Refulled BETA Team Builder</title> <script>!function(){!function(e){var n=this||(0,eval)("this"),t=n.document,a=n.navigator,r=n.jQuery,i=n.JSON;!function(e){"function"==typeof define&&define.amd?define(["exports","require"],e):e("object"==typeof exports&&"object"==typeof module?module.exports||exports:n.ko={})}(function(o,u){function c(e,n){return(null===e||typeof e in v)&&e===n}function s(n,t){var a;return function(){a||(a=b.a.setTimeout(function(){a=e,n()},t))}}function f(e,n){var t;return function(){clearTimeout(t),t=b.a.setTimeout(e,n)}}function l(e,n){n&&n!==g?"beforeChange"===n?this.Ob(e):this.Ja(e,n):this.Pb(e)}function d(e,n){null!==n&&n.k&&n.k()}function p(e,n){var t=this.Mc,a=t[k];a.T||(this.ob&&this.Oa[n]?(t.Sb(n,e,this.Oa[n]),this.Oa[n]=null,--this.ob):a.s[n]||t.Sb(n,e,a.t?{$:e}:t.yc(e)),e.Ha&&e.Hc())}function h(e,n,t,a){b.d[e]={init:function(e,r,i,o,u){var c,s;return b.m(function(){var i=r(),o=b.a.c(i),o=!t!=!o,f=!s;(f||n||o!==c)&&(f&&b.xa.Ca()&&(s=b.a.wa(b.f.childNodes(e),!0)),o?(f||b.f.fa(e,b.a.wa(s)),b.hb(a?a(u,i):u,e)):b.f.za(e),c=o)},null,{i:e}),{controlsDescendantBindings:!0}}},b.h.va[e]=!1,b.f.aa[e]=!0}var b=void 0!==o?o:{};b.b=function(e,n){for(var t=e.split("."),a=b,r=0;r<t.length-1;r++)a=a[t[r]];a[t[t.length-1]]=n},b.H=function(e,n,t){e[n]=t},b.version="3.4.2",b.b("version",b.version),b.options={deferUpdates:!1,useOnlyNativeEvents:!1},b.a=function(){function o(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])}function u(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function c(e,n){return e.__proto__=n,e}function s(e,n,t,a){var r=e[n].match(g)||[];b.a.r(t.match(g),function(e){b.a.ra(r,e,a)}),e[n]=r.join(" ")}var f={__proto__:[]}instanceof Array,l="function"==typeof Symbol,d={},p={};d[a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],d.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(d,function(e,n){if(n.length)for(var t=0,a=n.length;t<a;t++)p[n[t]]=e});var h={propertychange:!0},v=t&&function(){for(var n=3,a=t.createElement("div"),r=a.getElementsByTagName("i");a.innerHTML="\x3c!--[if gt IE "+ ++n+"]><i></i><![endif]--\x3e",r[0];);return 4<n?n:e}(),g=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,n){for(var t=0,a=e.length;t<a;t++)n(e[t],t)},o:function(e,n){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n);for(var t=0,a=e.length;t<a;t++)if(e[t]===n)return t;return-1},Vb:function(e,n,t){for(var a=0,r=e.length;a<r;a++)if(n.call(t,e[a],a))return e[a];return null},Na:function(e,n){var t=b.a.o(e,n);0<t?e.splice(t,1):0===t&&e.shift()},Wb:function(e){e=e||[];for(var n=[],t=0,a=e.length;t<a;t++)0>b.a.o(n,e[t])&&n.push(e[t]);return n},ib:function(e,n){e=e||[];for(var t=[],a=0,r=e.length;a<r;a++)t.push(n(e[a],a));return t},Ma:function(e,n){e=e||[];for(var t=[],a=0,r=e.length;a<r;a++)n(e[a],a)&&t.push(e[a]);return t},ta:function(e,n){if(n instanceof Array)e.push.apply(e,n);else for(var t=0,a=n.length;t<a;t++)e.push(n[t]);return e},ra:function(e,n,t){var a=b.a.o(b.a.Bb(e),n);0>a?t&&e.push(n):t||e.splice(a,1)},la:f,extend:u,$a:c,ab:f?c:u,D:o,Ea:function(e,n){if(!e)return e;var t,a={};for(t in e)e.hasOwnProperty(t)&&(a[t]=n(e[t],t,e));return a},rb:function(e){for(;e.firstChild;)b.removeNode(e.firstChild)},nc:function(e){e=b.a.W(e);for(var n=(e[0]&&e[0].ownerDocument||t).createElement("div"),a=0,r=e.length;a<r;a++)n.appendChild(b.ba(e[a]));return n},wa:function(e,n){for(var t=0,a=e.length,r=[];t<a;t++){var i=e[t].cloneNode(!0);r.push(n?b.ba(i):i)}return r},fa:function(e,n){if(b.a.rb(e),n)for(var t=0,a=n.length;t<a;t++)e.appendChild(n[t])},uc:function(e,n){var t=e.nodeType?[e]:e;if(0<t.length){for(var a=t[0],r=a.parentNode,i=0,o=n.length;i<o;i++)r.insertBefore(n[i],a);for(i=0,o=t.length;i<o;i++)b.removeNode(t[i])}},Ba:function(e,n){if(e.length){for(n=8===n.nodeType&&n.parentNode||n;e.length&&e[0].parentNode!==n;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==n;)e.length--;if(1<e.length){var t=e[0],a=e[e.length-1];for(e.length=0;t!==a;)e.push(t),t=t.nextSibling;e.push(a)}}return e},wc:function(e,n){7>v?e.setAttribute("selected",n):e.selected=n},cb:function(n){return null===n||n===e?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(e,n){return e=e||"",!(n.length>e.length)&&e.substring(0,n.length)===n},Rc:function(e,n){if(e===n)return!0;if(11===e.nodeType)return!1;if(n.contains)return n.contains(3===e.nodeType?e.parentNode:e);if(n.compareDocumentPosition)return 16==(16&n.compareDocumentPosition(e));for(;e&&e!=n;)e=e.parentNode;return!!e},qb:function(e){return b.a.Rc(e,e.ownerDocument.documentElement)},Tb:function(e){return!!b.a.Vb(e,b.a.qb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Zb:function(e){return b.onError?function(){try{return e.apply(this,arguments)}catch(e){throw b.onError&&b.onError(e),e}}:e},setTimeout:function(e,n){return setTimeout(b.a.Zb(e),n)},dc:function(e){setTimeout(function(){throw b.onError&&b.onError(e),e},0)},q:function(e,n,t){var a=b.a.Zb(t);if(t=v&&h[n],b.options.useOnlyNativeEvents||t||!r)if(t||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(n){a.call(e,n)},o="on"+n;e.attachEvent(o,i),b.a.G.qa(e,function(){e.detachEvent(o,i)})}else e.addEventListener(n,a,!1);else r(e).bind(n,a)},Fa:function(e,a){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var i;if("input"===b.a.A(e)&&e.type&&"click"==a.toLowerCase()?(i=e.type,i="checkbox"==i||"radio"==i):i=!1,b.options.useOnlyNativeEvents||!r||i)if("function"==typeof t.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");i=t.createEvent(p[a]||"HTMLEvents"),i.initEvent(a,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i)}else if(i&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+a)}else r(e).trigger(a)},c:function(e){return b.I(e)?e():e},Bb:function(e){return b.I(e)?e.p():e},fb:function(e,n,t){var a;n&&("object"==typeof e.classList?(a=e.classList[t?"add":"remove"],b.a.r(n.match(g),function(n){a.call(e.classList,n)})):"string"==typeof e.className.baseVal?s(e.className,"baseVal",n,t):s(e,"className",n,t))},bb:function(n,t){var a=b.a.c(t);null!==a&&a!==e||(a="");var r=b.f.firstChild(n);!r||3!=r.nodeType||b.f.nextSibling(r)?b.f.fa(n,[n.ownerDocument.createTextNode(a)]):r.data=a,b.a.Wc(n)},vc:function(e,n){if(e.name=n,7>=v)try{e.mergeAttributes(t.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Wc:function(e){9<=v&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},Sc:function(e){if(v){var n=e.style.width;e.style.width=0,e.style.width=n}},nd:function(e,n){e=b.a.c(e),n=b.a.c(n);for(var t=[],a=e;a<=n;a++)t.push(a);return t},W:function(e){for(var n=[],t=0,a=e.length;t<a;t++)n.push(e[t]);return n},bc:function(e){return l?Symbol(e):e},xd:6===v,yd:7===v,C:v,ic:function(e,n){for(var t=b.a.W(e.getElementsByTagName("input")).concat(b.a.W(e.getElementsByTagName("textarea"))),a="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},r=[],i=t.length-1;0<=i;i--)a(t[i])&&r.push(t[i]);return r},kd:function(e){return"string"==typeof e&&(e=b.a.cb(e))?i&&i.parse?i.parse(e):new Function("return "+e)():null},Gb:function(e,n,t){if(!i||!i.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return i.stringify(b.a.c(e),n,t)},ld:function(e,n,a){a=a||{};var r=a.params||{},i=a.includeFields||this.gc,u=e;if("object"==typeof e&&"form"===b.a.A(e))for(var u=e.action,c=i.length-1;0<=c;c--)for(var s=b.a.ic(e,i[c]),f=s.length-1;0<=f;f--)r[s[f].name]=s[f].value;n=b.a.c(n);var l=t.createElement("form");l.style.display="none",l.action=u,l.method="post";for(var d in n)e=t.createElement("input"),e.type="hidden",e.name=d,e.value=b.a.Gb(b.a.c(n[d])),l.appendChild(e);o(r,function(e,n){var a=t.createElement("input");a.type="hidden",a.name=e,a.value=n,l.appendChild(a)}),t.body.appendChild(l),a.submitter?a.submitter(l):l.submit(),setTimeout(function(){l.parentNode.removeChild(l)},0)}}}(),b.b("utils",b.a),b.b("utils.arrayForEach",b.a.r),b.b("utils.arrayFirst",b.a.Vb),b.b("utils.arrayFilter",b.a.Ma),b.b("utils.arrayGetDistinctValues",b.a.Wb),b.b("utils.arrayIndexOf",b.a.o),b.b("utils.arrayMap",b.a.ib),b.b("utils.arrayPushAll",b.a.ta),b.b("utils.arrayRemoveItem",b.a.Na),b.b("utils.extend",b.a.extend),b.b("utils.fieldsIncludedWithJsonPost",b.a.gc),b.b("utils.getFormFields",b.a.ic),b.b("utils.peekObservable",b.a.Bb),b.b("utils.postJson",b.a.ld),b.b("utils.parseJson",b.a.kd),b.b("utils.registerEventHandler",b.a.q),b.b("utils.stringifyJson",b.a.Gb),b.b("utils.range",b.a.nd),b.b("utils.toggleDomNodeCssClass",b.a.fb),b.b("utils.triggerEvent",b.a.Fa),b.b("utils.unwrapObservable",b.a.c),b.b("utils.objectForEach",b.a.D),b.b("utils.addOrRemoveItem",b.a.ra),b.b("utils.setTextContent",b.a.bb),b.b("unwrap",b.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(1===arguments.length)return function(){return n.apply(e,arguments)};var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice(0);return a.push.apply(a,arguments),n.apply(e,a)}}),b.a.e=new function(){function n(n,i){var o=n[a];if(!o||"null"===o||!r[o]){if(!i)return e;o=n[a]="ko"+t++,r[o]={}}return r[o]}var t=0,a="__ko__"+(new Date).getTime(),r={};return{get:function(t,a){var r=n(t,!1);return r===e?e:r[a]},set:function(t,a,r){r===e&&n(t,!1)===e||(n(t,!0)[a]=r)},clear:function(e){var n=e[a];return!!n&&(delete r[n],e[a]=null,!0)},J:function(){return t+++a}}},b.b("utils.domData",b.a.e),b.b("utils.domData.clear",b.a.e.clear),b.a.G=new function(){function n(n,t){var r=b.a.e.get(n,a);return r===e&&t&&(r=[],b.a.e.set(n,a,r)),r}function t(e){var a=n(e,!1);if(a)for(var a=a.slice(0),r=0;r<a.length;r++)a[r](e);if(b.a.e.clear(e),b.a.G.cleanExternalData(e),o[e.nodeType])for(a=e.firstChild;e=a;)a=e.nextSibling,8===e.nodeType&&t(e)}var a=b.a.e.J(),i={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{qa:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");n(e,!0).push(t)},tc:function(t,r){var i=n(t,!1);i&&(b.a.Na(i,r),0==i.length&&b.a.e.set(t,a,e))},ba:function(e){if(i[e.nodeType]&&(t(e),o[e.nodeType])){var n=[];b.a.ta(n,e.getElementsByTagName("*"));for(var a=0,r=n.length;a<r;a++)t(n[a])}return e},removeNode:function(e){b.ba(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},b.ba=b.a.G.ba,b.removeNode=b.a.G.removeNode,b.b("cleanNode",b.ba),b.b("removeNode",b.removeNode),b.b("utils.domNodeDisposal",b.a.G),b.b("utils.domNodeDisposal.addDisposeCallback",b.a.G.qa),b.b("utils.domNodeDisposal.removeDisposeCallback",b.a.G.tc),function(){var a=[0,"",""],i=[1,"<table>","</table>"],o=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,"<select multiple='multiple'>","</select>"],c={thead:i,tbody:i,tfoot:i,tr:[2,"<table><tbody>","</tbody></table>"],td:o,th:o,option:u,optgroup:u},s=8>=b.a.C;b.a.na=function(e,i){var o;if(r){if(r.parseHTML)o=r.parseHTML(e,i)||[];else if((o=r.clean([e],i))&&o[0]){for(var u=o[0];u.parentNode&&11!==u.parentNode.nodeType;)u=u.parentNode;u.parentNode&&u.parentNode.removeChild(u)}}else{(o=i)||(o=t);var f,u=o.parentWindow||o.defaultView||n,l=b.a.cb(e).toLowerCase(),d=o.createElement("div");for(f=(l=l.match(/^<([a-z]+)[ >]/))&&c[l[1]]||a,l=f[0],f="ignored<div>"+f[1]+e+f[2]+"</div>","function"==typeof u.innerShiv?d.appendChild(u.innerShiv(f)):(s&&o.appendChild(d),d.innerHTML=f,s&&d.parentNode.removeChild(d));l--;)d=d.lastChild;o=b.a.W(d.lastChild.childNodes)}return o},b.a.Eb=function(n,t){if(b.a.rb(n),null!==(t=b.a.c(t))&&t!==e)if("string"!=typeof t&&(t=t.toString()),r)r(n).html(t);else for(var a=b.a.na(t,n.ownerDocument),i=0;i<a.length;i++)n.appendChild(a[i])}}(),b.b("utils.parseHtmlFragment",b.a.na),b.b("utils.setHtml",b.a.Eb),b.N=function(){function n(e,t){if(e)if(8==e.nodeType){var a=b.N.pc(e.nodeValue);null!=a&&t.push({Qc:e,hd:a})}else if(1==e.nodeType)for(var a=0,r=e.childNodes,i=r.length;a<i;a++)n(r[a],t)}var t={};return{yb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[n]=e,"\x3c!--[ko_memo:"+n+"]--\x3e"},Bc:function(n,a){var r=t[n];if(r===e)throw Error("Couldn't find any memo with ID "+n+". Perhaps it's already been unmemoized.");try{return r.apply(null,a||[]),!0}finally{delete t[n]}},Cc:function(e,t){var a=[];n(e,a);for(var r=0,i=a.length;r<i;r++){var o=a[r].Qc,u=[o];t&&b.a.ta(u,t),b.N.Bc(a[r].hd,u),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},pc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),b.b("memoization",b.N),b.b("memoization.memoize",b.N.yb),b.b("memoization.unmemoize",b.N.Bc),b.b("memoization.parseMemoText",b.N.pc),b.b("memoization.unmemoizeDomNodeAndDescendants",b.N.Cc),b.Z=function(){function e(){if(i)for(var e,n=i,t=0;u<i;)if(e=r[u++]){if(u>n){if(5e3<=++t){u=i,b.a.dc(Error("'Too much recursion' after processing "+t+" task groups."));break}n=i}try{e()}catch(e){b.a.dc(e)}}}function a(){e(),u=i=r.length=0}var r=[],i=0,o=1,u=0;return{scheduler:n.MutationObserver?function(e){var n=t.createElement("div");return new MutationObserver(e).observe(n,{attributes:!0}),function(){n.classList.toggle("foo")}}(a):t&&"onreadystatechange"in t.createElement("script")?function(e){var n=t.createElement("script");n.onreadystatechange=function(){n.onreadystatechange=null,t.documentElement.removeChild(n),n=null,e()},t.documentElement.appendChild(n)}:function(e){setTimeout(e,0)},Za:function(e){return i||b.Z.scheduler(a),r[i++]=e,o++},cancel:function(e){(e-=o-i)>=u&&e<i&&(r[e]=null)},resetForTesting:function(){var e=i-u;return u=i=r.length=0,e},rd:e}}(),b.b("tasks",b.Z),b.b("tasks.schedule",b.Z.Za),b.b("tasks.runEarly",b.Z.rd),b.Aa={throttle:function(e,n){e.throttleEvaluation=n;var t=null;return b.B({read:e,write:function(a){clearTimeout(t),t=b.a.setTimeout(function(){e(a)},n)}})},rateLimit:function(e,n){var t,a,r;"number"==typeof n?t=n:(t=n.timeout,a=n.method),e.gb=!1,r="notifyWhenChangesStop"==a?f:s,e.Wa(function(e){return r(e,t)})},deferred:function(n,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");n.gb||(n.gb=!0,n.Wa(function(t){var a,r=!1;return function(){if(!r){b.Z.cancel(a),a=b.Z.Za(t);try{r=!0,n.notifySubscribers(e,"dirty")}finally{r=!1}}}}))},notify:function(e,n){e.equalityComparer="always"==n?null:c}};var v={undefined:1,boolean:1,number:1,string:1};b.b("extenders",b.Aa),b.zc=function(e,n,t){this.$=e,this.jb=n,this.Pc=t,this.T=!1,b.H(this,"dispose",this.k)},b.zc.prototype.k=function(){this.T=!0,this.Pc()},b.K=function(){b.a.ab(this,m),m.ub(this)};var g="change",m={ub:function(e){e.F={change:[]},e.Qb=1},Y:function(e,n,t){var a=this;t=t||g;var r=new b.zc(a,n?e.bind(n):e,function(){b.a.Na(a.F[t],r),a.Ka&&a.Ka(t)});return a.ua&&a.ua(t),a.F[t]||(a.F[t]=[]),a.F[t].push(r),r},notifySubscribers:function(e,n){if(n=n||g,n===g&&this.Kb(),this.Ra(n)){var t=n===g&&this.Fc||this.F[n].slice(0);try{b.l.Xb();for(var a,r=0;a=t[r];++r)a.T||a.jb(e)}finally{b.l.end()}}},Pa:function(){return this.Qb},Zc:function(e){return this.Pa()!==e},Kb:function(){++this.Qb},Wa:function(e){var n,t,a,r,i=this,o=b.I(i);i.Ja||(i.Ja=i.notifySubscribers,i.notifySubscribers=l);var u=e(function(){i.Ha=!1,o&&r===i&&(r=i.Mb?i.Mb():i());var e=t||i.Ua(a,r);t=n=!1,e&&i.Ja(a=r)});i.Pb=function(e){i.Fc=i.F[g].slice(0),i.Ha=n=!0,r=e,u()},i.Ob=function(e){n||(a=e,i.Ja(e,"beforeChange"))},i.Hc=function(){i.Ua(a,i.p(!0))&&(t=!0)}},Ra:function(e){return this.F[e]&&this.F[e].length},Xc:function(e){if(e)return this.F[e]&&this.F[e].length||0;var n=0;return b.a.D(this.F,function(e,t){"dirty"!==e&&(n+=t.length)}),n},Ua:function(e,n){return!this.equalityComparer||!this.equalityComparer(e,n)},extend:function(e){var n=this;return e&&b.a.D(e,function(e,t){var a=b.Aa[e];"function"==typeof a&&(n=a(n,t)||n)}),n}};b.H(m,"subscribe",m.Y),b.H(m,"extend",m.extend),b.H(m,"getSubscriptionsCount",m.Xc),b.a.la&&b.a.$a(m,Function.prototype),b.K.fn=m,b.lc=function(e){return null!=e&&"function"==typeof e.Y&&"function"==typeof e.notifySubscribers},b.b("subscribable",b.K),b.b("isSubscribable",b.lc),b.xa=b.l=function(){function e(e){a.push(t),t=e}function n(){t=a.pop()}var t,a=[],r=0;return{Xb:e,end:n,sc:function(e){if(t){if(!b.lc(e))throw Error("Only subscribable things can act as dependencies");t.jb.call(t.Lc,e,e.Gc||(e.Gc=++r))}},w:function(t,a,r){try{return e(),t.apply(a,r||[])}finally{n()}},Ca:function(){if(t)return t.m.Ca()},Va:function(){if(t)return t.Va}}}(),b.b("computedContext",b.xa),b.b("computedContext.getDependenciesCount",b.xa.Ca),b.b("computedContext.isInitial",b.xa.Va),b.b("ignoreDependencies",b.wd=b.l.w);var y=b.a.bc("_latestValue");b.O=function(e){function n(){return 0<arguments.length?(n.Ua(n[y],arguments[0])&&(n.ia(),n[y]=arguments[0],n.ha()),this):(b.l.sc(n),n[y])}return n[y]=e,b.a.la||b.a.extend(n,b.K.fn),b.K.fn.ub(n),b.a.ab(n,w),b.options.deferUpdates&&b.Aa.deferred(n,!0),n};var w={equalityComparer:c,p:function(){return this[y]},ha:function(){this.notifySubscribers(this[y])},ia:function(){this.notifySubscribers(this[y],"beforeChange")}};b.a.la&&b.a.$a(w,b.K.fn);var x=b.O.md="__ko_proto__";w[x]=b.O,b.Qa=function(n,t){return null!==n&&n!==e&&n[x]!==e&&(n[x]===t||b.Qa(n[x],t))},b.I=function(e){return b.Qa(e,b.O)},b.Da=function(e){return!!("function"==typeof e&&e[x]===b.O||"function"==typeof e&&e[x]===b.B&&e.$c)},b.b("observable",b.O),b.b("isObservable",b.I),b.b("isWriteableObservable",b.Da),b.b("isWritableObservable",b.Da),b.b("observable.fn",w),b.H(w,"peek",w.p),b.H(w,"valueHasMutated",w.ha),b.H(w,"valueWillMutate",w.ia),b.ma=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=b.O(e),b.a.ab(e,b.ma.fn),e.extend({trackArrayChanges:!0})},b.ma.fn={remove:function(e){for(var n=this.p(),t=[],a="function"!=typeof e||b.I(e)?function(n){return n===e}:e,r=0;r<n.length;r++){var i=n[r];a(i)&&(0===t.length&&this.ia(),t.push(i),n.splice(r,1),r--)}return t.length&&this.ha(),t},removeAll:function(n){if(n===e){var t=this.p(),a=t.slice(0);return this.ia(),t.splice(0,t.length),this.ha(),a}return n?this.remove(function(e){return 0<=b.a.o(n,e)}):[]},destroy:function(e){var n=this.p(),t="function"!=typeof e||b.I(e)?function(n){return n===e}:e;this.ia();for(var a=n.length-1;0<=a;a--)t(n[a])&&(n[a]._destroy=!0);this.ha()},destroyAll:function(n){return n===e?this.destroy(function(){return!0}):n?this.destroy(function(e){return 0<=b.a.o(n,e)}):[]},indexOf:function(e){var n=this();return b.a.o(n,e)},replace:function(e,n){var t=this.indexOf(e);0<=t&&(this.ia(),this.p()[t]=n,this.ha())}},b.a.la&&b.a.$a(b.ma.fn,b.O.fn),b.a.r("pop push reverse shift sort splice unshift".split(" "),function(e){b.ma.fn[e]=function(){var n=this.p();this.ia(),this.Yb(n,e,arguments);var t=n[e].apply(n,arguments);return this.ha(),t===n?this:t}}),b.a.r(["slice"],function(e){b.ma.fn[e]=function(){var n=this();return n[e].apply(n,arguments)}}),b.b("observableArray",b.ma),b.Aa.trackArrayChanges=function(n,t){function a(){if(!o){o=!0,i=n.notifySubscribers,n.notifySubscribers=function(e,n){return n&&n!==g||++c,i.apply(this,arguments)};var e=[].concat(n.p()||[]);u=null,r=n.Y(function(t){if(t=[].concat(t||[]),n.Ra("arrayChange")){var a;(!u||1<c)&&(u=b.a.lb(e,t,n.kb)),a=u}e=t,u=null,c=0,a&&a.length&&n.notifySubscribers(a,"arrayChange")})}}if(n.kb={},t&&"object"==typeof t&&b.a.extend(n.kb,t),n.kb.sparse=!0,!n.Yb){var r,i,o=!1,u=null,c=0,s=n.ua,f=n.Ka;n.ua=function(e){s&&s.call(n,e),"arrayChange"===e&&a()},n.Ka=function(t){f&&f.call(n,t),"arrayChange"!==t||n.Ra("arrayChange")||(i&&(n.notifySubscribers=i,i=e),r.k(),o=!1)},n.Yb=function(e,n,t){function a(e,n,t){return r[r.length]={status:e,value:n,index:t}}if(o&&!c){var r=[],i=e.length,s=t.length,f=0;switch(n){case"push":f=i;case"unshift":for(n=0;n<s;n++)a("added",t[n],f+n);break;case"pop":f=i-1;case"shift":i&&a("deleted",e[f],f);break;case"splice":n=Math.min(Math.max(0,0>t[0]?i+t[0]:t[0]),i);for(var i=1===s?i:Math.min(n+(t[1]||0),i),s=n+s-2,f=Math.max(i,s),l=[],d=[],p=2;n<f;++n,++p)n<i&&d.push(a("deleted",e[n],n)),n<s&&l.push(a("added",t[p],n));b.a.hc(d,l);break;default:return}u=r}}}};var k=b.a.bc("_state");b.m=b.B=function(n,t,a){function r(){if(0<arguments.length){if("function"!=typeof i)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(o.sb,arguments),this}return b.l.sc(r),(o.V||o.t&&r.Sa())&&r.U(),o.M}if("object"==typeof n?a=n:(a=a||{},n&&(a.read=n)),"function"!=typeof a.read)throw Error("Pass a function that returns the value of the ko.computed");var i=a.write,o={M:e,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:a.read,sb:t||a.owner,i:a.disposeWhenNodeIsRemoved||a.i||null,ya:a.disposeWhen||a.ya,pb:null,s:{},L:0,fc:null};return r[k]=o,r.$c="function"==typeof i,b.a.la||b.a.extend(r,b.K.fn),b.K.fn.ub(r),b.a.ab(r,E),a.pure?(o.Ya=!0,o.t=!0,b.a.extend(r,T)):a.deferEvaluation&&b.a.extend(r,C),b.options.deferUpdates&&b.Aa.deferred(r,!0),o.i&&(o.Hb=!0,o.i.nodeType||(o.i=null)),o.t||a.deferEvaluation||r.U(),o.i&&r.ca()&&b.a.G.qa(o.i,o.pb=function(){r.k()}),r};var E={equalityComparer:c,Ca:function(){return this[k].L},Sb:function(e,n,t){if(this[k].Ya&&n===this)throw Error("A 'pure' computed must not be called recursively");this[k].s[e]=t,t.Ia=this[k].L++,t.pa=n.Pa()},Sa:function(){var e,n,t=this[k].s;for(e in t)if(t.hasOwnProperty(e)&&(n=t[e],this.oa&&n.$.Ha||n.$.Zc(n.pa)))return!0},gd:function(){this.oa&&!this[k].Ta&&this.oa(!1)},ca:function(){var e=this[k];return e.V||0<e.L},qd:function(){this.Ha?this[k].V&&(this[k].da=!0):this.ec()},yc:function(e){if(e.gb&&!this[k].i){var n=e.Y(this.gd,this,"dirty"),t=e.Y(this.qd,this);return{$:e,k:function(){n.k(),t.k()}}}return e.Y(this.ec,this)},ec:function(){var e=this,n=e.throttleEvaluation;n&&0<=n?(clearTimeout(this[k].fc),this[k].fc=b.a.setTimeout(function(){e.U(!0)},n)):e.oa?e.oa(!0):e.U(!0)},U:function(e){var n=this[k],t=n.ya,a=!1;if(!n.Ta&&!n.T){if(n.i&&!b.a.qb(n.i)||t&&t()){if(!n.Hb)return void this.k()}else n.Hb=!1;n.Ta=!0;try{a=this.Vc(e)}finally{n.Ta=!1}return n.L||this.k(),a}},Vc:function(n){var t=this[k],a=!1,r=t.Ya?e:!t.L,i={Mc:this,Oa:t.s,ob:t.L};return b.l.Xb({Lc:i,jb:p,m:this,Va:r}),t.s={},t.L=0,i=this.Uc(t,i),this.Ua(t.M,i)&&(t.t||this.notifySubscribers(t.M,"beforeChange"),t.M=i,t.t?this.Kb():n&&this.notifySubscribers(t.M),a=!0),r&&this.notifySubscribers(t.M,"awake"),a},Uc:function(e,n){try{var t=e.od;return e.sb?t.call(e.sb):t()}finally{b.l.end(),n.ob&&!e.t&&b.a.D(n.Oa,d),e.da=e.V=!1}},p:function(e){var n=this[k];return(n.V&&(e||!n.L)||n.t&&this.Sa())&&this.U(),n.M},Wa:function(e){b.K.fn.Wa.call(this,e),this.Mb=function(){return this[k].da?this.U():this[k].V=!1,this[k].M},this.oa=function(e){this.Ob(this[k].M),this[k].V=!0,e&&(this[k].da=!0),this.Pb(this)}},k:function(){var e=this[k];!e.t&&e.s&&b.a.D(e.s,function(e,n){n.k&&n.k()}),e.i&&e.pb&&b.a.G.tc(e.i,e.pb),e.s=null,e.L=0,e.T=!0,e.da=!1,e.V=!1,e.t=!1,e.i=null}},T={ua:function(e){var n=this,t=n[k];if(!t.T&&t.t&&"change"==e){if(t.t=!1,t.da||n.Sa())t.s=null,t.L=0,n.U()&&n.Kb();else{var a=[];b.a.D(t.s,function(e,n){a[n.Ia]=e}),b.a.r(a,function(e,a){var r=t.s[e],i=n.yc(r.$);i.Ia=a,i.pa=r.pa,t.s[e]=i})}t.T||n.notifySubscribers(t.M,"awake")}},Ka:function(n){var t=this[k];t.T||"change"!=n||this.Ra("change")||(b.a.D(t.s,function(e,n){n.k&&(t.s[e]={$:n.$,Ia:n.Ia,pa:n.pa},n.k())}),t.t=!0,this.notifySubscribers(e,"asleep"))},Pa:function(){var e=this[k];return e.t&&(e.da||this.Sa())&&this.U(),b.K.fn.Pa.call(this)}},C={ua:function(e){"change"!=e&&"beforeChange"!=e||this.p()}};b.a.la&&b.a.$a(E,b.K.fn);var N=b.O.md;b.m[N]=b.O,E[N]=b.m,b.bd=function(e){return b.Qa(e,b.m)},b.cd=function(e){return b.Qa(e,b.m)&&e[k]&&e[k].Ya},b.b("computed",b.m),b.b("dependentObservable",b.m),b.b("isComputed",b.bd),b.b("isPureComputed",b.cd),b.b("computed.fn",E),b.H(E,"peek",E.p),b.H(E,"dispose",E.k),b.H(E,"isActive",E.ca),b.H(E,"getDependenciesCount",E.Ca),b.rc=function(e,n){return"function"==typeof e?b.m(e,n,{pure:!0}):(e=b.a.extend({},e),e.pure=!0,b.m(e,n))},b.b("pureComputed",b.rc),function(){function n(r,i,o){if(o=o||new a,"object"!=typeof(r=i(r))||null===r||r===e||r instanceof RegExp||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var u=r instanceof Array?[]:{};return o.save(r,u),t(r,function(t){var a=i(r[t]);switch(typeof a){case"boolean":case"number":case"string":case"function":u[t]=a;break;case"object":case"undefined":var c=o.get(a);u[t]=c!==e?c:n(a,i,o)}}),u}function t(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)n(t);"function"==typeof e.toJSON&&n("toJSON")}else for(t in e)n(t)}function a(){this.keys=[],this.Lb=[]}b.Ac=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return n(e,function(e){for(var n=0;b.I(e)&&10>n;n++)e=e();return e})},b.toJSON=function(e,n,t){return e=b.Ac(e),b.a.Gb(e,n,t)},a.prototype={save:function(e,n){var t=b.a.o(this.keys,e);0<=t?this.Lb[t]=n:(this.keys.push(e),this.Lb.push(n))},get:function(n){return n=b.a.o(this.keys,n),0<=n?this.Lb[n]:e}}}(),b.b("toJS",b.Ac),b.b("toJSON",b.toJSON),function(){b.j={u:function(n){switch(b.a.A(n)){case"option":return!0===n.__ko__hasDomDataOptionValue__?b.a.e.get(n,b.d.options.zb):7>=b.a.C?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return 0<=n.selectedIndex?b.j.u(n.options[n.selectedIndex]):e;default:return n.value}},ja:function(n,t,a){switch(b.a.A(n)){case"option":switch(typeof t){case"string":b.a.e.set(n,b.d.options.zb,e),"__ko__hasDomDataOptionValue__"in n&&delete n.__ko__hasDomDataOptionValue__,n.value=t;break;default:b.a.e.set(n,b.d.options.zb,t),n.__ko__hasDomDataOptionValue__=!0,n.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=e);for(var r,i=-1,o=0,u=n.options.length;o<u;++o)if((r=b.j.u(n.options[o]))==t||""==r&&t===e){i=o;break}(a||0<=i||t===e&&1<n.size)&&(n.selectedIndex=i);break;default:null!==t&&t!==e||(t=""),n.value=t}}}}(),b.b("selectExtensions",b.j),b.b("selectExtensions.readValue",b.j.u),b.b("selectExtensions.writeValue",b.j.ja),b.h=function(){function e(e){e=b.a.cb(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var n,t=[],o=e.match(a),u=[],c=0;if(o){o.push(",");for(var s,f=0;s=o[f];++f){var l=s.charCodeAt(0);if(44===l){if(0>=c){t.push(n&&u.length?{key:n,value:u.join("")}:{unknown:n||u.join("")}),n=c=0,u=[];continue}}else if(58===l){if(!c&&!n&&1===u.length){n=u.pop();continue}}else 47===l&&f&&1<s.length?(l=o[f-1].match(r))&&!i[l[0]]&&(e=e.substr(e.indexOf(s)+1),o=e.match(a),o.push(","),f=-1,s="/"):40===l||123===l||91===l?++c:41===l||125===l||93===l?--c:n||u.length||34!==l&&39!==l||(s=s.slice(1,-1));u.push(s)}}return t}var n=["true","false","null","undefined"],t=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,a=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),r=/[\])"'A-Za-z0-9_$]+$/,i={in:1,return:1,typeof:1},o={};return{va:[],ga:o,Ab:e,Xa:function(a,r){function i(e,a){var r;if(!f){var l=b.getBindingHandler(e);if(l&&l.preprocess&&!(a=l.preprocess(a,e,i)))return;(l=o[e])&&(r=a,0<=b.a.o(n,r)?r=!1:(l=r.match(t),r=null!==l&&(l[1]?"Object("+l[1]+")"+l[2]:r)),l=r),l&&c.push("'"+e+"':function(_z){"+r+"=_z}")}s&&(a="function(){return "+a+" }"),u.push("'"+e+"':"+a)}r=r||{};var u=[],c=[],s=r.valueAccessors,f=r.bindingParams,l="string"==typeof a?e(a):a;return b.a.r(l,function(e){i(e.key||e.unknown,e.value)}),c.length&&i("_ko_property_writers","{"+c.join(",")+" }"),u.join(",")},fd:function(e,n){for(var t=0;t<e.length;t++)if(e[t].key==n)return!0;return!1},Ga:function(e,n,t,a,r){e&&b.I(e)?!b.Da(e)||r&&e.p()===a||e(a):(e=n.get("_ko_property_writers"))&&e[t]&&e[t](a)}}}(),b.b("expressionRewriting",b.h),b.b("expressionRewriting.bindingRewriteValidators",b.h.va),b.b("expressionRewriting.parseObjectLiteral",b.h.Ab),b.b("expressionRewriting.preProcessBindings",b.h.Xa),b.b("expressionRewriting._twoWayBindings",b.h.ga),b.b("jsonExpressionRewriting",b.h),b.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",b.h.Xa),function(){function e(e){return 8==e.nodeType&&o.test(i?e.text:e.nodeValue)}function n(e){return 8==e.nodeType&&u.test(i?e.text:e.nodeValue)}function a(t,a){for(var r=t,i=1,o=[];r=r.nextSibling;){if(n(r)&&0===--i)return o;o.push(r),e(r)&&i++}if(!a)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function r(e,n){var t=a(e,n);return t?0<t.length?t[t.length-1].nextSibling:e.nextSibling:null}var i=t&&"\x3c!--test--\x3e"===t.createComment("test").text,o=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,u=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};b.f={aa:{},childNodes:function(n){return e(n)?a(n):n.childNodes},za:function(n){if(e(n)){n=b.f.childNodes(n);for(var t=0,a=n.length;t<a;t++)b.removeNode(n[t])}else b.a.rb(n)},fa:function(n,t){if(e(n)){b.f.za(n);for(var a=n.nextSibling,r=0,i=t.length;r<i;r++)a.parentNode.insertBefore(t[r],a)}else b.a.fa(n,t)},qc:function(n,t){e(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},kc:function(n,t,a){a?e(n)?n.parentNode.insertBefore(t,a.nextSibling):a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):b.f.qc(n,t)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return e(t)&&(t=r(t)),t.nextSibling&&n(t.nextSibling)?null:t.nextSibling},Yc:e,vd:function(e){return(e=(i?e.text:e.nodeValue).match(o))?e[1]:null},oc:function(t){if(c[b.a.A(t)]){var a=t.firstChild;if(a)do{if(1===a.nodeType){var i;i=a.firstChild;var o=null;if(i)do{if(o)o.push(i);else if(e(i)){var u=r(i,!0);u?i=u:o=[i]}else n(i)&&(o=[i])}while(i=i.nextSibling);if(i=o)for(o=a.nextSibling,u=0;u<i.length;u++)o?t.insertBefore(i[u],o):t.appendChild(i[u])}}while(a=a.nextSibling)}}}}(),b.b("virtualElements",b.f),b.b("virtualElements.allowedBindings",b.f.aa),b.b("virtualElements.emptyNode",b.f.za),b.b("virtualElements.insertAfter",b.f.kc),b.b("virtualElements.prepend",b.f.qc),b.b("virtualElements.setDomNodeChildren",b.f.fa),function(){b.S=function(){this.Kc={}},b.a.extend(b.S.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||b.g.getComponentNameForNode(e);case 8:return b.f.Yc(e);default:return!1}},getBindings:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e):null;return b.g.Rb(t,e,n,!1)},getBindingAccessors:function(e,n){var t=this.getBindingsString(e,n),t=t?this.parseBindingsString(t,n,e,{valueAccessors:!0}):null;return b.g.Rb(t,e,n,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return b.f.vd(e);default:return null}},parseBindingsString:function(e,n,t,a){try{var r,i=this.Kc,o=e+(a&&a.valueAccessors||"");if(!(r=i[o])){var u,c="with($context){with($data||{}){return{"+b.h.Xa(e,a)+"}}}";u=new Function("$context","$element",c),r=i[o]=u}return r(n,t)}catch(n){throw n.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+n.message,n}}}),b.S.instance=new b.S}(),b.b("bindingProvider",b.S),function(){function t(e){return function(){return e}}function a(e){return e()}function i(e){
return b.a.Ea(b.l.w(e),function(n,t){return function(){return e()[t]}})}function o(e,n,a){return"function"==typeof e?i(e.bind(null,n,a)):b.a.Ea(e,t)}function u(e,n){return i(this.getBindings.bind(this,e,n))}function c(e,n,t){var a,r=b.f.firstChild(n),i=b.S.instance,o=i.preprocessNode;if(o){for(;a=r;)r=b.f.nextSibling(a),o.call(i,a);r=b.f.firstChild(n)}for(;a=r;)r=b.f.nextSibling(a),s(e,a,t)}function s(e,n,t){var a=!0,r=1===n.nodeType;r&&b.f.oc(n),(r&&t||b.S.instance.nodeHasBindings(n))&&(a=l(n,null,e,t).shouldBindDescendants),a&&!p[b.a.A(n)]&&c(e,n,!r)}function f(e){var n=[],t={},a=[];return b.a.D(e,function r(i){if(!t[i]){var o=b.getBindingHandler(i);o&&(o.after&&(a.push(i),b.a.r(o.after,function(n){if(e[n]){if(-1!==b.a.o(a,n))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+a.join(", "));r(n)}}),a.length--),n.push({key:i,jc:o})),t[i]=!0}}),n}function l(n,t,r,i){var o=b.a.e.get(n,h);if(!t){if(o)throw Error("You cannot apply bindings multiple times to the same element.");b.a.e.set(n,h,!0)}!o&&i&&b.xc(n,r);var c;if(t&&"function"!=typeof t)c=t;else{var s=b.S.instance,l=s.getBindingAccessors||u,d=b.B(function(){return(c=t?t(r,n):l.call(s,n,r))&&r.Q&&r.Q(),c},null,{i:n});c&&d.ca()||(d=null)}var p;if(c){var v=d?function(e){return function(){return a(d()[e])}}:function(e){return c[e]},g=function(){return b.a.Ea(d?d():c,a)};g.get=function(e){return c[e]&&a(v(e))},g.has=function(e){return e in c},i=f(c),b.a.r(i,function(t){var a=t.jc.init,i=t.jc.update,o=t.key;if(8===n.nodeType&&!b.f.aa[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof a&&b.l.w(function(){var t=a(n,v(o),g,r.$data,r);if(t&&t.controlsDescendantBindings){if(p!==e)throw Error("Multiple bindings ("+p+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");p=o}}),"function"==typeof i&&b.B(function(){i(n,v(o),g,r.$data,r)},null,{i:n})}catch(e){throw e.message='Unable to process binding "'+o+": "+c[o]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:p===e}}function d(e){return e&&e instanceof b.R?e:new b.R(e)}b.d={};var p={script:!0,textarea:!0,template:!0};b.getBindingHandler=function(e){return b.d[e]},b.R=function(n,t,a,r,i){function o(){var e=l?n():n,i=b.a.c(e);return t?(t.Q&&t.Q(),b.a.extend(f,t),f.Q=s):(f.$parents=[],f.$root=i,f.ko=b),f.$rawData=e,f.$data=i,a&&(f[a]=i),r&&r(f,t,i),f.$data}function u(){return c&&!b.a.Tb(c)}var c,s,f=this,l="function"==typeof n&&!b.I(n);i&&i.exportDependencies?o():(s=b.B(o,null,{ya:u,i:!0}),s.ca()&&(f.Q=s,s.equalityComparer=null,c=[],s.Dc=function(n){c.push(n),b.a.G.qa(n,function(n){b.a.Na(c,n),c.length||(s.k(),f.Q=s=e)})}))},b.R.prototype.createChildContext=function(e,n,t,a){return new b.R(e,this,n,function(e,n){e.$parentContext=n,e.$parent=n.$data,e.$parents=(n.$parents||[]).slice(0),e.$parents.unshift(e.$parent),t&&t(e)},a)},b.R.prototype.extend=function(e){return new b.R(this.Q||this.$data,this,null,function(n,t){n.$rawData=t.$rawData,b.a.extend(n,"function"==typeof e?e():e)})},b.R.prototype.ac=function(e,n){return this.createChildContext(e,n,null,{exportDependencies:!0})};var h=b.a.e.J(),v=b.a.e.J();b.xc=function(e,n){if(2!=arguments.length)return b.a.e.get(e,v);b.a.e.set(e,v,n),n.Q&&n.Q.Dc(e)},b.La=function(e,n,t){return 1===e.nodeType&&b.f.oc(e),l(e,n,d(t),!0)},b.Ic=function(e,n,t){return t=d(t),b.La(e,o(n,t,e),t)},b.hb=function(e,n){1!==n.nodeType&&8!==n.nodeType||c(d(e),n,!0)},b.Ub=function(e,t){if(!r&&n.jQuery&&(r=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,s(d(e),t,!0)},b.nb=function(n){switch(n.nodeType){case 1:case 8:var t=b.xc(n);if(t)return t;if(n.parentNode)return b.nb(n.parentNode)}return e},b.Oc=function(n){return(n=b.nb(n))?n.$data:e},b.b("bindingHandlers",b.d),b.b("applyBindings",b.Ub),b.b("applyBindingsToDescendants",b.hb),b.b("applyBindingAccessorsToNode",b.La),b.b("applyBindingsToNode",b.Ic),b.b("contextFor",b.nb),b.b("dataFor",b.Oc)}(),function(e){function n(n,a){var o,u=r.hasOwnProperty(n)?r[n]:e;u?u.Y(a):(u=r[n]=new b.K,u.Y(a),t(n,function(e,t){var a=!(!t||!t.synchronous);i[n]={definition:e,dd:a},delete r[n],o||a?u.notifySubscribers(e):b.Z.Za(function(){u.notifySubscribers(e)})}),o=!0)}function t(e,n){a("getConfig",[e],function(t){t?a("loadComponent",[e,t],function(e){n(e,t)}):n(null,null)})}function a(n,t,r,i){i||(i=b.g.loaders.slice(0));var o=i.shift();if(o){var u=o[n];if(u){var c=!1;if(u.apply(o,t.concat(function(e){c?r(null):null!==e?r(e):a(n,t,r,i)}))!==e&&(c=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else a(n,t,r,i)}else r(null)}var r={},i={};b.g={get:function(t,a){var r=i.hasOwnProperty(t)?i[t]:e;r?r.dd?b.l.w(function(){a(r.definition)}):b.Z.Za(function(){a(r.definition)}):n(t,a)},$b:function(e){delete i[e]},Nb:a},b.g.loaders=[],b.b("components",b.g),b.b("components.get",b.g.get),b.b("components.clearCachedDefinition",b.g.$b)}(),function(){function e(e,n,t,a){function r(){0==--u&&a(i)}var i={},u=2,c=t.template;t=t.viewModel,c?o(n,c,function(n){b.g.Nb("loadTemplate",[e,n],function(e){i.template=e,r()})}):r(),t?o(n,t,function(n){b.g.Nb("loadViewModel",[e,n],function(e){i[f]=e,r()})}):r()}function a(e,n,t){if("function"==typeof n)t(function(e){return new n(e)});else if("function"==typeof n[f])t(n[f]);else if("instance"in n){var r=n.instance;t(function(){return r})}else"viewModel"in n?a(e,n.viewModel,t):e("Unknown viewModel value: "+n)}function r(e){switch(b.a.A(e)){case"script":return b.a.na(e.text);case"textarea":return b.a.na(e.value);case"template":if(i(e.content))return b.a.wa(e.content.childNodes)}return b.a.wa(e.childNodes)}function i(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,t,a){"string"==typeof t.require?u||n.require?(u||n.require)([t.require],a):e("Uses require, but no AMD loader is present"):a(t)}function c(e){return function(n){throw Error("Component '"+e+"': "+n)}}var s={};b.g.register=function(e,n){if(!n)throw Error("Invalid configuration for "+e);if(b.g.wb(e))throw Error("Component "+e+" is already registered");s[e]=n},b.g.wb=function(e){return s.hasOwnProperty(e)},b.g.ud=function(e){delete s[e],b.g.$b(e)},b.g.cc={getConfig:function(e,n){n(s.hasOwnProperty(e)?s[e]:null)},loadComponent:function(n,t,a){var r=c(n);o(r,t,function(t){e(n,r,t,a)})},loadTemplate:function(e,a,o){if(e=c(e),"string"==typeof a)o(b.a.na(a));else if(a instanceof Array)o(a);else if(i(a))o(b.a.W(a.childNodes));else if(a.element)if(a=a.element,n.HTMLElement?a instanceof HTMLElement:a&&a.tagName&&1===a.nodeType)o(r(a));else if("string"==typeof a){var u=t.getElementById(a);u?o(r(u)):e("Cannot find element with ID "+a)}else e("Unknown element type: "+a);else e("Unknown template value: "+a)},loadViewModel:function(e,n,t){a(c(e),n,t)}};var f="createViewModel";b.b("components.register",b.g.register),b.b("components.isRegistered",b.g.wb),b.b("components.unregister",b.g.ud),b.b("components.defaultLoader",b.g.cc),b.g.loaders.push(b.g.cc),b.g.Ec=s}(),function(){function e(e,t){var a=e.getAttribute("params");if(a){var a=n.parseBindingsString(a,t,e,{valueAccessors:!0,bindingParams:!0}),a=b.a.Ea(a,function(n){return b.m(n,null,{i:e})}),r=b.a.Ea(a,function(n){var t=n.p();return n.ca()?b.m({read:function(){return b.a.c(n())},write:b.Da(t)&&function(e){n()(e)},i:e}):t});return r.hasOwnProperty("$raw")||(r.$raw=a),r}return{$raw:{}}}b.g.getComponentNameForNode=function(e){var n=b.a.A(e);if(b.g.wb(n)&&(-1!=n.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=b.a.C&&e.tagName===n))return n},b.g.Rb=function(n,t,a,r){if(1===t.nodeType){var i=b.g.getComponentNameForNode(t);if(i){if(n=n||{},n.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:i,params:e(t,a)};n.component=r?function(){return o}:o}}return n};var n=new b.S;9>b.a.C&&(b.g.register=function(e){return function(n){return t.createElement(n),e.apply(this,arguments)}}(b.g.register),t.createDocumentFragment=function(e){return function(){var n,t=e(),a=b.g.Ec;for(n in a)a.hasOwnProperty(n)&&t.createElement(n);return t}}(t.createDocumentFragment))}(),function(e){function n(e,n,t){if(!(n=n.template))throw Error("Component '"+e+"' has no template");e=b.a.wa(n),b.f.fa(t,e)}function t(e,n,t,a){var r=e.createViewModel;return r?r.call(e,a,{element:n,templateNodes:t}):a}var a=0;b.d.component={init:function(e,r,i,o,u){function c(){var e=s&&s.dispose;"function"==typeof e&&e.call(s),f=s=null}var s,f,l=b.a.W(b.f.childNodes(e));return b.a.G.qa(e,c),b.m(function(){var i,o,d=b.a.c(r());if("string"==typeof d?i=d:(i=b.a.c(d.name),o=b.a.c(d.params)),!i)throw Error("No component name specified");var p=f=++a;b.g.get(i,function(a){if(f===p){if(c(),!a)throw Error("Unknown component '"+i+"'");n(i,a,e);var r=t(a,e,l,o);a=u.createChildContext(r,void 0,function(e){e.$component=r,e.$componentTemplateNodes=l}),s=r,b.hb(a,e)}})},null,{i:e}),{controlsDescendantBindings:!0}}},b.f.aa.component=!0}();var S={class:"className",for:"htmlFor"};b.d.attr={update:function(n,t){var a=b.a.c(t())||{};b.a.D(a,function(t,a){a=b.a.c(a);var r=!1===a||null===a||a===e;r&&n.removeAttribute(t),8>=b.a.C&&t in S?(t=S[t],r?n.removeAttribute(t):n[t]=a):r||n.setAttribute(t,a.toString()),"name"===t&&b.a.vc(n,r?"":a.toString())})}},function(){b.d.checked={after:["value","attr"],init:function(n,t,a){function r(){var e=n.checked,r=p?o():e;if(!b.xa.Va()&&(!c||e)){var i=b.l.w(t);if(f){var u=l?i.p():i;d!==r?(e&&(b.a.ra(u,r,!0),b.a.ra(u,d,!1)),d=r):b.a.ra(u,r,e),l&&b.Da(i)&&i(u)}else b.h.Ga(i,a,"checked",r,!0)}}function i(){var e=b.a.c(t());n.checked=f?0<=b.a.o(e,o()):u?e:o()===e}var o=b.rc(function(){return a.has("checkedValue")?b.a.c(a.get("checkedValue")):a.has("value")?b.a.c(a.get("value")):n.value}),u="checkbox"==n.type,c="radio"==n.type;if(u||c){var s=t(),f=u&&b.a.c(s)instanceof Array,l=!(f&&s.push&&s.splice),d=f?o():e,p=c||f;c&&!n.name&&b.d.uniqueName.init(n,function(){return!0}),b.m(r,null,{i:n}),b.a.q(n,"click",r),b.m(i,null,{i:n}),s=e}}},b.h.ga.checked=!0,b.d.checkedValue={update:function(e,n){e.value=b.a.c(n())}}}(),b.d.css={update:function(e,n){var t=b.a.c(n());null!==t&&"object"==typeof t?b.a.D(t,function(n,t){t=b.a.c(t),b.a.fb(e,n,t)}):(t=b.a.cb(String(t||"")),b.a.fb(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,b.a.fb(e,t,!0))}},b.d.enable={update:function(e,n){var t=b.a.c(n());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},b.d.disable={update:function(e,n){b.d.enable.update(e,function(){return!b.a.c(n())})}},b.d.event={init:function(e,n,t,a,r){var i=n()||{};b.a.D(i,function(i){"string"==typeof i&&b.a.q(e,i,function(e){var o,u=n()[i];if(u){try{var c=b.a.W(arguments);a=r.$data,c.unshift(a),o=u.apply(a,c)}finally{!0!==o&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===t.get(i+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},b.d.foreach={mc:function(e){return function(){var n=e(),t=b.a.Bb(n);return t&&"number"!=typeof t.length?(b.a.c(n),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:b.X.vb}):{foreach:n,templateEngine:b.X.vb}}},init:function(e,n){return b.d.template.init(e,b.d.foreach.mc(n))},update:function(e,n,t,a,r){return b.d.template.update(e,b.d.foreach.mc(n),t,a,r)}},b.h.va.foreach=!1,b.f.aa.foreach=!0,b.d.hasfocus={init:function(e,n,t){function a(a){e.__ko_hasfocusUpdating=!0;var r=e.ownerDocument;if("activeElement"in r){var i;try{i=r.activeElement}catch(e){i=r.body}a=i===e}r=n(),b.h.Ga(r,t,"hasfocus",a,!0),e.__ko_hasfocusLastValue=a,e.__ko_hasfocusUpdating=!1}var r=a.bind(null,!0),i=a.bind(null,!1);b.a.q(e,"focus",r),b.a.q(e,"focusin",r),b.a.q(e,"blur",i),b.a.q(e,"focusout",i)},update:function(e,n){var t=!!b.a.c(n());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),!t&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),b.l.w(b.a.Fa,null,[e,t?"focusin":"focusout"]))}},b.h.ga.hasfocus=!0,b.d.hasFocus=b.d.hasfocus,b.h.ga.hasFocus=!0,b.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){b.a.Eb(e,n())}},h("if"),h("ifnot",!1,!0),h("with",!0,!1,function(e,n){return e.ac(n)});var _={};b.d.options={init:function(e){if("select"!==b.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(n,t,a){function r(){return b.a.Ma(n.options,function(e){return e.selected})}function i(e,n,t){var a=typeof n;return"function"==a?n(e):"string"==a?e[n]:t}function o(e,t){if(h&&f)b.j.ja(n,b.a.c(a.get("value")),!0);else if(p.length){var r=0<=b.a.o(p,b.j.u(t[0]));b.a.wc(t[0],r),h&&!r&&b.l.w(b.a.Fa,null,[n,"change"])}}var u=n.multiple,c=0!=n.length&&u?n.scrollTop:null,s=b.a.c(t()),f=a.get("valueAllowUnset")&&a.has("value"),l=a.get("optionsIncludeDestroyed");t={};var d,p=[];f||(u?p=b.a.ib(r(),b.j.u):0<=n.selectedIndex&&p.push(b.j.u(n.options[n.selectedIndex]))),s&&(void 0===s.length&&(s=[s]),d=b.a.Ma(s,function(n){return l||n===e||null===n||!b.a.c(n._destroy)}),a.has("optionsCaption")&&null!==(s=b.a.c(a.get("optionsCaption")))&&s!==e&&d.unshift(_));var h=!1;t.beforeRemove=function(e){n.removeChild(e)},s=o,a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(s=function(n,t){o(0,t),b.l.w(a.get("optionsAfterRender"),null,[t[0],n!==_?n:e])}),b.a.Db(n,d,function(t,r,o){return o.length&&(p=!f&&o[0].selected?[b.j.u(o[0])]:[],h=!0),r=n.ownerDocument.createElement("option"),t===_?(b.a.bb(r,a.get("optionsCaption")),b.j.ja(r,e)):(o=i(t,a.get("optionsValue"),t),b.j.ja(r,b.a.c(o)),t=i(t,a.get("optionsText"),o),b.a.bb(r,t)),[r]},t,s),b.l.w(function(){f?b.j.ja(n,b.a.c(a.get("value")),!0):(u?p.length&&r().length<p.length:p.length&&0<=n.selectedIndex?b.j.u(n.options[n.selectedIndex])!==p[0]:p.length||0<=n.selectedIndex)&&b.a.Fa(n,"change")}),b.a.Sc(n),c&&20<Math.abs(c-n.scrollTop)&&(n.scrollTop=c)}},b.d.options.zb=b.a.e.J(),b.d.selectedOptions={after:["options","foreach"],init:function(e,n,t){b.a.q(e,"change",function(){var a=n(),r=[];b.a.r(e.getElementsByTagName("option"),function(e){e.selected&&r.push(b.j.u(e))}),b.h.Ga(a,t,"selectedOptions",r)})},update:function(e,n){if("select"!=b.a.A(e))throw Error("values binding applies only to SELECT elements");var t=b.a.c(n()),a=e.scrollTop;t&&"number"==typeof t.length&&b.a.r(e.getElementsByTagName("option"),function(e){var n=0<=b.a.o(t,b.j.u(e));e.selected!=n&&b.a.wc(e,n)}),e.scrollTop=a}},b.h.ga.selectedOptions=!0,b.d.style={update:function(n,t){var a=b.a.c(t()||{});b.a.D(a,function(t,a){a=b.a.c(a),null!==a&&a!==e&&!1!==a||(a=""),n.style[t]=a})}},b.d.submit={init:function(e,n,t,a,r){if("function"!=typeof n())throw Error("The value for a submit binding must be a function");b.a.q(e,"submit",function(t){var a,i=n();try{a=i.call(r.$data,e)}finally{!0!==a&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},b.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){b.a.bb(e,n())}},b.f.aa.text=!0,function(){if(n&&n.navigator)var t=function(e){if(e)return parseFloat(e[1])},a=n.opera&&n.opera.version&&parseInt(n.opera.version()),r=n.navigator.userAgent,i=t(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=t(r.match(/Firefox\/([^ ]*)/));if(10>b.a.C)var u=b.a.e.J(),c=b.a.e.J(),s=function(e){var n=this.activeElement;(n=n&&b.a.e.get(n,c))&&n(e)},f=function(e,n){var t=e.ownerDocument;b.a.e.get(t,u)||(b.a.e.set(t,u,!0),b.a.q(t,"selectionchange",s)),b.a.e.set(e,c,n)};b.d.textInput={init:function(n,t,r){function u(e,t){b.a.q(n,e,t)}function c(){var a=b.a.c(t());null!==a&&a!==e||(a=""),p!==e&&a===p?b.a.setTimeout(c,4):n.value!==a&&(h=a,n.value=a)}function s(){d||(p=n.value,d=b.a.setTimeout(l,4))}function l(){clearTimeout(d),p=d=e;var a=n.value;h!==a&&(h=a,b.h.Ga(t(),r,"textInput",a))}var d,p,h=n.value,v=9==b.a.C?s:l;10>b.a.C?(u("propertychange",function(e){"value"===e.propertyName&&v(e)}),8==b.a.C&&(u("keyup",l),u("keydown",l)),8<=b.a.C&&(f(n,v),u("dragend",s))):(u("input",l),5>i&&"textarea"===b.a.A(n)?(u("keydown",s),u("paste",s),u("cut",s)):11>a?u("keydown",s):4>o&&(u("DOMAutoComplete",l),u("dragdrop",l),u("drop",l))),u("change",l),b.m(c,null,{i:n})}},b.h.ga.textInput=!0,b.d.textinput={preprocess:function(e,n,t){t("textInput",e)}}}(),b.d.uniqueName={init:function(e,n){if(n()){var t="ko_unique_"+ ++b.d.uniqueName.Nc;b.a.vc(e,t)}}},b.d.uniqueName.Nc=0,b.d.value={after:["options","foreach"],init:function(e,n,t){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var a=["change"],r=t.get("valueUpdate"),i=!1,o=null;r&&("string"==typeof r&&(r=[r]),b.a.ta(a,r),a=b.a.Wb(a));var u=function(){o=null,i=!1;var a=n(),r=b.j.u(e);b.h.Ga(a,t,"value",r)};!b.a.C||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=b.a.o(a,"propertychange")||(b.a.q(e,"propertychange",function(){i=!0}),b.a.q(e,"focus",function(){i=!1}),b.a.q(e,"blur",function(){i&&u()})),b.a.r(a,function(n){var t=u;b.a.sd(n,"after")&&(t=function(){o=b.j.u(e),b.a.setTimeout(u,0)},n=n.substring(5)),b.a.q(e,n,t)});var c=function(){var a=b.a.c(n()),r=b.j.u(e);if(null!==o&&a===o)b.a.setTimeout(c,0);else if(a!==r)if("select"===b.a.A(e)){var i=t.get("valueAllowUnset"),r=function(){b.j.ja(e,a,i)};r(),i||a===b.j.u(e)?b.a.setTimeout(r,0):b.l.w(b.a.Fa,null,[e,"change"])}else b.j.ja(e,a)};b.m(c,null,{i:e})}else b.La(e,{checkedValue:n})},update:function(){}},b.h.ga.value=!0,b.d.visible={update:function(e,n){var t=b.a.c(n()),a="none"!=e.style.display;t&&!a?e.style.display="":!t&&a&&(e.style.display="none")}},function(e){b.d[e]={init:function(n,t,a,r,i){return b.d.event.init.call(this,n,function(){var n={};return n[e]=t(),n},a,r,i)}}}("click"),b.P=function(){},b.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},b.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},b.P.prototype.makeTemplateSource=function(e,n){if("string"==typeof e){n=n||t;var a=n.getElementById(e);if(!a)throw Error("Cannot find template with ID "+e);return new b.v.n(a)}if(1==e.nodeType||8==e.nodeType)return new b.v.sa(e);throw Error("Unknown template type: "+e)},b.P.prototype.renderTemplate=function(e,n,t,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,n,t,a)},b.P.prototype.isTemplateRewritten=function(e,n){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,n).data("isRewritten")},b.P.prototype.rewriteTemplate=function(e,n,t){e=this.makeTemplateSource(e,t),n=n(e.text()),e.text(n),e.data("isRewritten",!0)},b.b("templateEngine",b.P),b.Ib=function(){function e(e,n,t,a){e=b.h.Ab(e);for(var r=b.h.va,i=0;i<e.length;i++){var o=e[i].key;if(r.hasOwnProperty(o)){var u=r[o];if("function"==typeof u){if(o=u(e[i].value))throw Error(o)}else if(!u)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return t="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+b.h.Xa(e,{valueAccessors:!0})+" } })()},'"+t.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(t)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,t=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(e,n,t){n.isTemplateRewritten(e,t)||n.rewriteTemplate(e,function(e){return b.Ib.jd(e,n)},t)},jd:function(a,r){return a.replace(n,function(n,t,a,i,o){return e(o,t,a,r)}).replace(t,function(n,t){return e(t,"\x3c!-- ko --\x3e","#comment",r)})},Jc:function(e,n){return b.N.yb(function(t,a){var r=t.nextSibling;r&&r.nodeName.toLowerCase()===n&&b.La(r,e,a)})}}}(),b.b("__tr_ambtns",b.Ib.Jc),function(){b.v={},b.v.n=function(e){if(this.n=e){var n=b.a.A(e);this.eb="script"===n?1:"textarea"===n?2:"template"==n&&e.content&&11===e.content.nodeType?3:4}},b.v.n.prototype.text=function(){var e=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[e];var n=arguments[0];"innerHTML"===e?b.a.Eb(this.n,n):this.n[e]=n};var n=b.a.e.J()+"_";b.v.n.prototype.data=function(e){if(1===arguments.length)return b.a.e.get(this.n,n+e);b.a.e.set(this.n,n+e,arguments[1])};var t=b.a.e.J();b.v.n.prototype.nodes=function(){var n=this.n;if(0==arguments.length)return(b.a.e.get(n,t)||{}).mb||(3===this.eb?n.content:4===this.eb?n:e);b.a.e.set(n,t,{mb:arguments[0]})},b.v.sa=function(e){this.n=e},b.v.sa.prototype=new b.v.n,b.v.sa.prototype.text=function(){if(0==arguments.length){var n=b.a.e.get(this.n,t)||{};return n.Jb===e&&n.mb&&(n.Jb=n.mb.innerHTML),n.Jb}b.a.e.set(this.n,t,{Jb:arguments[0]})},b.b("templateSources",b.v),b.b("templateSources.domElement",b.v.n),b.b("templateSources.anonymousTemplate",b.v.sa)}(),function(){function n(e,n,t){var a;for(n=b.f.nextSibling(n);e&&(a=e)!==n;)e=b.f.nextSibling(a),t(a,e)}function t(e,t){if(e.length){var a=e[0],r=e[e.length-1],i=a.parentNode,o=b.S.instance,u=o.preprocessNode;if(u){if(n(a,r,function(e,n){var t=e.previousSibling,i=u.call(o,e);i&&(e===a&&(a=i[0]||n),e===r&&(r=i[i.length-1]||t))}),e.length=0,!a)return;a===r?e.push(a):(e.push(a,r),b.a.Ba(e,i))}n(a,r,function(e){1!==e.nodeType&&8!==e.nodeType||b.Ub(t,e)}),n(a,r,function(e){1!==e.nodeType&&8!==e.nodeType||b.N.Cc(e,[t])}),b.a.Ba(e,i)}}function a(e){return e.nodeType?e:0<e.length?e[0]:null}function r(e,n,r,i,u){u=u||{};var c=(e&&a(e)||r||{}).ownerDocument,s=u.templateEngine||o;if(b.Ib.Tc(r,s,c),r=s.renderTemplate(r,i,u,c),"number"!=typeof r.length||0<r.length&&"number"!=typeof r[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,n){case"replaceChildren":b.f.fa(e,r),c=!0;break;case"replaceNode":b.a.uc(e,r),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return c&&(t(r,i),u.afterRender&&b.l.w(u.afterRender,null,[r,i.$data])),r}function i(e,n,t){return b.I(e)?e():"function"==typeof e?e(n,t):e}var o;b.Fb=function(n){if(n!=e&&!(n instanceof b.P))throw Error("templateEngine must inherit from ko.templateEngine");o=n},b.Cb=function(n,t,u,c,s){if(u=u||{},(u.templateEngine||o)==e)throw Error("Set a template engine before calling renderTemplate");if(s=s||"replaceChildren",c){var f=a(c);return b.B(function(){var e=t&&t instanceof b.R?t:new b.R(t,null,null,null,{exportDependencies:!0}),o=i(n,e.$data,e),e=r(c,s,o,e,u);"replaceNode"==s&&(c=e,f=a(c))},null,{ya:function(){return!f||!b.a.qb(f)},i:f&&"replaceNode"==s?f.parentNode:f})}return b.N.yb(function(e){b.Cb(n,t,u,e,"replaceNode")})},b.pd=function(n,a,o,u,c){function s(e,n){t(n,l),o.afterRender&&o.afterRender(n,e),l=null}function f(e,t){return l=c.createChildContext(e,o.as,function(e){e.$index=t}),r(null,"ignoreTargetNode",i(n,e,l),l,o)}var l;return b.B(function(){var n=b.a.c(a)||[];void 0===n.length&&(n=[n]),n=b.a.Ma(n,function(n){return o.includeDestroyed||n===e||null===n||!b.a.c(n._destroy)}),b.l.w(b.a.Db,null,[u,n,f,o,s])},null,{i:u})};var u=b.a.e.J();b.d.template={init:function(e,n){var t=b.a.c(n());if("string"==typeof t||t.name)b.f.za(e);else{if("nodes"in t){if(t=t.nodes||[],b.I(t))throw Error('The "nodes" option must be a plain, non-observable array.')}else t=b.f.childNodes(e);t=b.a.nc(t),new b.v.sa(e).nodes(t)}return{controlsDescendantBindings:!0}},update:function(n,t,a,r,i){var o=t();t=b.a.c(o),a=!0,r=null,"string"==typeof t?t={}:(o=t.name,"if"in t&&(a=b.a.c(t.if)),a&&"ifnot"in t&&(a=!b.a.c(t.ifnot))),"foreach"in t?r=b.pd(o||n,a&&t.foreach||[],t,n,i):a?(i="data"in t?i.ac(t.data,t.as):i,r=b.Cb(o||n,i,t,n)):b.f.za(n),i=r,(t=b.a.e.get(n,u))&&"function"==typeof t.k&&t.k(),b.a.e.set(n,u,i&&i.ca()?i:e)}},b.h.va.template=function(e){return e=b.h.Ab(e),1==e.length&&e[0].unknown||b.h.fd(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},b.f.aa.template=!0}(),b.b("setTemplateEngine",b.Fb),b.b("renderTemplate",b.Cb),b.a.hc=function(e,n,t){if(e.length&&n.length){var a,r,i,o,u;for(a=r=0;(!t||a<t)&&(o=e[r]);++r){for(i=0;u=n[i];++i)if(o.value===u.value){o.moved=u.index,u.moved=o.index,n.splice(i,1),a=i=0;break}a+=i}}},b.a.lb=function(){function e(e,n,t,a,r){var i,o,u,c,s,f=Math.min,l=Math.max,d=[],p=e.length,h=n.length,v=h-p||1,g=p+h+1;for(i=0;i<=p;i++)for(c=u,d.push(u=[]),s=f(h,i+v),o=l(0,i-1);o<=s;o++)u[o]=o?i?e[i-1]===n[o-1]?c[o-1]:f(c[o]||g,u[o-1]||g)+1:o+1:i+1;for(f=[],l=[],v=[],i=p,o=h;i||o;)h=d[i][o]-1,o&&h===d[i][o-1]?l.push(f[f.length]={status:t,value:n[--o],index:o}):i&&h===d[i-1][o]?v.push(f[f.length]={status:a,value:e[--i],index:i}):(--o,--i,r.sparse||f.push({status:"retained",value:n[o]}));return b.a.hc(v,l,!r.dontLimitMoves&&10*p),f.reverse()}return function(n,t,a){return a="boolean"==typeof a?{dontLimitMoves:a}:a||{},n=n||[],t=t||[],n.length<t.length?e(n,t,"added","deleted",a):e(t,n,"deleted","added",a)}}(),b.b("utils.compareArrays",b.a.lb),function(){function n(n,t,a,r,i){var o=[],u=b.B(function(){var e=t(a,i,b.a.Ba(o,n))||[];0<o.length&&(b.a.uc(o,e),r&&b.l.w(r,null,[a,e,i])),o.length=0,b.a.ta(o,e)},null,{i:n,ya:function(){return!b.a.Tb(o)}});return{ea:o,B:u.ca()?u:e}}var t=b.a.e.J(),a=b.a.e.J();b.a.Db=function(r,i,o,u,c){function s(e,n){x=d[n],m!==n&&(T[e]=x),x.tb(m++),b.a.Ba(x.ea,r),v.push(x),w.push(x)}function f(e,n){if(e)for(var t=0,a=n.length;t<a;t++)n[t]&&b.a.r(n[t].ea,function(a){e(a,t,n[t].ka)})}i=i||[],u=u||{};var l=b.a.e.get(r,t)===e,d=b.a.e.get(r,t)||[],p=b.a.ib(d,function(e){return e.ka}),h=b.a.lb(p,i,u.dontLimitMoves),v=[],g=0,m=0,y=[],w=[];i=[];for(var x,k,E,T=[],p=[],C=0;k=h[C];C++)switch(E=k.moved,k.status){case"deleted":E===e&&(x=d[g],x.B&&(x.B.k(),x.B=e),b.a.Ba(x.ea,r).length&&(u.beforeRemove&&(v.push(x),w.push(x),x.ka===a?x=null:i[C]=x),x&&y.push.apply(y,x.ea))),g++;break;case"retained":s(C,g++);break;case"added":E!==e?s(C,E):(x={ka:k.value,tb:b.O(m++)},v.push(x),w.push(x),l||(p[C]=x))}b.a.e.set(r,t,v),f(u.beforeMove,T),b.a.r(y,u.beforeRemove?b.ba:b.removeNode);for(var N,C=0,l=b.f.firstChild(r);x=w[C];C++){for(x.ea||b.a.extend(x,n(r,o,x.ka,c,x.tb)),g=0;h=x.ea[g];l=h.nextSibling,N=h,g++)h!==l&&b.f.kc(r,h,N);!x.ad&&c&&(c(x.ka,x.ea,x.tb),x.ad=!0)}for(f(u.beforeRemove,i),C=0;C<i.length;++C)i[C]&&(i[C].ka=a);f(u.afterMove,T),f(u.afterAdd,p)}}(),b.b("utils.setDomNodeChildrenFromArrayMapping",b.a.Db),b.X=function(){this.allowTemplateRewriting=!1},b.X.prototype=new b.P,b.X.prototype.renderTemplateSource=function(e,n,t,a){return(n=(9>b.a.C?0:e.nodes)?e.nodes():null)?b.a.W(n.cloneNode(!0).childNodes):(e=e.text(),b.a.na(e,a))},b.X.vb=new b.X,b.Fb(b.X.vb),b.b("nativeTemplateEngine",b.X),function(){b.xb=function(){var e=this.ed=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,a,i,o){if(o=o||t,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var u=n.data("precompiled");return u||(u=n.text()||"",u=r.template(null,"{{ko_with $item.koBindingContext}}"+u+"{{/ko_with}}"),n.data("precompiled",u)),n=[a.$data],a=r.extend({koBindingContext:a},i.templateOptions),a=r.tmpl(u,n,a),a.appendTo(o.createElement("div")),r.fragments={},a},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,n){t.write("<script type='text/html' id='"+e+"'>"+n+"<\/script>")},0<e&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},b.xb.prototype=new b.P;var e=new b.xb;0<e.ed&&b.Fb(e),b.b("jqueryTmplTemplateEngine",b.xb)}()})}()}();</script> <script>!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,r){function t(e,r){for(var t={},n=e.length-1;n>=0;--n)t[e[n]]=e[n];for(var n=r.length-1;n>=0;--n)t[r[n]]=r[n];var a=[];for(var i in t)a.push(t[i]);return a}function n(e,a){var i;for(var o in a)if(a.hasOwnProperty(o)&&a[o])if(i=r.getType(e[o]),o&&e[o]&&"array"!==i&&"string"!==i)n(e[o],a[o]);else{var u="array"===r.getType(e[o])&&"array"===r.getType(a[o]);e[o]=u?t(e[o],a[o]):a[o]}}function a(e,r){var t={};return n(t,e),n(t,r),t}function i(e,r){for(var t=a({},e),n=x.length-1;n>=0;n--){var i=x[n];t[i]&&(t[""]instanceof Object||(t[""]={}),t[""][i]=t[i],delete t[i])}return r&&(t.ignore=o(r.ignore,t.ignore),t.include=o(r.include,t.include),t.copy=o(r.copy,t.copy),t.observe=o(r.observe,t.observe)),t.ignore=o(t.ignore,J.ignore),t.include=o(t.include,J.include),t.copy=o(t.copy,J.copy),t.observe=o(t.observe,J.observe),t.mappedProperties=t.mappedProperties||{},t.copiedProperties=t.copiedProperties||{},t}function o(t,n){return"array"!==r.getType(t)&&(t="undefined"===r.getType(t)?[]:[t]),"array"!==r.getType(n)&&(n="undefined"===r.getType(n)?[]:[n]),e.utils.arrayGetDistinctValues(t.concat(n))}function u(r,t){var n=e.dependentObservable;e.dependentObservable=function(t,n,a){a=a||{},t&&"object"==typeof t&&(a=t);var i=a.deferEvaluation,o=!1;a.deferEvaluation=!0;var u=new k(t,n,a);return i||(u=function(t){var n=e.dependentObservable;e.dependentObservable=k;var a=e.isWriteableObservable(t);e.dependentObservable=n;var i=k({read:function(){return o||(e.utils.arrayRemoveItem(r,t),o=!0),t.apply(t,arguments)},write:a&&function(e){return t(e)},deferEvaluation:!0});return w&&(i._wrapper=!0),i.__DO=t,i}(u),r.push(u)),u},e.dependentObservable.fn=k.fn,e.computed=e.dependentObservable;var a=t();return e.dependentObservable=n,e.computed=e.dependentObservable,a}function s(t,n,i,o,f,b,y){var g="array"===r.getType(e.utils.unwrapObservable(n));if(b=b||"",r.isMapped(t)){var w=e.utils.unwrapObservable(t)[m];i=a(w,i)}var k={data:n,parent:y||f},T=function(){return i[o]&&i[o].create instanceof Function},x=function(r){return u(O,function(){return e.utils.unwrapObservable(f)instanceof Array?i[o].create({data:r||k.data,parent:k.parent,skip:j}):i[o].create({data:r||k.data,parent:k.parent})})},I=function(){return i[o]&&i[o].update instanceof Function},J=function(r,t){var n={data:t||k.data,parent:k.parent,target:e.utils.unwrapObservable(r)};return e.isWriteableObservable(r)&&(n.observable=r),i[o].update(n)},E=h.get(n);if(E)return E;if(o=o||"",g){var P=[],S=!1,_=function(e){return e};i[o]&&i[o].key&&(_=i[o].key,S=!0),e.isObservable(t)||(t=e.observableArray([]),t.mappedRemove=function(e){var r="function"==typeof e?e:function(r){return r===_(e)};return t.remove(function(e){return r(_(e))})},t.mappedRemoveAll=function(r){var n=v(r,_);return t.remove(function(r){return-1!=e.utils.arrayIndexOf(n,_(r))})},t.mappedDestroy=function(e){var r="function"==typeof e?e:function(r){return r===_(e)};return t.destroy(function(e){return r(_(e))})},t.mappedDestroyAll=function(r){var n=v(r,_);return t.destroy(function(r){return-1!=e.utils.arrayIndexOf(n,_(r))})},t.mappedIndexOf=function(r){var n=v(t(),_),a=_(r);return e.utils.arrayIndexOf(n,a)},t.mappedGet=function(e){return t()[t.mappedIndexOf(e)]},t.mappedCreate=function(r){if(-1!==t.mappedIndexOf(r))throw new Error("There already is an object with the key that you specified.");var n=T()?x(r):r;if(I()){var a=J(n,r);e.isWriteableObservable(n)?n(a):n=a}return t.push(n),n});var N=v(e.utils.unwrapObservable(t),_).sort(),W=v(n,_);S&&W.sort();var D,F,A=e.utils.compareArrays(N,W),M={},C=e.utils.unwrapObservable(n),R={},$=!0;for(D=0,F=C.length;D<F;D++){var q=_(C[D]);if(void 0===q||q instanceof Object){$=!1;break}R[q]=C[D]}var G=[],V=0;for(D=0,F=A.length;D<F;D++){var z,q=A[D],B=b+"["+D+"]";switch(q.status){case"added":var H=$?R[q.value]:l(e.utils.unwrapObservable(n),q.value,_);z=s(void 0,H,i,o,t,B,f),T()||(z=e.utils.unwrapObservable(z));var K=p(e.utils.unwrapObservable(n),H,M);z===j?V++:G[K-V]=z,M[K]=!0;break;case"retained":var H=$?R[q.value]:l(e.utils.unwrapObservable(n),q.value,_);z=l(t,q.value,_),s(z,H,i,o,t,B,f);var K=p(e.utils.unwrapObservable(n),H,M);G[K]=z,M[K]=!0;break;case"deleted":z=l(t,q.value,_)}P.push({event:q.status,item:z})}t(G),i[o]&&i[o].arrayChanged&&e.utils.arrayForEach(P,function(e){i[o].arrayChanged(e.event,e.item)})}else if(d(n)){if(!(t=e.utils.unwrapObservable(t))){if(T()){var L=x();return I()&&(L=J(L)),L}if(I())return J(L);t={}}if(I()&&(t=J(t)),h.save(n,t),I())return t;c(n,function(r){var a=b.length?b+"."+r:r;if(-1==e.utils.arrayIndexOf(i.ignore,a)){if(-1!=e.utils.arrayIndexOf(i.copy,a))return void(t[r]=n[r]);if("object"!=typeof n[r]&&"array"!=typeof n[r]&&i.observe.length>0&&-1==e.utils.arrayIndexOf(i.observe,a))return t[r]=n[r],void(i.copiedProperties[a]=!0);var o=h.get(n[r]),u=s(t[r],n[r],i,r,t,a,t),p=o||u;if(i.observe.length>0&&-1==e.utils.arrayIndexOf(i.observe,a))return t[r]=p(),void(i.copiedProperties[a]=!0);e.isWriteableObservable(t[r])?(p=e.utils.unwrapObservable(p),t[r]()!==p&&t[r](p)):(p=void 0===t[r]?p:e.utils.unwrapObservable(p),t[r]=p),i.mappedProperties[a]=!0}})}else switch(r.getType(n)){case"function":I()?e.isWriteableObservable(n)?(n(J(n)),t=n):t=J(n):t=n;break;default:if(e.isWriteableObservable(t)){if(I()){var Q=J(t);return t(Q),Q}var Q=e.utils.unwrapObservable(n);return t(Q),Q}var U=T()||I();if(t=T()?x():e.observable(e.utils.unwrapObservable(n)),I()&&t(J(t)),U)return t}return t}function p(e,r,t){for(var n=0,a=e.length;n<a;n++)if(!0!==t[n]&&e[n]===r)return n;return null}function f(t,n){var a;return n&&(a=n(t)),"undefined"===r.getType(a)&&(a=t),e.utils.unwrapObservable(a)}function l(r,t,n){r=e.utils.unwrapObservable(r);for(var a=0,i=r.length;a<i;a++){var o=r[a];if(f(o,n)===t)return o}throw new Error("When calling ko.update*, the key '"+t+"' was not found!")}function v(r,t){return e.utils.arrayMap(e.utils.unwrapObservable(r),function(e){return t?f(e,t):e})}function c(e,t){if("array"===r.getType(e))for(var n=0;n<e.length;n++)t(n);else for(var a in e)t(a)}function d(e){var t=r.getType(e);return("object"===t||"array"===t)&&null!==e}function b(e,t,n){var a=e||"";return"array"===r.getType(t)?e&&(a+="["+n+"]"):(e&&(a+="."),a+=n),a}function y(){var r=[],t=[];this.save=function(n,a){var i=e.utils.arrayIndexOf(r,n);i>=0?t[i]=a:(r.push(n),t.push(a))},this.get=function(n){var a=e.utils.arrayIndexOf(r,n);return a>=0?t[a]:void 0}}function g(){var e={},r=function(r){var t;try{t=r}catch(e){t="$$$"}var n=e[t];return void 0===n&&(n=new y,e[t]=n),n};this.save=function(e,t){r(e).save(e,t)},this.get=function(e){return r(e).get(e)}}var O,h,w=!0,m="__ko_mapping__",k=e.dependentObservable,T=0,x=["create","update","key","arrayChanged"],j={},I={include:["_destroy"],ignore:[],copy:[],observe:[]},J=I;r.isMapped=function(r){var t=e.utils.unwrapObservable(r);return t&&t[m]},r.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{T++||(O=[],h=new g);var r,t;2==arguments.length&&(arguments[1][m]?t=arguments[1]:r=arguments[1]),3==arguments.length&&(r=arguments[1],t=arguments[2]),t&&(r=a(r,t[m])),r=i(r);var n=s(t,e,r);if(t&&(n=t),!--T)for(;O.length;){var o=O.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return n[m]=a(n[m],r),n}catch(e){throw T=0,e}},r.fromJSON=function(t){var n=e.utils.parseJson(t);return arguments[0]=n,r.fromJS.apply(this,arguments)},r.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},r.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},r.toJS=function(t,n){if(J||r.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==r.getType(J.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==r.getType(J.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==r.getType(J.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return n=i(n,t[m]),r.visitModel(t,function(r){return e.utils.unwrapObservable(r)},n)},r.toJSON=function(t,n){var a=r.toJS(t,n);return e.utils.stringifyJson(a)},r.defaultOptions=function(){if(!(arguments.length>0))return J;J=arguments[0]},r.resetDefaultOptions=function(){J={include:I.include.slice(0),ignore:I.ignore.slice(0),copy:I.copy.slice(0)}},r.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},r.visitModel=function(t,n,a){a=a||{},a.visitedObjects=a.visitedObjects||new g;var o,u=e.utils.unwrapObservable(t);if(!d(u))return n(t,a.parentName);a=i(a,u[m]),n(t,a.parentName),o="array"===r.getType(u)?[]:{},a.visitedObjects.save(t,o);var s=a.parentName;return c(u,function(t){if(!a.ignore||-1==e.utils.arrayIndexOf(a.ignore,t)){var i=u[t];if(a.parentName=b(s,u,t),-1!==e.utils.arrayIndexOf(a.copy,t)||-1!==e.utils.arrayIndexOf(a.include,t)||!u[m]||!u[m].mappedProperties||u[m].mappedProperties[t]||!u[m].copiedProperties||u[m].copiedProperties[t]||"array"===r.getType(u)){switch(r.getType(e.utils.unwrapObservable(i))){case"object":case"array":case"undefined":var p=a.visitedObjects.get(i);o[t]="undefined"!==r.getType(p)?p:r.visitModel(i,n,a);break;default:o[t]=n(i,a.parentName)}}}}),o}});</script> <script>const allVehicles = [
 {vtype: "Buggy", weight: "Light", hull: 6, handling: 4, maxGear: 6, slots: 2, crew: 2, cost: 6, keywords: ["Roll cage"], ruleset: "BASE"},
 {vtype: "Car", weight: "Middle", hull: 10, handling: 3, maxGear: 5, slots: 2, crew: 2, cost: 12, keywords: [], ruleset: "BASE"},
 {vtype: "Performance Car", weight: "Middle", hull: 8, handling: 4, maxGear: 6, slots: 2, crew: 1, cost: 15, keywords: ["Slip away"], ruleset: "BASE"}, 
 {vtype: "Truck", weight: "Middle", hull: 12, handling: 2, maxGear: 4, slots: 3, crew: 3, cost: 15, keywords: [], ruleset: "BASE"},
 {vtype: "Heavy Truck", weight: "Heavy", hull: 14, handling: 2, maxGear: 3, slots: 5, crew: 4, cost: 25, keywords: [], ruleset: "BASE"},
 {vtype: "Bus", weight: "Heavy", hull: 16, handling: 2, maxGear: 3, slots: 3, crew: 8, cost: 30, keywords: [], ruleset: "BASE"},
 
 {vtype: "Drag Racer", weight: "Light", hull: 4, handling: 4, maxGear: 6, slots: 2, crew: 1, cost: 5, keywords: ["Jet Engine"], ruleset: "BASE"},
 {vtype: "Ice Cream Truck", weight: "Middle", hull: 10, handling: 2, maxGear: 4, slots: 2, crew: 2, cost: 8, keywords: ["Infuriating Jingle"], ruleset: "BASE"}, 
 {vtype: "Bike", weight: "Light", hull: 4, handling: 5, maxGear: 6, slots: 1, crew: 1, cost: 5, keywords: ["Full throttle", "Pivot"], ruleset: "BASE"}, 
 {vtype: "Bike with Sidecar", weight: "Light", hull: 4, handling: 5, maxGear: 6, slots: 2, crew: 2, cost: 8, keywords: ["Full throttle", "Pivot"], ruleset: "BASE"},
 {vtype: "Gyrocopter", weight: "Middle", hull: 4, handling: 4, maxGear: 6, slots: 0, crew: 1, cost: 10, keywords: ["Airwolf", "Airborne", "Bombs away"], ruleset: "BASE"},
 {vtype: "Ambulance", weight: "Middle", hull: 12, handling: 2, maxGear: 5, slots: 3, crew: 3, cost: 20, keywords: ["Uppers", "Downers"], ruleset: "BASE"}, 
 {vtype: "Monster Truck", weight: "Heavy", hull: 10, handling: 3, maxGear: 4, slots: 2, crew: 2, cost: 25, keywords: ["Big tires", "Crush attack"], ruleset: "BASE"},
 {vtype: "Helicopter", weight: "Heavy", hull: 8, handling: 3, maxGear: 4, slots: 4, crew: 2, cost: 30, keywords: ["Airwolf", "Airborne", "Bombs away"], ruleset: "BASE"},
 {vtype: "Tank", weight: "Heavy", hull: 20, handling: 4, maxGear: 3, slots: 4, crew: 3, cost: 40, keywords: ["All terrain", "Crush attack", "Pivot", "Turret"], ruleset: "BASE"}, 
 {vtype: "War Rig", weight: "Heavy", hull: 25, handling: 2, maxGear: 4, slots: 5, crew: 5, cost: 40, keywords: [], ruleset: "BASE"}
];
allVehicles.forEach(v => v.optionText = v.vtype + (v.ruleset != "BASE" ? " (" + v.ruleset + ")" : ""));
const defaultVehicle = allVehicles.filter(v => v.vtype == "Car")[0];

const allTrailers = [
 {ttype: "None", slots: 0, cost:0},
 {ttype: "Lightweight", slots: 0, cost:4},
 {ttype: "Middleweight", slots: 1, cost:8},
 {ttype: "Heavyweight", slots: 3, cost:12}
];

const vehicleKeywords = [
 {ktype: "Full throttle", phase: "Play", rules: "This vehicle considers the long straight maneuver template to be permitted in any gear. The long straight is not considered either hazardous or trivial in any gear", ruleset: "BASE"},
 {ktype: "Pivot", phase: "Play", rules: "At the start of this vehicle's activation, if this vehicle's current gear is 1, this vehicle may make a pivot about its centre to face any direction This pivot cannot cause a collision, and cannot leave this vehicle touching an obstruction.", ruleset: "BASE"},
 {ktype: "Roll cage", phase: "Play", rules: "When this vehicle suffers a flip, this vehicle may choose to ignore the 2 hits received from the Flip.", ruleset: "BASE"},
 {ktype: "Slip away", phase: "Play", rules: "If this vehicle is targeted with a tailgate, T-bone or sideswipe smash attack, and this vehicle declares evade as its reaction, this vehicle may perform a free activation immediately after the active vehicle completes its activation. This free activation does not count as the vehicle's activation this gear phase.", ruleset: "BASE"},
 {ktype: "Big tires", phase: "Play", rules: "This vehicle may ignore the penalty for being on a rough surface, and considers a treacherous surface to be a rough surface", ruleset: "BASE"},
 {ktype: "Crush attack", phase: "Play", rules: "After resolving a collision with an obstruction of a lower weight class during movement step 1.7, this vehicle may declare a CRUSH ATTACK to ignore the obstruction for the remainder of its movement step, as it drives right over the top of it. This vehicle cannot declare a crush attack against another vehicle with the crush attack special rule.", ruleset: "BASE"},
 {ktype: "Turret", phase: "Play", rules: "This vehicle may count one weapon as turret-mounted without paying for the upgrade.", ruleset: "BASE"},
 {ktype: "Airwolf", phase: "Play", rules: "At the start of this vehicle's activation, this vehicle may make a single pivot about its centre point, up to 90 degrees", ruleset: "BASE"},
 {ktype: "Airborne", phase: "Play", rules: "This Vehicle ignores obstructions, dropped weapons and terrain at all times; except that this vehicle may target other vehicles in its attack step. Other vehicles ignore this vehicle at all times, except that other vehicles may target this vehicle during their attack steps. This vehicle cannot be involved in collisions.", ruleset: "BASE"},
 {ktype: "Bombs away", phase: "Build", rules: "When purchasing weapons, this vehicle may count dropped weapons as requiring 0 build slots.", ruleset: "BASE"},
 {ktype: "All terrain", phase: "Play", rules: "This vehicle may ignore the penalties for rough and treacherous surfaces.", ruleset: "BASE"}, 
 
 {ktype: "Jet Engine", phase: "Play", rules: "A vehicle with a jet engine counts as having a Nitro Booster with infinite ammo tokens. This vehicle automatically explodes when it is wrecked. A vehicle with a jet engine must use the Nitro Booster every time it activates.", ruleset: "BASE"},
 {ktype: "Infuriating Jingle", phase: "Play", rules: "Vehicles that target this vehicle with a SMASH ATTACK during a collision receive no hazard tokens during step 6 of the collision resolution.", ruleset: "BASE"},
 {ktype: "Uppers", phase: "Play", rules: "If this vehicle is involved in a collision in which both vehicles declare an evade, both vehicles must declare a single stick-shift up immediately after the collision is resolved (gaining a hazard token as per the normal stick-shift rules). If either vehicle is already at its max gear, the stick-shift does not affect that vehicle's current gear, but that vehicle does gain a hazard token.", ruleset: "BASE"},
 {ktype: "Downers", phase: "Play", rules: "When this vehicle declares a SMASH ATTACK during its activation remove 2 hazard tokens from the target vehicle, and then reduce the target vehicle's crew value by 1 until the end of the phase.", ruleset: "BASE"}
];

const handgun = {wtype: "Handgun", attackType:"Shooting", attack: "1D6", range: "Medium", slots: "-", ammo: "-", specialRules: "Blitz", crewFired: "Yes", cost: "-", allowedSponsors: [], ruleset: "BASE", limit: null}; // always picked and available
const allWeapons = [
 // basic weapons
 {wtype: "Machine Gun", attackType:"Shooting", attack: "2D6", range: "Double", slots: 1, ammo: 0, specialRules: "", crewFired: false, cost: 2, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Heavy Machine Gun", attackType:"Shooting", attack: "3D6", range: "Double", slots: 1, ammo: 0, specialRules: "", crewFired: false, cost: 3, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Mini-Gun", attackType:"Shooting", attack: "4D6", range: "Double", slots: 1, ammo: 0, specialRules: "", crewFired: false, cost: 5, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 // advanced
 {wtype: "125mm Cannon", attackType:"Shooting", attack: "8D6", range: "Double", slots: 3, ammo: 3, specialRules: "Blast, +2 hazard if not Tank", crewFired: false, cost: 6, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Arc Lightning Projector", attackType:"Shooting", attack: "6D6", range: "Double", slots: 2, ammo: 1, specialRules: "Arc chain in short range", crewFired: false, cost: 6, allowedSponsors: ["Mishkin"], ruleset: "BASE", limit: null},
 {wtype: "Bazooka", attackType:"Shooting", attack: "3D6", range: "Double", slots: 2, ammo: 3, specialRules: "Blast", crewFired: false, cost: 4, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "BFG", attackType:"Shooting", attack: "10D6", range: "Double", slots: 3, ammo: 1, specialRules: "Ridonkulous Firepower", crewFired: false, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Combat Laser", attackType:"Shooting", attack: "3D6", range: "Double (burst)", slots: 1, ammo: 0, specialRules: "Splash, Laser", crewFired: false, cost: 5, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Death Ray", attackType:"Shooting", attack: "3D6", range: "Double", slots: 1, ammo: 1, specialRules: "Atomize", crewFired: false, cost: 3, allowedSponsors: ["Mishkin"], ruleset: "BASE", limit: null},
 {wtype: "Flamethrower", attackType:"Shooting", attack: "6D6", range: "Large Burst", slots: 2, ammo: 3, specialRules: "Splash, Fire. Indirect", crewFired: false, cost: 4, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Grabber Arm", attackType:"Shooting", attack: "3D6", range: "Short", slots: 1, ammo: 0, specialRules: "Toss", crewFired: false, cost: 6, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Grav Gun", attackType:"Shooting", attack: "3D6*", range: "Double", slots: 1, ammo: 1, specialRules: "Electrical. Gravity Manipulation", crewFired: false, cost: 2, allowedSponsors: ["Mishkin"], ruleset: "BASE", limit: null},
 {wtype: "Harpoon", attackType:"Shooting", attack: "5D6*", range: "Double", slots: 1, ammo: 0, specialRules: "Harpoon", crewFired: false, cost: 2, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Kinetic Super Booster", attackType:"Shooting", attack: "(6D6)", range: "Double", slots: 2, ammo: 1, specialRules: "Gear +1 instead of damage", crewFired: false, cost: 6, allowedSponsors: ["Mishkin"], ruleset: "BASE", limit: null},
 {wtype: "Magnetic Jammer", attackType:"Shooting", attack: "-", range: "Double", slots: 0, ammo: 0, specialRules: "Target can't use ammo next activation", crewFired: false, cost: 2, allowedSponsors: ["Mishkin"], ruleset: "BASE", limit: null},
 {wtype: "Mortar", attackType:"Shooting", attack: "4D6", range: "Double", slots: 1, ammo: 3, specialRules: "Indirect", crewFired: false, cost: 4, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Rockets", attackType:"Shooting", attack: "6D6", range: "Double", slots: 2, ammo: 3, specialRules: "", crewFired: false, cost: 6, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Thumper", attackType:"Shooting", attack: "-", range: "Medium", slots: 2, ammo: 1, specialRules: "Targets make gear+2 (max 6) flip check", crewFired: false, cost: 4, allowedSponsors: ["Mishkin"], ruleset: "BASE", limit: null},
 {wtype: "Wall Of Amplifiers", attackType:"Shooting", attack: "-", range: "Medium", slots: 3, ammo: 0, specialRules: "See rules", crewFired: false, cost: 4, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Wreck Lobber", attackType:"Shooting", attack: "-", range: "Double/Dropped", slots: 4, ammo: 3, specialRules: "See rules, Low-loader, Dumper", crewFired: false, cost: 4, allowedSponsors: [""], ruleset: "BASE", limit: null},
 // crew fired
 {wtype: "Blunderbuss", attackType:"Shooting", attack: "3/2/1D6", range: "Short/Medium/Long", slots: 0, ammo: 0, specialRules: "Scrapshot", crewFired: true, cost: 4, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Gas Grenades", attackType:"Shooting", attack: "(1D6)", range: "Medium", slots: 0, ammo: 5, specialRules: "Blitz, Choking Gas, Indirect", crewFired: true, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Grenades", attackType:"Shooting", attack: "1D6", range: "Medium", slots: 0, ammo: 5, specialRules: "Blast, Indirect, Blitz", crewFired: true, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Magnum", attackType:"Shooting", attack: "1D6", range: "Double", slots: 0, ammo: 0, specialRules: "Blast", crewFired: true, cost: 3, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Molotov Cocktails", attackType:"Shooting", attack: "1D6", range: "Medium", slots: 0, ammo: 5, specialRules: "Fire, Indirect, Blitz", crewFired: true, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Shotgun", attackType:"Shooting", attack: "2D6", range: "Small Burst", slots: 0, ammo: 0, specialRules: "Splash", crewFired: true, cost: 2, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Steel Nets", attackType:"Shooting", attack: "(3D6)", range: "Short", slots: 0, ammo: 0, specialRules: "Blast", crewFired: true, cost: 2, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Submachine Gun", attackType:"Shooting", attack: "3D6", range: "Medium", slots: 0, ammo: 0, specialRules: "", crewFired: true, cost: 5, allowedSponsors: [], ruleset: "BASE", limit: null},
 // Dropped 
 {wtype: "Caltrop Dropper", attackType:"Dropped", attack: "2D6", range: "Small Burst", slots: 1, ammo: 3, specialRules: "Treacherous, remains until damage is caused", crewFired: false, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Glue Dropper", attackType:"Dropped", attack: "-", range: "Large Burst", slots: 1, ammo: 1, specialRules: "Treacherous, gear -2", crewFired: false, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Mine Dropper", attackType:"Dropped", attack: "4D6", range: "Small Burst", slots: 1, ammo: 3, specialRules: "Blast", crewFired: false, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Napalm Dropper", attackType:"Dropped", attack: "4D6", range: "Small Burst", slots: 1, ammo: 3, specialRules: "Fire", crewFired: false, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null},
 {wtype: "Oil Slick Dropper", attackType:"Dropped", attack: "-", range: "Large Burst", slots: 0, ammo: 3, specialRules: "Treacherous", crewFired: false, cost: 2, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "RC Car Bombs", attackType:"Dropped", attack: "4D6", range: "Short", slots: 0, ammo: 3, specialRules: "Remote-Controlled Car", crewFired: false, cost: 3, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Sentry Gun", attackType:"Dropped", attack: "2D6", range: "Small burst", slots: 0, ammo: 3, specialRules: "Sentry Gun", crewFired: false, cost: 3, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Smoke Dropper", attackType:"Dropped", attack: "-", range: "Large Burst", slots: 0, ammo: 3, specialRules: "Provides cover", crewFired: false, cost: 1, allowedSponsors: [], ruleset: "BASE", limit: null},
 // Smash Weapons 
 {wtype: "Ram", attackType:"Smash", attack: "+2D6", range: "Smash", slots: 1, ammo: 0, specialRules: "No hazards gained during collisions on declared facing", crewFired: false, cost: 4, allowedSponsors: [], ruleset: "BASE", limit: null}, 
 {wtype: "Exploding Ram", attackType:"Smash", attack: "+6D6", range: "Smash", slots: 0, ammo: 1, specialRules: "Highly Explosive. Limit of 1", crewFired: false, cost: 3, allowedSponsors: [], ruleset: "BASE", limit: 1},
 {wtype: "Wrecking Ball", attackType:"Shooting", attack: "*", range: "Short", slots: 3, ammo: 0, specialRules: "Steel Ball", crewFired: false, cost: 2, allowedSponsors: [], ruleset: "BASE", limit: null}
];
allWeapons.forEach(w => w.optionText = w.wtype + (w.ruleset != "BASE" ? " (" + w.ruleset + ")" : ""));

const thumperCargo = allWeapons.filter(w => w.wtype == "Thumper")[0];

const allLocations = ["Cab", "Trailer"]; // first element in array is the default

const weaponKeywords = [
];

const allUpgrades = [
 {utype: "Armour Plating", slots: 1, ammo: 0, specialRules: "+2 Hull", cost: 4, keywords: [], limit: null, allowedSponsors: [], ruleset: "BASE"}, 
 {utype: "Experimental Nuclear Engine", slots: 0, ammo: 0, specialRules: "See rulebook", cost: 5, keywords: [], limit: 1, allowedSponsors: ["Mishkin"], ruleset: "BASE"},
 {utype: "Experimental Teleporter", slots: 0, ammo: 0, specialRules: "See rulebook", cost: 7, keywords: [], limit: 1, allowedSponsors: ["Mishkin"], ruleset: "BASE"},
 {utype: "Extra Crewmember", slots: 0, ammo: 0, specialRules: "+1 Crew, up to double starting crew", cost: 4, keywords: [], allowedSponsors: [], limit: null, ruleset: "BASE"},
 {utype: "Improvised Sludge Thrower", slots: 1, ammo: 0, specialRules: "This vehicle may place the burst templates for its dropped weapons anywhere within a 360 arc of fire that is at least partially within medium range of this vehicle.", cost: 2, keywords: [], limit: 1, allowedSponsors: [], ruleset: "BASE"},
 {utype: "Nitro Booster", slots: 0, ammo: 1, specialRules: "See rulebook", cost: 6, keywords: [], limit: null, allowedSponsors: [], ruleset: "BASE"},
 {utype: "Roll Cage", slots: 1, ammo: 0, specialRules: "ignore hits received from Flips.", cost: 4, keywords: [], limit: 1, allowedSponsors: [], ruleset: "BASE"},
 {utype: "Tank tracks", slots: 1, ammo: 0, specialRules: "+1 Handing, -1 Max Gear, All terrain", cost: 4, keywords: ["All terrain"], limit: 1, allowedSponsors: [], ruleset: "BASE"},
 // sposor specific
 {utype: "Prison Vehicle", slots: 0, ammo: 0, specialRules: "", cost: -4, keywords: [], limit: 1, allowedSponsors: ["Warden"], ruleset: "BASE"},
 {utype: "Louder Siren", slots: 0, ammo: 0, specialRules: "Replace 'Bogey' with 'any enemy vehicle' for the purposes of the Siren special rules.", cost: 2, keywords: [], limit: 1, allowedSponsors: ["Highway Patrol"], ruleset: "BASE"},
 {utype: "MicroPlate Armour", slots: 0, ammo: 0, specialRules: "+2 hull", cost: 6, keywords: [], limit: null, allowedSponsors: ["Verney"], ruleset: "BASE"}
];
allUpgrades.forEach(u => u.optionText = u.utype + (u.ruleset != "BASE" ? " (" + u.ruleset + ")" : ""));

const allCargos = [
 {ctype: "None", specialRules: null, keywords: [], ruleset: "BASE"},
 {ctype: "Peach Moonshine", specialRules: "This vehicles molotov cocktail count as having an infinite number of ammo tokens", keywords: [], ruleset: "BASE"},
 {ctype: "Sourmash Jet Booster", specialRules: "At the end of this vehicle's movement step, if this vehicle has 5 or more hazard tokens, it must immediately make a long straight maneuver forward.", keywords: [], ruleset: "BASE"},
 {ctype: "Siphon Pump", specialRules: "At the start of this vehicle's attack step, regardless of whether it is distracted, this vehicle may take up to one hazard token from each car within short range of it and place it on this vehicle.", keywords: [], ruleset: "BASE"},
 {ctype: "Old Fashioned Corn Liquor", specialRules: "Whenever a vehicle within medium range of this vehicle gains one or more hazard tokens, it gains one additional hazard token.", keywords: [], ruleset: "BASE"},
 {ctype: "Cattle-Hammer", specialRules: "This vehicle may consider its current gear to be any value, up to this vehicles max gear, during the wipe-out step, including during any collisions resolved during the wipe-out step", keywords: [], ruleset: "BASE"} 
];
allCargos.forEach(c => c.optionText = c.ctype + (c.ruleset != "BASE" ? " (" + c.ruleset + ")" : ""));

const allSponsors = [
 {name: "None", keywords: [], perkClasses: [], ruleset: "BASE"},
 {name: "Rutherford", keywords: ["Military hardware", "Well stocked", "Might is right", "Televised carnage"], perkClasses: ["Badass", "Military"], ruleset: "BASE"},
 {name: "Miyazaki", keywords: ["Virtuoso", "Elegance", "Showing off"], perkClasses: ["Daring", "Precision"], ruleset: "BASE"},
 {name: "Mishkin", keywords: ["Thumpermonkey", "Dynamo", "All the toys"], perkClasses: ["Military", "Technology"], ruleset: "BASE"},
 {name: "Idris", keywords: ["N2O addict", "Speed demon", "Cult of speed", "Kiss my asphalt"], perkClasses: ["Precision", "Speed"], ruleset: "BASE"},
 {name: "Slime", keywords: ["Live fast", "Pinball", "Spiked Fist"], perkClasses: ["Tuning", "Reckless"], ruleset: "BASE"},
 {name: "Warden", keywords: ["Prison cars", "Fireworks"], perkClasses: ["Aggression", "Badass"], ruleset: "BASE"},
 {name: "Scarlett Annie", keywords: ["Crew Quarters", "Raiders", "Raise the Sails", "Press Gang"], perkClasses: ["Aggression", "Tuning"], ruleset: "BASE"},
 {name: "Highway Patrol", keywords: ["Hot Pursuit", "Bogey at 12 O'Clock", "The Job Is Never Done", "Siren", "Steel Justice"], perkClasses: ["Speed", "Pursuit"], ruleset: "BASE"},
 
 {name: "Verney", keywords: ["MicroPlate Armour", "Trunk of Junk", "Tombstone", "That's Entertainment"], perkClasses: ["Technology", "Built"], ruleset: "BASE"},  
 {name: "Maxxine", keywords: ["Dizzy", "Maxximum Drift", "Meshuggah"], perkClasses: ["Tuning", "Pursuit"], ruleset: "BASE"}, 
 {name: "The Flame Cult", keywords: ["Fire Walk With Me", "Burning Man", "Cult Of Flame"], perkClasses: ["Horror", "Speed"], ruleset: "BASE"}, 
 {name: "Beverly", keywords: ["Graveyard Shift", "Ghost Rider", "Soul Anchor", "At The Crossroads", "Inexorable", "Soul Harvest"], perkClasses: ["Horror", "Built"], ruleset: "BASE"},  
 {name: "Rusty's Bootleggers", keywords: ["Party Hard", "Dutch courage", "As Straight As I'm Able", "Over The Limit", "Trailer Trash", "Haulage"], perkClasses: ["Reckless", "Built"], ruleset: "BASE"}
];
allSponsors.forEach(s => s.optionText = s.name + (s.ruleset != "BASE" ? " (" + s.ruleset + ")" : ""));

const sponsorKeywords = [
 {ktype: "Military hardware", phase: "Build", rules: "This team may purchase a single Tank. This team may purchase a single Helicopter.", ruleset: "BASE"},
 {ktype: "Well stocked", phase: "Build", rules: "This team considers any weapon with the ammo 3 special rule to instead have the ammo 4 special rule when purchased.", ruleset: "BASE"},
 {ktype: "Might is right", phase: "Build", rules: "This team may not purchase lightweight vehicles.", ruleset: "BASE"},
 {ktype: "Televised carnage", phase: "Play", rules: "If a vehicle in this team causes 6 or more hits in a single attack step, before evades, this team gains +1 audience vote.", ruleset: "BASE"},
 {ktype: "Virtuoso", phase: "Play", rules: "The first time each vehicle in this team uses push it in an activation they may push it without gaining a hazard token.", ruleset: "BASE"},
 //{ktype: "Evasive maneuvers", phase: "Play", rules: "Before making an evade roll, vehicles in this team may gain any number of hazard tokens to add +1 to each of their evade dice for each hazard token gained. A roll of a 1 on an evade dice always counts as a failure.", ruleset: "BASE"},
 {ktype: "Elegance", phase: "Build", rules: "Teams sponsored by Miyazaki may not purchase vehicle types with a base Handling value of 2 or lower", ruleset: "BASE"},
 {ktype: "Showing off", phase: "Play", rules: "At the end of this vehicle's activation, if it resolved at least one spin result, and resolved at least one slide result, and changed gear at least once, and did not wipeout, then this vehicle gains a 'Showing Off' token. If a vehicle with a 'Showing Off' token wipes out, that vehicle must discard its 'Showing Off' token. At the end of this vehicle's activation, if every inplay vehicle on this team has a 'Showing Off' token, this player discards all 'Showing Off' tokens and gains 1 audience vote for each 'Showing Off' token discarded in this way. Discard all 'Showing Off' tokens at the end of the gear phase. ", ruleset: "BASE"}, 
 {ktype: "Thumpermonkey", phase: "Build", rules: "This team may purchase electrical weapons and upgrades", ruleset: "BASE"},
 {ktype: "Dynamo", phase: "Play", rules: "After activating in gear Phase 4, 5 or 6, this vehicle may add +1 ammo token to a single electrical weapon or upgrade on that vehicle.", ruleset: "BASE"},
 {ktype: "All the toys", phase: "Play", rules: "Whenever a vehicle in this team attacks with a named weapon that has not been attacked with by any vehicle during this game yet this team gains +1 audience vote,", ruleset: "BASE"},
 {ktype: "N2O addict", phase: "Build", rules: "This team may purchase the Nitro upgrade at half the listed cost", ruleset: "BASE"},
 {ktype: "Speed demon", phase: "Play", rules: "When this vehicle gains hazards as a result of the Nitro Booster, this vehicle only gains hazard tokens until it has 3 hazard tokens, rather than 5 hazard tokens.", ruleset: "BASE"},
 {ktype: "Cult of speed", phase: "Play", rules: "If this vehicle selects the long straight movement template (including when using the Nitro Booster upgrade) during gear phase 1, 2, or 3, this vehicle's controller gains 1 audience vote.", ruleset: "BASE"},
 {ktype: "Kiss my asphalt", phase: "Build", rules: "This team may not purchase Gyrocopters", ruleset: "BASE"},
 {ktype: "Live fast", phase: "Play", rules: "If a vehicle in this team begins the wipeout step with more hazard tokens than hull points during its own activation this team gains +1 audience vote", ruleset: "BASE"},
 {ktype: "Pinball", phase: "Play", rules: "If a vehicle in this team is involved in a collision during its movement step in which the point of contact on both vehicles is along their side edges and this vehicle declares a smash attack, then this vehicle may immediately resolve another movement step after the current movement step.", ruleset: "BASE"},
 {ktype: "Spiked Fist", phase: "Build", rules: "This vehicle counts the Ram upgrade as requiring zero build slots.", ruleset: "BASE"},
 {ktype: "Prison cars", phase: "Build", rules: "Reduce the cost of this vehicle by 4 Cans to a minimum of 5 Cans. Reduce the hull value of this vehicle by 2. May only be purchased by middleweight vehicles. May only be purchased once for each vehicle.", ruleset: "BASE"},
 {ktype: "Fireworks", phase: "Play", rules: "If a vehicle belonging to this team explodes, gain +1 audience vote if it was middleweight or +2 audience votes if it was heavyweight in addition to any votes gained for being wrecked, and then discard all ammo tokens from the wreck.", ruleset: "BASE"},
 {ktype: "Crew Quarters", phase: "Build", rules: "This team may purchase the Extra Crewmember upgrade at half the listed cost.", ruleset: "BASE"},
 {ktype: "Raiders", phase: "Play", rules: "At the end of the attack step, this vehicle may permanently reduce its crew value by any number, to a minimum of 0 crew: remove 1 hull point from any vehicle in base contact for each crew removed in this way.", ruleset: "BASE"},
 {ktype: "Raise the Sails", phase: "Play", rules: "After rolling skid dice, this vehicle may permanently reduce its crew value by 1, to a minimum of 0 crew to add 1 free shift result to the skid dice result.", ruleset: "BASE"},
 {ktype: "Press Gang", phase: "Play", rules: "When another vehicle in contact with this vehicle is wrecked, this vehicle may gain either 1 crew or 2 audience votes", ruleset: "BASE"},
 {ktype: "Hot Pursuit", phase: "Play", rules: "Before the first gear phase of the game, after deployment, this team must nominate one enemy vehicle as the 'Bogey'.", ruleset: "BASE"},
 {ktype: "Bogey at 12 O'Clock", phase: "Play", rules: "Once per activation, at the end of this vehicle's movement step, if the Bogey is in this vehicle's front arc of fire, in line of sight, and further than double range away, this vehicle may immediately resolve another movement step.", ruleset: "BASE"},
 {ktype: "The Job Is Never Done", phase: "Play", rules: "If the bogey is wrecked or disqualified, immediately nominate another enemy vehicle to be the bogey.", ruleset: "BASE"},
 {ktype: "Siren", phase: "Play", rules: "At the end of this vehicle's activation, if this vehicle in the Bogey's rear arc of fire (regardless of range), the Bogey must either reduce its gear by 1 or gain 2 hazards.", ruleset: "BASE"},
 {ktype: "Steel Justice", phase: "Play", rules: "If the Bogey wipes out this team as a whole gains 2 audience votes. If the Bogey is wrecked this team as a whole gains 4 audience votes.", ruleset: "BASE"},
 
 // Verney
 {ktype: "MicroPlate Armour", phase: "Build", rules: "Vehicles in this team may purchase the MicroPlate Armour upgrade, which costs 6 cans, grants +2 hull points, and requires 0 build slots", ruleset: "BASE"},
 {ktype: "Trunk of Junk", phase: "Play", rules: "You may attack with any number of dropped weapons in a single activation", ruleset: "BASE"},
 {ktype: "Tombstone", phase: "Play", rules: "If the shooting stick of a shooting attack touches the rear edge of this vehicle, this vehicle gains +1 to its evade rolls. At the end of this vehicles activation, this vehicle may gain 2 hazards. If it does, all collisions involving this vehicle are considered to be head-on until the start of its next activation.", ruleset: "BASE"},
 {ktype: "That's Entertainment", phase: "Play", rules: "Whenever a dropped weapon template that was placed by this team is removed from play, this team gains 1 Audience Vote", ruleset: "BASE"},
 
 // Maxxine
 {ktype: "Dizzy", phase: "Play", rules: "This vehicle may resolve any number of spin results separately during its movement step, one after another. This can allow this vehicle to spin more than 90 degrees during its movement step.", ruleset: "BASE"},
 {ktype: "Maxximum Drift", phase: "Play", rules: "If this vehicle resolves two slide results in a single skid check, it may use the medium straight in place of the slide template. If this vehicle resolves three or more slide results in a single skid check, it may use the long straight in place of the slide template.", ruleset: "BASE"},
 {ktype: "Meshuggah", phase: "Play", rules: "When this vehicle resolve a slide or spin that ends within medium of a friendly vehicle without causing a collision: this team gains +1 Audience Vote.", ruleset: "BASE"},
 
 // The Flame Cult
 {ktype: "Fire Walk With Me", phase: "Play", rules: "When this vehicle receives damage from any weapon or effect with the Fire rule , this vehicle may choose to ignore up to 2 of that damage", ruleset: "BASE"},
 {ktype: "Burning Man", phase: "Play", rules: "If this vehicle is On Fire it gains +1 to all evade dice.", ruleset: "BASE"},
 {ktype: "Cult Of Flame", phase: "Play", rules: "At the end of the gear phase, if there are more enemy vehicles on fire than there are friendly vehicles on fire, this team gains 1 audience vote for each friendly vehicle that is on fire.", ruleset: "BASE"},
 
 // Beverly 
 {ktype: "Graveyard Shift", phase: "Play", rules: "At the start of the game, after deployment, all vehicle in this team except one must gain the 'Ghost Car' special rule", ruleset: "BASE"},
 {ktype: "Ghost Rider", phase: "Play", rules: "This vehicle ignores and is ignored by other vehicles at all times. This vehicle cannot be involved in collisions. This vehicle may not make shooting attacks or be attacked with shooting weapons . This vehicle may never count towards the victory conditions of a scenario.", ruleset: "BASE"},
 {ktype: "Soul Anchor", phase: "Play", rules: "If all in play vehicles from this team have the Ghost Rider special rule immediately remove all vehicles on this team from play.", ruleset: "BASE"},
 {ktype: "At The Crossroads", phase: "Play", rules: "This team may choose to pay only 1 vote to respawn a vehicle. If they do, the respawned car must gain the 'Ghost Rider' special rule", ruleset: "BASE"},
 {ktype: "Inexorable", phase: "Play", rules: "If a vehicle from this team is a wreck or out of play, the vehicle may be respawned, even if other rules would ordinarily prevent that.", ruleset: "BASE"}, 
 {ktype: "Soul Harvest", phase: "Play", rules: "If this vehicles movement template comes into contact with an enemy vehicle: this vehicle gains 1 Soul token, even if the enemy vehicle is being ignored. If this vehicle's movement template comes into contact with a friendly vehicle without the 'Ghost Rider' rule that it did not start in contact with, choose one: either gain 1 vote for each Soul token; or repair two Hull Points on the vehicle without the 'Ghost Rider' rule for each Soul token. Then discard all Soul tokens.", ruleset: "BASE"},
 
 // Rusty's Bootleggers
 {ktype: "Party Hard", phase: "Play", rules: "At the end of this vehicle's attack step, if this vehicle has more hazard tokens than the sum of the hazards tokens on all other enemy vehicles within medium range combined, this vehicle's controller gains +1 audience vote for each enemy vehicle with 1+ hazard tokens within medium range of this vehicle.", ruleset: "BASE"},
 {ktype: "Dutch courage", phase: "Play", rules: "Vehicles in this team only wipe out when they have 8 hazards.", ruleset: "BASE"},
 {ktype: "As Straight As I'm Able", phase: "Play", rules: "This vehicle does not gain a hazard from the articulated rule if it selects a template that is not a straight.", ruleset: "BASE"}, 
 {ktype: "Over The Limit", phase: "Play", rules: "This vehicle never considers any of the straight movement templates to be permitted. This vehicle considers veer to be permitted and trivial in any gear.", ruleset: "BASE"},
 {ktype: "Trailer Trash", phase: "Build", rules: "These team must contain at least one medium or heavyweight vehicle equipped with a trailer upgrade, or a War Rig.", ruleset: "BASE"},
 {ktype: "Haulage", phase: "Build", rules: "Each vehicle on this team equipped with a trailer upgrade, and each War Rig, may equip a single trailer cargo upgrade for free.", ruleset: "BASE"}
];

// combine all keywords into single, name indexed array
var tmpKeywords = vehicleKeywords.concat(sponsorKeywords);
var allKeywords = {};

for(var idx in tmpKeywords)
{
 var kw = tmpKeywords[idx];
 allKeywords[kw.ktype] = kw;
}

const allPerks = [
 {class: "Aggression", ptype: "Double-Barrelled", cost: 2, rules: "During the attack step, up to 3 crewmembers in this vehicle may gain a +1 bonus to hit when shooting with a handgun", shortRules: "Up to 3 handguns +1 to hit", ruleset: "BASE"},
 {class: "Aggression", ptype: "Boarding Party", cost: 2, rules: "This vehicle ignores the distracted rule. Crewmembers in this vehicle may attack during the attack step even if the vehicle is distracted.", shortRules: "Ignore distracted", ruleset: "BASE"},
 {class: "Aggression", ptype: "Battlehammer", cost: 4, rules: "When making a smash attack, this vehicle gains +1 attack dice for each hazard token it currently has.", shortRules: "+1 attack dice per hazard during smash attack", ruleset: "BASE"},
 {class: "Aggression", ptype: "Terrifying Lunatic", cost: 5, rules: "Whenever a vehicle controlled by another player ends its movement step within short range of this vehicle, the active vehicle gains a hazard token.", shortRules: "Other players vehicles gain +1 hazard if movement stops within short range", ruleset: "BASE"},
 {class: "Aggression", ptype: "Grinderman", cost: 5, rules: "Before this Vehicle rolls its attack dice in a smash attack, it may choose to add hazard tokens to the target vehicle for each damage it inflicts, instead of removing hull points.", shortRules: "Before smash attack may choose to add hazard tokens rather than hull damage", ruleset: "BASE"},
 {class: "Aggression", ptype: "Murder Tractor", cost: 5, rules: "This vehicle may make piledriver attacks, like a War Rig.", shortRules: "May use piledriver attack", ruleset: "BASE"},
 
 {class: "Badass", ptype: "Powder Keg", cost: 1, rules: "This vehicle may add +1 to its explosion check. Treat this vehicle as one weight-class heavier when it explodes. Note: this bonus does apply during resolution ot the FIREWORKS perk.", shortRules: "May add +1 to explosion check. Explosions are +1 weight class (does not affect FIREWORKS perk)", ruleset: "BASE"},
 {class: "Badass", ptype: "Road Warrior", cost: 2, rules: "Once per activation, if this vehicle has successfully causes one or more hits on an enemy vehicle at any point during this activation, this vehicle may remove a single hazard token at the end of its attack step. ", shortRules: "Once during activation, if at least 1 hit successful on enemy, -1 hazard tokens", ruleset: "BASE"},
 {class: "Badass", ptype: "Cover Me", cost: 2, rules: "Once during its activation this vehicle may remove a hazard token and place it on another friendly vehicle within double range", shortRules: "During activation, move hazard token to friendly vehicle with double range", ruleset: "BASE"},
 {class: "Badass", ptype: "Madman", cost: 3, rules: "At the end of this vehicle's activation, if it has 4 or more hazard tokens, it may remove a hazard token and place it on another vehicle within medium range.", shortRules: "After activation. may move hazard token to vehicle in medium range if hazards 4+", ruleset: "BASE"},
 {class: "Badass", ptype: "Crowd Pleaser", cost: 1, rules: "If this vehicle wipes out, gain +1 audience vote.", ruleset: "BASE"},
 {class: "Badass", ptype: "Bullet-Time", cost: 3, rules: "If this vehicle resolves a slide result during its movement step, this may select one of its weapons to count as turret-mounted for the rest of the activation.", shortRules: "", ruleset: "BASE"},
 
 {class: "Daring", ptype: "Evasive", cost: 5, rules: "Before making an evade roll, this vehicle may gain any number of hazard tokens to add +1 to each of their evade dice for each hazard token gained. A roll of a '1' on an evade dice always counts as a failure.", shortRules: "", ruleset: "BASE"},
 {class: "Daring", ptype: "Powerslide", cost: 5, rules: "This vehicle may use any template except the long straight template instead of the slide template when applying a slide result. As with the movement step 1.1, you must use the first maneuver template you touch. Treat the selected maneuver template as a slide template for purposes of finding the vehicle's final position.", shortRules: "May use any template, except long straight, to resolve slide results", ruleset: "BASE"},
 {class: "Daring", ptype: "Slippery", cost: 3, rules: "Vehicles making a smash attack targeting this vehicle suffer a penalty of -2 attack dice", shortRules: "Enemies suffer -2 attack dice during samsh attack", ruleset: "BASE"},
 {class: "Daring", ptype: "Handbreak Artist", cost: 3, rules: "When applying a spin result, this vehicle may choose to face any direction", shortRules: "", ruleset: "BASE"},
 {class: "Daring", ptype: "Stunt Driver", cost: 7, rules: "This perk may only be taken on a lightweight or middleweight vehicle type with a base handling value of 3 or more. This vehicle may choose to ignore any number of obstructions during its movement step. After any movement step in which this vehicle chooses to ignore any obstruction using this ability, this vehicle immediately gains 3 hazard tokens.", shortRules: "", ruleset: "BASE"},
 {class: "Daring", ptype: "Chrome-Whisperer", cost: 2, rules: "This vehicle may push it any number of times during a single skid check, gaining +1 hazard token each time.", shortRules: "", ruleset: "BASE"},
 
 {class: "Military", ptype: "Return Fire", cost: 5, rules: "Once per gear phase, if this vehicle is the target of a shooting attack, this vehicle may take 2 hazard tokens to immediately attack, as if it was this vehicle's attack step.", shortRules: "", ruleset: "BASE"},
 {class: "Military", ptype: "Dead-Eye", cost: 2, rules: "During this vehicle's attack step this vehicle may gain a +1 bonus to hit if making a shooting attack at a target within double range and not within medium range. Critical hits still occur only on the natural roll of a 6.", shortRules: "", ruleset: "BASE"},
 {class: "Military", ptype: "Rapid Fire", cost: 2, rules: "Once per round, after attacking with a weapon, this vehicle may resolve an additional attack step in which it may only attack with that weapon. ", shortRules: "", ruleset: "BASE"},
 {class: "Military", ptype: "Headshot", cost: 4, rules: "When making a shooting attack, this vehicle's critical hits inflict 3 hits instead of the normal 2 hits.", shortRules: "", ruleset: "BASE"},
 {class: "Military", ptype: "Loader", cost: 2, rules: "At the start of its attack step, this vehicle may temporarily reduce its crew value by one, once, until the end of the attack step, to gain +1 bonus to hit with a single weapon. Critical hits still occur only on the natural roll of a 6. ", shortRules: "", ruleset: "BASE"},
 {class: "Military", ptype: "Fully Loaded", cost: 2, rules: "If a shooting weapon on this vehicle has 3 or more ammo tokens remaining before discarding an ammo token to attack, that weapon gains +1 attack dice.", shortRules: "", ruleset: "BASE"},
 
 {class: "Precision", ptype: "Mister Fahrenheit", cost: 2, rules: "This vehicle cannot gain more than 2 hazards tokens from collisions during a single activation.", shortRules: "", ruleset: "BASE"},
 {class: "Precision", ptype: "Moment of Glory", cost: 2, rules: "Once per game, after rolling the skid dice, but before resolving the results, this vehicle may immediately change any number of skid dice to any results they choose.", shortRules: "", ruleset: "BASE"},
 {class: "Precision", ptype: "Easy Rider", cost: 5, rules: "Once per turn, this vehicle may discard one rolled skid die result before applying the results.", shortRules: "", ruleset: "BASE"},
 {class: "Precision", ptype: "Restraint", cost: 2, rules: "When this vehicle changes down a gear, it does not gain a hazard token for changing gear, and may discard a hazard token.", shortRules: "", ruleset: "BASE"},
 {class: "Precision", ptype: "Expertise", cost: 3, rules: "This vehicle adds +1 to its handling value.", shortRules: "", ruleset: "BASE"},
 {class: "Precision", ptype: "Trick Driving", cost: 3, rules: "This vehicle may select a movement template as if its current gear was one higher or one lower.", shortRules: "", ruleset: "BASE"},
 
 {class: "Speed", ptype: "Hot Start", cost: 1, rules: "Roll a D6 at the start of the game This vehicle starts the game in that gear.", shortRules: "", ruleset: "BASE"},
 {class: "Speed", ptype: "Slipstream", cost: 2, rules: "If this vehicle is involved in a tailgate collision during its activation, this vehicle may declare a slipstream reaction. If they do, they other vehicle may not declare a reaction. If this vehicle declares a slipstream reaction: this vehicle may change up or down one gear and gains a hazard token. Neither vehicle gains hazard tokens as a result of this collision.", shortRules: "", ruleset: "BASE"},
 {class: "Speed", ptype: "Downshift", cost: 3, rules: "At the end of a movement step in which this vehicle changed down one or more gears, this vehicle may immediately make a forced short straight movement forward.", shortRules: "", ruleset: "BASE"},
 {class: "Speed", ptype: "Overload", cost: 2, rules: "When making a skid check, this vehicle may roll one additional skid die. If it does, it must change up at least one gear or gain a hazard token.", shortRules: "", ruleset: "BASE"},
 {class: "Speed", ptype: "Time Extended!", cost: 3, rules: "At the end of an activation in which this vehicle passes a gate, before checking for wipeouts, this vehicle may immediately remove any number of hazard tokens.", shortRules: "", ruleset: "BASE"},
 {class: "Speed", ptype: "Hell For Leather", cost: 5, rules: "This vehicle considers long straight to he permitted in any gear. The long straight is not considered either hazardous or trivial in any gear.", shortRules: "", ruleset: "BASE"},
 
 {class: "Technology", ptype: "Rocket Thrusters", cost: 1, rules: "When this vehicle is moved as part of a flip, it may choose to use the long straight, veer or gentle templates instead of the medium straight template.", shortRules: "", ruleset: "BASE"},
 {class: "Technology", ptype: "Whizbang", cost: 1, rules: "At the start of each game, this vehicle gains a random SPEED PERK. This perk is lost at the end of the game.", shortRules: "", ruleset: "BASE"},
 {class: "Technology", ptype: "Gyroscope", cost: 1, rules: "At the start of each game, this vehicle gains a random DARING PERK. This perk is lost at the end of the game.", shortRules: "", ruleset: "BASE"},
 {class: "Technology", ptype: "Mobile Mechanic", cost: 3, rules: "Once per activation, at the start of its attack step, this vehicle may temporarily reduce its crew value by one, once, until the end of the attack step, to perform a field repair. If it does, this vehicle gains 1 hull point, which may not take its hull points above the vehicle's hull value.", shortRules: "", ruleset: "BASE"},
 {class: "Technology", ptype: "Eureka!", cost: 4, rules: "Once per game, at the start of its attack step, this vehicle's controller may declare any weapon that this vehicle has not attacked with yet this game. This vehicle counts as being armed with the declared weapon, on a facing of their choice, for the next attack only.", shortRules: "", ruleset: "BASE"},
 {class: "Technology", ptype: "Satellite Navigation", cost: 2, rules: "When this vehicle resolves its skid dice, this vehicle's controller may set aside one shift result. This vehicle may have any number of shift results set aside. Any vehicle in this team may use these set aside shift results during a later movement step, as if they had rolled them in that movement step. ", shortRules: "", ruleset: "BASE"},
 
 {class: "Tuning", ptype: "Fenderkiss", cost: 2, rules: "When this vehicle makes a smash attack, this vehicle suffers a penalty of -2 attack dice. Vehicles making a smash attack targeting this vehicle suffer a penalty of -2 attack dice. ", shortRules: "", ruleset: "BASE"},
 {class: "Tuning", ptype: "Rear Drive", cost: 2, rules: "This vehicle may pivot about the centre of its front edge, rather than the centre of the vehicle, when resolving Spin results.", shortRules: "", ruleset: "BASE"},
 {class: "Tuning", ptype: "Delicate Touch", cost: 3, rules: "This vehicle ignores the hazard icons on maneuver templates.", shortRules: "", ruleset: "BASE"},
 {class: "Tuning", ptype: "Purring", cost: 6, rules: "This vehicle does not receive more than 1 hazard token from Spin results each turn. This vehicle does not receive more than 1 hazard token from Slide results each turn. This vehicle does not receive more than 1 hazard token from Hazard results each turn. Excess hazards are ignored. This vehicle may still elect to resolve multiple copies of each result.", shortRules: "", ruleset: "BASE"},
 {class: "Tuning", ptype: "Skiing", cost: 6, rules: "If this vehicle has handling 3 or higher, this vehicle may take 3 hazard tokens at the end of its activation to be ignored by other vehicles during their movement steps until the start of this vehicle's next activation. If, by ignoring this vehicle in this way, a vehicle's final position would overlap it, move that vehicle backwards along their maneuver template by the minimum amount to avoid overlapping any obstruction.", shortRules: "", ruleset: "BASE"},
 {class: "Tuning", ptype: "Momentum", cost: 3, rules: "When resolving a skid check, this vehicle may set aside any number of slide results to re-roll 1 non-slide result for each slide result set aside. When resolving a skid check, this vehicle may set aside any number for each spin results to re-roll 1 non-spin result for each spin result set aside. Set aside results must be resolved.", shortRules: "", ruleset: "BASE"},
 
 {class: "Pursuit", ptype: "On Your Tail", cost: 2, rules: "When an enemy vehicle resolves a spin or slide move that ends within short range of this vehicle, that vehicle gains +1 hazard token.", shortRules: "", ruleset: "BASE"},
 {class: "Pursuit", ptype: "Schadenfreude", cost: 2, rules: "If another vehicle within short range of this vehicle resolves a wipe out, (either before or after any flip), remove all hazard tokens from this vehicle.", shortRules: "", ruleset: "BASE"},
 {class: "Pursuit", ptype: "Taunt", cost: 2, rules: "At the start of this vehicle's attack step, roll a skid die. If you roll something other than a SHIFT result, you may place that skid die result onto the dashboard of a target vehicle within short range. This skid die result must be resolved during that vehicle's next skid check, and may not be re-rolled.", shortRules: "", ruleset: "BASE"},
 {class: "Pursuit", ptype: "Out Run", cost: 2, rules: "At the start of this vehicle's attack step, all vehicles within short range of this vehicle and in a current, lower gear than this vehicle gain +1 hazard token.", shortRules: "", ruleset: "BASE"},
 {class: "Pursuit", ptype: "PIT", cost: 4, rules: "During this vehicle's activation, if this vehicle is involved in a nonheadon collision with an enemy vehicle, it may declare a 'Pursuit Intervention Technique' (PIT) as its reaction, targeting the enemy vehicle, instead of declaring a smash attack or an evade. If this vehicle declares a PIT, it may select any movement template the target vehicle considers hazardous in its current gear. Immediately after the resolution of this collision, the target vehicle must make a forced move directly forward using the selected movement template.", shortRules: "", ruleset: "BASE"},
 {class: "Pursuit", ptype: "Unnerving Eye Contact", cost: 5, rules: "Enemy vehicles within short range of this vehicle may not use shift results to remove hazard tokens from their dashboard.", shortRules: "", ruleset: "BASE"},
 
 {class: "Built", ptype: "Dead Weight", cost: 2, rules: "During this vehicle's attack step, this vehicle may gain 2 hazards to count as one weightclass heavier (unless already heavyweight) until the start of it's next activation. ", shortRules: "", ruleset: "BASE"},
 {class: "Built", ptype: "Barrel Roll", cost: 2, rules: "When this vehicle suffers a flip, it may choose to place the medium straight touching the centre of either side edge or the rear edge of this vehicle, and perpendicular to that edge, instead of touching the front edge as normal.", shortRules: "", ruleset: "BASE"},
 {class: "Built", ptype: "Crush Attack", cost: 7, rules: "This vehicle gains the Crush Attack special rule (see the Monster Truck rules).", shortRules: "", ruleset: "BASE"},
 {class: "Built", ptype: "Splashback", cost: 5, rules: "Once per step, when this vehicle loses one or more hull points, make a 1D6 explosion attack against each vehicle within medium range at end of that step.", shortRules: "", ruleset: "BASE"},
 {class: "Built", ptype: "Bruiser", cost: 4, rules: "In a collision involving this vehicle, if this vehicle declares a reaction other than evade against an enemy vehicle, the enemy vehicle immediately gains one hazard token.", shortRules: "", ruleset: "BASE"},
 {class: "Built", ptype: "Feel No Pain", cost: 8, rules: "During an enemy vehicle's attack step, after an attacker has rolled all of their attack dice against this vehicle, if the attacks causes a total of 2 or fewer uncancelled hits, cancel all remaining hits.", shortRules: "", ruleset: "BASE"},
 
 {class: "Horror", ptype: "Angel of Death", cost: 4, rules: "Before making an attack, this vehicle may elect to suffer up to three damage to add that many attack dice to a single weapon used in this attack.", shortRules: "", ruleset: "BASE"},
 {class: "Horror", ptype: "Highway To Hell", cost: 2, rules: "At the end of its movement step, if this vehicle selected a straight template, this vehicle may suffer 2 damage. This damage counts as having the 'Fire' rule. If any hull points are removed by this effect, this vehicle may leave its movement template (ignoring any slide template) in play as a Napalm dropped weapon template. Remove this template at the start of this vehicle's next activation.", shortRules: "", ruleset: "BASE"},
 {class: "Horror", ptype: "Violent Manifestation", cost: 3, rules: "When this vehicle is respawned: make an immediate explosion attack (with attack dice based on the weight of the respawned vehicle) against every other vehicle within medium range. This explosion counts as having the 'Fire' rule. ", shortRules: "", ruleset: "BASE"},
 {class: "Horror", ptype: "Purifying Flames", cost: 1, rules: "Once per activation, at the start of this vehicles activation, this vehicle may suffer up to 3 damage to repair one hull point on a friendly vehicle for each hull point removed by this effect. This damage counts as having the 'Fire' rule . This effect may not be used to raise a vehicle above its hull value. ", shortRules: "", ruleset: "BASE"},  
 {class: "Horror", ptype: "Ecstatic Visions", cost: 1, rules: "Once per activation, at the start of this vehicle's activation, this vehicle may elect to to gain up to 3 hazard tokens to discard one hazard token from a friendly vehicle for each hazard token gained.", shortRules: "", ruleset: "BASE"}, 
 {class: "Horror", ptype: "Sympathy For The Devil", cost: 1, rules: "When this vehicle makes an evade check, it's controller may select a friendly vehicle within medium range. Add the current gear of the selected vehicle to this vehicle's current gear for the purposes of this evade check. Both the selected vehicle and this vehicle suffer any unsaved damage from this attack, including any additional effects.", shortRules: "", ruleset: "BASE"},
 
 {class: "Reckless", ptype: "Whipping Post", cost: 4, rules: "At the start of this vehicle's activation, it may gain 4 hazard tokens. If it does, this vehicle cannot gain or lose any hazard tokens by any means until the start of its next activation.", shortRules: "", ruleset: "BASE"},
 {class: "Reckless", ptype: "Beerserker", cost: 5, rules: "When this vehicle would suffer damage outside of it's activation, reduce that damage by 1, to a minimum of 1.", shortRules: "", ruleset: "BASE"},
 {class: "Reckless", ptype: "Hog Wild", cost: 2, rules: "This vehicle gains +2 smash attack dice during any collision resolved during a wipe out step.", shortRules: "", ruleset: "BASE"},
 {class: "Reckless", ptype: "In For A Penny", cost: 2, rules: "If this vehicle has gained six or more hazard tokens during this activation, it may double the attack dice of any smash attack for this activation only.", shortRules: "", ruleset: "BASE"},
 {class: "Reckless", ptype: "Drive Angry", cost: 1, rules: "Gain 1 hazard token at the start of each activation.", shortRules: "", ruleset: "BASE"},
 {class: "Reckless", ptype: "Bigger'n You", cost: 4, rules: "Double any smash attack bonuses or penalties resulting from weight differences in collisions involving this vehicle.", shortRules: "", ruleset: "BASE"}
];

const allPerkClasses =
 Array.from(
  new Set(allPerks.map(p => p.class))
 );

// show unused perk classes
/*var allPerksClassesOfSponsors = [].concat.apply([],allSponsors.map(s => s.perkClasses));
console.log(allPerksClassesOfSponsors);
var unusedClasses = allPerkClasses.filter(pc => !allPerksClassesOfSponsors.includes(pc));
console.log(unusedClasses);
*/
const aggressionPerks = allPerks.filter(x => x.class == "Aggression");</script> <script>function TeamCollectionViewModel() {
 var self = this;

 self.nextTeamId = 0;
 self.sortField = "teamName";
 self.currentTeamIdx = ko.observable(-1);
 self.teams = ko.observableArray([]);
 self.printMode = ko.observable(false);
 self.checkpointSerial = ko.observable("");

 self.getNextTeamId = function() {
  return "team_" + (self.nextTeamId++).toString();
 };

 self.createTeam = function() {
  var newT = new TeamViewModel(self)
  newT.editMode(true);

  self.addTeam(newT);
  return newT.teamId;
 }

 self.addTeam = function (team) {
  self.teams.push(team);
  self.currentTeamIdx(self.teams().length - 1);
 };

 self.removeTeam = function(team) {
  self.teams.remove(team);
  self.currentTeamIdx(-1);
 };

 self.cloneTeam = function(team) {
  self.addTeam(team.clone());
 };

 self.setCurrentTeam = function(team) {
  self.currentTeamIdx(self.teams().indexOf(team));
 }

 self.sortTeams = function() {
  var tmp = self.teams().slice(); // shallow copy
  tmp.sort((t1, t2) => {
   if(t1.teamName() == t2.teamName()) {
    return 0;
   }
   else if(t1.teamName() < t2.teamName()) {
    return -1;
   }

   return 1;
  });
  self.teams(tmp);
 }

 self.currentTeam = ko.computed(function() {
  var idx  = self.currentTeamIdx();
  if(idx >= 0 && idx < self.teams().length)
  {
   return self.teams()[idx];
  }

  return null;
 });

 self.checkpoint = function() {
  self.checkpointSerial(self.serialise());
 }

 self.serialise = ko.computed(function() {
  var tmpModel = {
   teams: self.teams().map(t => t.toSimpleObject())
  };

  return JSON.stringify(tmpModel);
 });

 self.deserialise = function(serial) {
  var tmpModel = JSON.parse(serial);

  // detect invalid Miyazaki teams (ones with Monster trucks)
  var invalidTeams = tmpModel.teams.filter(t => 
   t.sponsor == "Miyazaki" 
   &&
   t.vehicles.filter(v => v.vehicleType == "Monster Truck").length > 0
  );
  
  if(invalidTeams.length > 0) {
   alert("Warning!\nTeam(s) " + invalidTeams.map(t => t.teamName).join(",") + " are no longer valid in TX3 because Miyazaki cannot use Monster Trucks");
  }
      
  var tms = tmpModel.teams.map(
    tmpt => TeamViewModel.fromSimpleObject(tmpt, self)
   );

  self.teams(tms);
 }

 self.modified = ko.computed(function() {
  return self.checkpointSerial() != self.serialise();
 });
}</script> <script>function TeamViewModel(collection, sponsor=allSponsors[0], teamType = "Standard") {
 var self = this;

 self.collection = collection;
 self.teamId = self.collection.getNextTeamId();
 self.nextVehicleId = 0;
 self.teamType = ko.observable(teamType);
 self.teamName = ko.observable("unknown");
 self.editMode = ko.observable(false);
 self.sponsor = ko.observable(sponsor);
 self.vehicles = ko.observableArray([]);
 self.maxCost = ko.observable(50);
 self.builtinVehicles = ko.observableArray([]);

 self.getNextVehicleId = function() {
  return self.teamId  + "_vehicle_" + (self.nextVehicleId++).toString();
 };

 self.teamVehicles = ko.computed(function() {
  return self.builtinVehicles().concat(self.vehicles());
 });

 self.toggleEditMode = function () {
  self.editMode(!self.editMode());
 };

 self.availableSponsors = ko.computed(function() {
  if(self.teamType() == "SavageHighwaysRiggerTeam") {
   return allSponsors.filter(s => savageHighwaysRiggerTeamNames.some(k => k == s.name));
  }

  return allSponsors;
 });

 self.sponsorMode = ko.computed(function() {
  return (self.sponsor() != allSponsors[0]);
 });

 self.sponsor.subscribe( function(newVal) {
  self.validateVehicles();

  if(self.teamType() == "SavageHighwaysRiggerTeam") {
   if(self.builtinVehicles().length > 0) {
    self.builtinVehicles.remove(self.builtinVehicles()[0]);
   }

   self.builtinVehicles.push(SavageHighwaysFactory.createWarRig(self.sponsor().name, self));
  }
 });

 self.playKeywords = ko.computed(function() {
  return self.sponsor().keywords.filter(k => allKeywords[k].phase == "Play").join(", ");
 });

 self.playKeywordObjects = ko.computed(function() {
  var playKeywords = self.sponsor().keywords.filter(k => allKeywords[k].phase == "Play");

  return sponsorKeywords.filter(sk => playKeywords.indexOf(sk.ktype) >= 0);
 });

 self.printPreview = function() {
  self.collection.setCurrentTeam(self);
  self.collection.printMode(true);
 }

 self.teamCost = ko.computed(function() {
  return self.vehicles().reduce((acc, curV) => acc + curV.cost(), 0);
 });

 self.teamCostStyle = ko.computed(function () {
  return (self.teamCost() > self.maxCost() ? "warning" : "");
 });

 self.allowedVehicles = function() {
  var vehic = allVehicles.filter(v => {
   if(self.sponsorMode() == false) {
    return true;
   }
   else if(self.sponsor().name == "Rutherford") {
    return (v.weight != "Light");
   }
   else if(self.sponsor().name != "Rutherford" && ["Tank", "Helicopter"].includes(v.vtype)) {
    return false;
   }
   else if(self.sponsor().name == "Miyazaki") {
    return v.handling > 2;
   }
   else if(self.sponsor().name == "Idris") {
    return !["Gyrocopter"].includes(v.vtype);
   }   

   return !["Tank", "Helicopter"].includes(v.vtype);
  });

  return vehic;
 };

 self.availableVehicles = function(mustInclude = null) {
  var onlyOneVehicles = ["Tank", "Helicopter"];

  var veh = self.allowedVehicles().filter(v =>
     self.sponsorMode() == false // all vehicles allowed if not sponsor mode
     ||
     onlyOneVehicles.indexOf(v.vtype) < 0 // if it's not an "only one" vehicle
     ||
     !(self.vehicles().some(sv => sv.baseVehicle().vtype == v.vtype)) // only 1 tank or helicopter allowed in sponsor mode
     ||
     (mustInclude != null && mustInclude == v) // also make sure to include the requested vehicle
    );

  return veh;
 };
 
 self.allowedTrailers = function() {
  var tra = allTrailers.filter(t => 
   t.ttype == "None"
   ||
   self.sponsor().name == "Rusty's Bootleggers"
  )
  
  return tra
 };
          
 self.availableTrailers = function(mustInclude = null) {
  return self.allowedTrailers();
 };
 
 self.allowedCargos = function() {
  var cgos = allCargos.filter(c => c.ctype == "None" || self.sponsor().name == "Rusty's Bootleggers");
  
  return cgos;
 };
 
 self.availableCargos = function(mustInclude = null) {
  return self.allowedCargos();
 };

 self.addVehicle = function () {
  var newV = new VehicleViewModel(defaultVehicle, self);
  self.vehicles.push(newV);

  return newV.vehicleId;
 };

 self.removeVehicle = function(vehicle) {
  self.vehicles.remove(vehicle)
 };

 self.allowedWeapons = function() {
  var weap = allWeapons.filter(w =>
   self.sponsorMode() == false
   || w.allowedSponsors.length == 0
   || w.allowedSponsors.includes(self.sponsor().name)
  );

  return weap;
 };

 self.allowedUpgrades = function() {
  var upg = allUpgrades.filter(u =>
   u.allowedSponsors.length == 0
   ||
   (self.sponsorMode() == true && u.allowedSponsors.includes(self.sponsor().name))
  );

  return upg;
 };

 self.allowedPerks = function() {
  var pks = allPerks.filter(p => self.sponsor().perkClasses.includes(p.class)) // all perks allowed by sponsor

  return pks;
 };


 self.validateVehicles = () => {
  var tmpV = self.vehicles().slice(0); // clone collection
  var allowedTypes = self.allowedVehicles().map(v => v.vtype);

  tmpV.forEach(v => {
   if(!allowedTypes.includes(v.vehicleType())) {
    self.removeVehicle(v);
   }
   else {
    v.validate();
   }
  });
 }
 
 self.includesSupplementItems = function(supp) {
  return self.teamVehicles().some(v => v.includesSupplementItems(supp));  
 };

 self.serialise = ko.computed(function() {
  var tmpModel = {
   teamName: self.teamName(),
   sponsorMode: self.sponsorMode(),
   sponsor: self.sponsor().name,
   vehicles: self.vehicles().map(v => v.toSimpleObject())
  };

  return JSON.stringify(tmpModel);
 });

 self.deserialise = function(serial) {
  var tmpModel = JSON.parse(serial);

  self.teamName(tmpModel.teamName);

  /* Vehicle data versions

  v1: No sponsor, sponsorMode or perks
  v2: added sponsor, sponsorMode and perks
  v3: removed sponsorMode (now calculated field)
  */

  self.sponsor(allSponsors[0]); // None. I.e. default

  if("sponsor" in tmpModel) { // must be v2 or v3
   if( !("sponsorMode" in tmpModel) || // v3
    ("sponsorMode" in tmpModel && tmpModel.sponsorMode)) // must be v2 with a set sponsor
   {
    var spons = allSponsors.filter(s => s.name == tmpModel.sponsor);

    if(spons.length == 1) {
     self.sponsor(spons[0]);
    }
   }
  }

  var veh = tmpModel.vehicles.map(
    tmpv => VehicleViewModel.fromSimpleObject(tmpv, self)
   );

  self.vehicles(veh);
 }

 self.clone = function() {
  var tmpT = TeamViewModel.fromSimpleObject(self.toSimpleObject(), self.collection);
  tmpT.teamName(tmpT.teamName() + " (clone)");

  return tmpT;
 }

 self.toSimpleObject = function() {
  return {
   teamType: self.teamType(),
   teamName: self.teamName(),
   sponsor: self.sponsor().name,
   vehicles: self.vehicles().map(v => v.toSimpleObject()),
   maxCost: self.maxCost()
  };
 };
}

TeamViewModel.fromSimpleObject = function(so, coll) {
 var sponsor = allSponsors[0]; // None
 if("sponsor" in so)
 {
  var spons = allSponsors.filter(s => s.name == so.sponsor);
  if(spons.length != 1) {
   throw "Unknown sponsor '" + so.sponsor + "'";
  }

  sponsor = spons[0];
 }

 var newT = null;
 if("teamType" in so) {
  newT = new TeamViewModel(coll, sponsor, so.teamType);
 } else {
  newT = new TeamViewModel(coll);
 }


 var vehic = so.vehicles.map(
   tv => VehicleViewModel.fromSimpleObject(tv, newT)
  ).filter(v => v != null);


 newT.teamName(so.teamName);
 newT.sponsor(sponsor);
 newT.vehicles(vehic);
 newT.maxCost(so.maxCost);

 return newT;
}</script> <script>function VehicleViewModel(basev, team) {
 var self = this;

 /*****************************************
 * bindable ko properties/values
 *****************************************/
 self.team = team;
 self.vehicleId = team.getNextVehicleId();
 self.baseVehicle = ko.observable(basev);
 self.specialRules = ko.observableArray([]);
 self.vehicleName = ko.observable("Vehicle " + (nextVehicleNum++).toString());
 self.weapons = ko.observableArray([]); // array initialised at the bottom;
 self.upgrades = ko.observableArray([]);
 self.perks = ko.observableArray([]);
 self.cargo = ko.observable(allCargos[0]); // null object
 self.trailer = ko.observable(allTrailers[0]); // null object
 self.vehicleType = ko.computed(function() { return self.baseVehicle().vtype;});
 self.weight = ko.computed(function() { return self.baseVehicle().weight;});

 self.hull = ko.computed(function() {
  var armour = self.upgrades().reduce((acc, u) => {
   if(u.upgradeType() == "Armour Plating") return acc + 2;
   if(u.upgradeType() == "Prison Vehicle") return acc - 2;
   if(u.upgradeType() == "MicroPlate Armour") return acc + 2;
   return acc;
  }, 0);

  return self.baseVehicle().hull + armour;
 });

 self.handling = ko.computed(function() {
  var adjustment = 0;

  if(self.upgrades().some(u => u.upgradeType() == "Tank tracks")) {
   adjustment = +1;
  }

  if(self.team.sponsorMode() && self.perks().some(p => p.perkType() == "Expertise")) {
   adjustment = +1;
  }

  return self.baseVehicle().handling + adjustment;
 });

 self.maxGear = ko.computed(function() {
  var adjustment = 0;

  if(self.upgrades().some(u => u.upgradeType() == "Tank tracks")) {
   adjustment = -1;
  }

  if(self.team.sponsorMode() && self.upgrades().some(u => u.upgradeType() == "Experimental Nuclear Engine")) {
   adjustment += 2;
  }

  return Math.min(self.baseVehicle().maxGear + adjustment, 6);
 });

 self.crew = ko.computed(function() {
  var extraCrew = self.upgrades().filter(u => u.upgradeType() == "Extra Crewmember").length;
  
  return self.baseVehicle().crew + extraCrew;
 });

 self.mostExpensiveTurret = ko.computed(function() {
  var allTurrets = self.weapons().filter(w => w.facing() == "Turret/360");
  
  if(allTurrets.length > 0) {
   allTurrets.sort((w1, w2) => w2.baseWeapon().cost - w1.baseWeapon().cost);
   return allTurrets[0];
  }
  
  return null;
 });
             
 self.cost = ko.computed(function() {
  // dealing with TX3 Prison Vehicle errata, 
  // it's a bit convoluted, basic idea is to add cans to the vehicle cost to compensate for the -4 that will occur later, 
  // AFAIK only applies to ice cream truck
  var vehicleCost = self.baseVehicle().cost;  
  if(self.upgrades().some(u => u.baseUpgrade().utype == "Prison Vehicle")) {
   vehicleCost += Math.max(5 - (vehicleCost - 4), 0);
  }

  var weaponCost = (self.weapons().reduce((acc, w) => acc + (w.cost() == "-" ? 0 : w.cost()), 0));
  var upgradeCost = (self.upgrades().reduce((acc, u) => acc + (u.cost() == "-" ? 0 : u.cost()), 0));
  var perkCost = 0;

  if(self.team.sponsorMode()) {
   perkCost = self.perks().reduce((acc, p) => acc + (p.cost() == "-" ? 0 : p.cost()), 0);
  }

  var trailerCost = self.trailer().cost;
  
  return (vehicleCost + weaponCost + upgradeCost + perkCost + trailerCost);
 });

 self.readOnly = ko.computed(function() {
  return self.specialRules().some(sr => sr == "SavageHighwaysWarRig");
 });
 
 self.showRandomSpeedPerksTable = ko.computed( function() {
  return self.perks().some(p => p.perkType() == "Whizbang");
 });

 self.showRandomDaringPerksTable = ko.computed( function() {
  return self.perks().some(p => p.perkType() == "Gyroscope");
 });


 self.allKeywords = function () {
  var baseV = self.baseVehicle()
  var words = [baseV.weight + "weight"];

  words = words.concat(self.team.sponsor().keywords);
  words = words.concat(baseV.keywords);
  words = words.concat(self.upgrades().reduce((acc, u) => acc = acc.concat(u.baseUpgrade().keywords), []));

  return Array.from(new Set(words));
 };

 self.keywords = ko.computed( function() {
  return self.allKeywords().join(", ");
 });

 self.playKeywords = ko.computed(function() {
  return self.allKeywords().filter(k => !(k in allKeywords) || allKeywords[k].phase == "Play").join(", ");
 });

 self.playKeywordObjects = ko.computed(function() {
  var playKeywords = self.allKeywords().filter(k => !(k in allKeywords) || allKeywords[k].phase == "Play");

  var teamKeywords = self.team.playKeywordObjects();

  return teamKeywords.concat(vehicleKeywords.filter(vk => playKeywords.indexOf(vk.ktype) >= 0));
 });
 
 self.canHaveTrailer = ko.computed(function() {
  return (
   self.team.sponsor().name == "Rusty's Bootleggers" 
   && !["Helicopter", "Gyrocopter"].includes(self.baseVehicle().vtype)
  );
 });
 
 self.canRemoveTrailer = ko.computed(function() {
  return self.baseVehicle().vtype != "War Rig";
 });
 
 self.hasTrailer = ko.computed(function() {
  result = (
   self.trailer().ttype != "None"
   || 
   self.baseVehicle().vtype == "War Rig"
  );

  return result;
 });
 
 self.trailerName = ko.computed(function() {
  var name = self.trailer().ttype;
  if(self.baseVehicle().vtype == "War Rig") {
   name = "Built-in"; 
  }

  return name;
 });
 
 self.remainingSlots = ko.computed(function() {
  var weaponSlots = (self.weapons().reduce((acc, w) => acc + (w.slots() == "-" ? 0 : w.slots()), 0));
  var upgradeSlots = (self.upgrades().reduce((acc, w) => acc + (w.slots() == "-" ? 0 : w.slots()), 0));
  var totalSlots = self.baseVehicle().slots;
  totalSlots += self.trailer().slots;
  
  return (totalSlots - weaponSlots - upgradeSlots);
 });


 /*****************************************
 * bindable lists (for filling combo boxes etc)
 *****************************************/
 self.baseVehicleOptions = ko.computed(function() {
  var veh = self.team.availableVehicles(self.baseVehicle()).slice();

  return veh;
 });
 
 self.baseTrailerOptions = ko.computed(function() {
  var tra = self.team.availableTrailers().slice().filter(t => 
   t.ttype == "None"
   || 
   self.baseVehicle().vtype != "War Rig"
  );

  return tra;
 });
 
 self.allowedCargos = ko.computed(function() {  
  var cgos = self.team.availableCargos().slice().filter(c => self.hasTrailer() && self.team.sponsor().name == "Rusty's Bootleggers" ? c.ctype != "None" : c.ctype == "None"); 
  
  return cgos;
 });
 
 self.baseCargoOptions = ko.computed(function() {
  var cgo = self.allowedCargos().slice();

  return cgo;
 });

 /*****************************************
 * bindable style/display helpers
 *****************************************/
 self.hullStyle = ko.computed(function() {
  if(self.hull() != self.baseVehicle().hull) {
   return "modified";
  }

  return "";
 });

 self.hullSpaces = ko.computed(function() {
  return Array.from(" ".repeat(self.hull()));
 });

 self.handlingStyle = ko.computed(function() {
  if(self.handling() != self.baseVehicle().handling) {
   return "modified";
  }

  return "";
 });

 self.maxGearStyle = ko.computed(function() {
  if(self.maxGear() != self.baseVehicle().maxGear) {
   return "modified";
  }

  return "";
 });

 self.crewNumStyle = ko.computed(function() {
  if(self.crew() > self.baseVehicle().crew * 2) {
   return "warning";
  }
  else if(self.crew() != self.baseVehicle().crew ) {
   return "modified";
  }

  return "";
 });

 self.remainingSlotsStyle = ko.computed(function() {
  if(self.remainingSlots() < 0) {
   return "warning";
  }

  return "";
 });

 self.nitrousCount = ko.computed(function() {
  var nitroCount = self.upgrades().filter(u => u.upgradeType() == "Nitro Booster").length;
  
  if(self.baseVehicle().keywords.includes("Jet Engine")) {
   nitroCount = -1;
  }
  
  return nitroCount;  
 });
         
 self.nitrousSpaces = ko.computed(function() {
  var nitroCount = self.upgrades().filter(u => u.upgradeType() == "Nitro Booster").length;

  return Array.from(" ".repeat(nitroCount));
 });

 self.specialRulesString = ko.computed(() => {
  var rules = [];

  self.specialRules().forEach(sr => {
   switch(sr) {
    case "SavageHighwaysWarRig":
     rules.push("Savage Highways War Rig");
   }
  });

  return rules.join(", ");
 });

 self.upgradesString = ko.computed(function () {
  // initialise counts to 0
  var upgCounts = {};
  allUpgrades.forEach(u => upgCounts[u.utype] = 0);

  // now count the actual upgrades
  self.upgrades().forEach(u => upgCounts[u.upgradeType()] = upgCounts[u.upgradeType()] + 1);

  // produce the output string
  var outArr = [];
  Object.keys(upgCounts).forEach(function(k) {
   if(k != "Nitro Booster" && upgCounts[k] > 0) {
    if(upgCounts[k] > 1) {
     outArr.push(k + " (" + upgCounts[k] + ")");
    }
    else {
     outArr.push(k);
    }
   }
  });

  if(upgCounts["Nitro Booster"] > 0) {
   outArr.push("Nitro Booster");
  }
  
  if(self.baseVehicle().keywords.includes("Jet Engine")) {
   outArr.push("Nitro Booster ")
  }
  
  if(outArr.length == 0) {
   return "-";
  }

  return outArr.join(", ");
 });
 
 /*****************************************
 * Supplement Check function
 *****************************************/
 
 self.includesSupplementItems = function(supp) {
  return (supp == 'TX1' && self.specialRules().some(sr => sr == "SavageHighwaysWarRig"))
  ||
  self.team.sponsor().ruleset == supp
  ||
  self.baseVehicle().ruleset == supp
  ||
  self.weapons().some(w => w.baseWeapon().ruleset == supp)
  ||
  self.upgrades().some(u => u.baseUpgrade().ruleset == supp);  
 };

 /*****************************************
 * POJO functions
 *****************************************/
 self.addTrailer = function() {
  self.trailer(allTrailers[0]);
 };
 
 self.removeTrailer = function() {
  self.trailer(null);
 };
 
 self.addWeapon = function() {
  var newWeap = new WeaponViewModel(allWeapons[1], self);
  self.weapons.push(newWeap);
 };

 self.removeWeapon = function(weapon) {
  self.weapons.remove(weapon);
 };

 self.addUpgrade = function() {
  self.upgrades.push(new UpgradeViewModel(self.availableUpgrades()[0], self));
 };

 self.removeUpgrade = function(upgrade) {
  self.upgrades.remove(upgrade);
 };

 self.addPerk = function() {
  self.perks.push(new PerkViewModel(self.availablePerks()[0], self));
 };

 self.removePerk = function(perk) {
  self.perks.remove(perk);
 };

 self.allowedWeapons = function() {
  var weap = self.team.allowedWeapons().filter(w => w.wtype != "Exploding Ram" || self.baseVehicle().weight != "Light"); // light vehicles can't take exploding rams

  return weap;
 };

 self.availableWeapons = function(mustInclude = null) {
  var weap = self.allowedWeapons().filter(w =>
   w.limit == null // if the type is not number limited
   ||
   (self.weapons().filter(sw => sw.baseWeapon() == w).length < w.limit) // if we haven't already added it up to its fixed limit
   ||
   (mustInclude != null && mustInclude == w) // also make sure to include the requested weapon
  );

  return weap;
 };

 self.allowedUpgrades = function() {
  var upg = self.team.allowedUpgrades().filter(u =>
   !(u.utype == "Nitro Booster" && self.baseVehicle().keywords.includes("Jet Engine")) // Drag racers don't need nitrous
   &&
   !(u.utype == "Prison Vehicle" && self.baseVehicle().weight != "Middle") // prison vehicles must be middle weight
   &&
   !(u.utype == "Tank tracks" && ["Helicopter", "Gyrocopter", "Tank"].includes(self.baseVehicle().vtype)) // flying vehicles and tanks can't have tank tracks
  );

  return upg;
 };

 self.availableUpgrades = function(mustInclude = null) {
  var upg = self.allowedUpgrades().filter(u =>
   (u.utype != "Extra Crewmember" && u.limit == null) // if the type is not number limited
   ||
   (u.utype == "Extra Crewmember" && self.crew() < (2*self.baseVehicle().crew)) // if we don't have too many crew yet
   ||
   (self.upgrades().filter(uu => uu.baseUpgrade() == u).length < u.limit) // if we haven't already added it up to its fixed limit
   ||
   (mustInclude != null && mustInclude == u) // also make sure to include the requested upgrade
  );

  return upg;
 };

 self.allowedPerks = function() {
  var pks = self.team.allowedPerks().filter(p => {
   if(p.ptype == "Stunt Driver") {
    return ["Light", "Middle"].includes(self.baseVehicle().weight) && self.baseVehicle().handling >= 3;
   }
   
   if(p.ptype == "Skiing") {
    return self.handling() >= 3;
   }

   if(p.ptype == "Experimental Nuclear Engine") {
    return (self.baseVehicle().weight != "Light") // nuclear engine can't be on lightweigt vehicles
   }

   return true;
  });

  return pks;
 }

 self.availablePerks = function(mustInclude = null)
 {
  var pks = self.allowedPerks().filter(p =>
   !self.perks().some(pp => pp.basePerk() == p) // if we haven't already added the perk ie all perks have a limit of 1
   ||
   (mustInclude != null && mustInclude == p) // also make sure to include the requested perk
  );

  return pks;
 };

 self.validate = function() {
  // validate weapons
  var tmpW = self.weapons().slice(0); // clone collection
  var allowedTypes = self.allowedWeapons().map(w => w.wtype);

  tmpW.forEach(w => {
   if(!allowedTypes.includes(w.weaponType())) {
    self.removeWeapon(w);
   }
  });

  // validate upgrades
  var tmpU = self.upgrades().slice(0); // clone collection
  var allowedTypes = self.allowedUpgrades().map(u => u.utype);

  tmpU.forEach(u => {
   if(!allowedTypes.includes(u.upgradeType())) {
    self.removeUpgrade(u);
   }
  });

  // validate perks
  var tmpP = self.perks().slice(0); // clone collection
  var allowedTypes = self.allowedPerks().map(p => p.ptype);

  tmpP.forEach(p => {
   if(!allowedTypes.includes(p.perkType())) {
    self.removePerk(p);
   }
  });
 }

 self.toSimpleObject = function() {
  var pks = [];
  if(self.team.sponsorMode()) {
   pks = self.perks().map(p => p.toSimpleObject())
  }

  return {
   vehicleName: self.vehicleName(),
   vehicleType: self.baseVehicle().vtype,
   weapons: self.weapons().map(w => w.toSimpleObject()),
   upgrades: self.upgrades().map(u => u.toSimpleObject()),
   trailer: self.trailer().ttype,
   cargo: self.cargo().ctype,
   perks: pks
  };
 };
}

VehicleViewModel.fromSimpleObject = function(so, team) {
 // find base vehicle based on vehicle type
 
 
 soVehicleType = so.vehicleType  // deal with TX2 -> TX3 vehicle changes
 if(soVehicleType == "Car/Jeep") {
  soVehicleType = "Car"
 }
 
 if(soVehicleType == "Buggy/Trike/Bike + sidecar") {
  soVehicleType = "Buggy/Trike"
 }
 
 var vehicles = allVehicles.filter(v => v.vtype == soVehicleType);
 
 if(vehicles.length == 1) {
  var newV = new VehicleViewModel(vehicles[0], team);

  var wpns = so.weapons.map(
   tw => WeaponViewModel.fromSimpleObject(tw, newV)
  ).filter(w => w != null);

  var upgs = so.upgrades.map(
   tu => UpgradeViewModel.fromSimpleObject(tu, newV)
  );

  var pks = [];
  if("perks" in so) {
   pks = so.perks.map(
    tp => PerkViewModel.fromSimpleObject(tp, newV)
   );
  }
  
  var tlr = allTrailers[0];  // Default None
  if("trailer" in so) {
   var so_tlrs = allTrailers.filter(t => t.ttype == so.trailer);
   if(so_tlrs.length  == 1) {
    tlr = so_tlrs[0];
   }
  }
  
  var cgo = allCargos[0]; // Default None
  if("cargo" in so) {
   var so_cgos = allCargos.filter(c => c.ctype == so.cargo);
   if(so_cgos.length  == 1) {
    cgo = so_cgos[0];
   }
  }
  
  newV.vehicleName(so.vehicleName);
  newV.weapons(wpns);
  newV.upgrades(upgs);
  newV.perks(pks);
  newV.trailer(tlr);
  newV.cargo(cgo);
  
  return newV;
 }
 else {
  throw "Unknown vehicle type '" + so.vehicleType + "'";
 }
}</script> <script>function WeaponViewModel(basew, vehicle) {
 var self = this;
 self.vehicle = vehicle;


 /*****************************************
 * bindable ko properties/values
 *****************************************/
 self.baseWeapon = ko.observable(basew);
 self.location = ko.observable(allLocations[0]);
 self.selectedFacing = ko.observable("Front");

 self.weaponType = ko.computed(function() { return self.baseWeapon().wtype;});
 self.attackType = ko.computed(function() { return self.baseWeapon().attackType;});
 self.attack = ko.computed(function() {
  if(self.weaponType() == "Mortar" && self.vehicle.upgrades().some(u => u.upgradeType() == "Cluster Bombs")) {
   return self.baseWeapon().attack + "/2D6";
  }

  return self.baseWeapon().attack;
 });
 self.range = ko.computed(function() {
  if(self.attackType() == "Dropped" && self.vehicle.upgrades().some(u => u.upgradeType() == "Improvised Sludge Thrower")) {
   return "Medium/" + self.baseWeapon().range;
  }

  return self.baseWeapon().range;
 });
 
 self.slots = ko.computed(function() {
  var slt = self.baseWeapon().slots;

  if(self.vehicle.keywords().indexOf("Bombs away") >= 0 && self.attackType() == "Dropped") {
   slt = 0;
  }
  
  if(self.baseWeapon().wtype == "Ram" && self.vehicle.team.sponsor().keywords.some(k => k == "Spiked Fist")) {
   slt = 0;
  }

  return Format0(slt);
 });

 self.specialRules = ko.computed(function() {
  var specialRules = self.baseWeapon().specialRules;
  
  if(self.weaponType() == "Mortar" && self.vehicle.upgrades().some(u => u.upgradeType() == "Cluster Bombs")) {
   specialRules += ". Instead of attack may do 2D6 explosion attack to all vehicles within medium range of target";
  }
  
  if(self.baseWeapon().crewFired == true 
     && self.vehicle.allKeywords().includes("Battle Taxi") 
     && specialRules.toLowerCase().includes("blitz") == false)
  {
   specialRules += ". Blitz";
  }
  
  return specialRules;
 });
 self.ammo = ko.computed(function() {
  var ammoCount = self.baseWeapon().ammo;
  if(ammoCount == 3 && self.vehicle.team.sponsor().name == "Rutherford") {
   ammoCount += 1;
  }
  return Format0(ammoCount);
 });

 self.availableFacings =  ko.computed(function() {
  if(self.baseWeapon().crewFired == true || self.baseWeapon().wtype == "Thumper" || self.baseWeapon().wtype == "Wall Of Amplifiers") {
   return ["360"];
  } else if(self.attackType() == "Dropped") {
   if(self.vehicle.upgrades().some(u => u.upgradeType() == "Improvised Sludge Thrower")) {
    return ["360"];
   } else {
    return ["Rear", "Sides"];
   }
  } else if(self.baseWeapon().wtype == "BFG") {
   return ["Front"];
  } else if(self.attackType() == "Shooting") {
   return ["Front", "Rear", "Sides", "Turret/360"];
  } else { // Smash
   return ["Front", "Rear", "Sides"];
  }
 });

 // must be after availableFacings declaration :(
 self.facing = ko.computed(function() {
  if(self.availableFacings().length == 1) {
   return self.availableFacings()[0];
  }
  else {
   return self.selectedFacing();
  }
 });

 self.cost = ko.computed(function() {
  multiplier = 1;
  
  if(self.facing() == "Turret/360"
   && (
    (!self.vehicle.allKeywords().some(k => k == "Turret") 
    || 
    self.vehicle.mostExpensiveTurret() != self) )
    ) {
   multiplier = 3;
  }
  
  return Format0(multiplier * self.baseWeapon().cost);
 });

 /*****************************************
 * bindable lists (for filling combo boxes etc)
 *****************************************/
 self.weaponOptions = ko.computed(function() {
  var weap = self.vehicle.availableWeapons(self.baseWeapon()).slice();

  return weap;
 });

 /*****************************************
 * bindable style/display helpers
 *****************************************/
 self.ammoSpaces = ko.computed(function() {
  return Array.from(" ".repeat(self.ammo()));
 });

 /*****************************************
 * POJO functions
 *****************************************/
 self.toSimpleObject = function() {
  return {
   weaponType: self.weaponType(),
   facing: self.facing(),
   location: self.location()
  };
 };
}

WeaponViewModel.fromSimpleObject = function(so, vehicle) {
 if(so.weaponType == "Handgun")
 {
  return null;
 }

 var weapons = allWeapons.filter(w => w.wtype == so.weaponType);
 if(weapons.length == 1) {
  var newW = new WeaponViewModel(weapons[0], vehicle);
  newW.selectedFacing(so.facing);

  if("location" in so)
  {
   newW.location(so.location);
  }
  return newW;
 }
 else
 {
  throw "Unknown weapon type '" + so.weaponType + "'";
 }
}</script> <script>function UpgradeViewModel(baseu, vehicle) {
 var self = this;
 self.vehicle = vehicle;

 /*****************************************
 * bindable ko properties/values
 *****************************************/
 self.baseUpgrade = ko.observable(baseu);
 self.upgradeType = ko.computed(function() { return self.baseUpgrade().utype; });
 self.ammo = ko.computed(function() { return Format0(self.baseUpgrade().ammo); });
 self.slots = ko.computed(function() { return Format0(self.baseUpgrade().slots); });
 self.specialRules = ko.computed(function() { return self.baseUpgrade().specialRules; });
 self.cost = ko.computed(function() {
  var uCost = self.baseUpgrade().cost;
  if(self.baseUpgrade().utype == "Nitro Booster" && self.vehicle.team.sponsor().name == "Idris") {
   uCost /= 2;
  }

  if(self.baseUpgrade().utype == "Extra Crewmember" && self.vehicle.team.sponsor().name == "Scarlett Annie") {
   uCost /= 2;
  }

  return uCost;
 });

 /*****************************************
 * bindable lists (for filling combo boxes etc)
 *****************************************/

 self.upgradeOptions = ko.computed(function() {
  var upgs = self.vehicle.availableUpgrades(self.baseUpgrade()).slice();

  return upgs;
 });

 /*****************************************
 * bindable style/display helpers
 *****************************************/

 /*****************************************
 * POJO functions
 *****************************************/

 self.toSimpleObject = function() {
  return { upgradeType: self.upgradeType() };
 };
}

UpgradeViewModel.fromSimpleObject = function(so, vehicle) {
 var upgrades = allUpgrades.filter(u => u.utype == so.upgradeType);
 if(upgrades.length == 1) {
  var newU = new UpgradeViewModel(upgrades[0], vehicle);

  return newU;
 }
 else
 {
  throw "Unknown upgrade type '" + so.upgradeType + "'";
 }
}</script> <script>function PerkViewModel(basep, vehicle) {
 var self = this;
 self.vehicle = vehicle;

 /*****************************************
 * bindable ko properties/values
 *****************************************/
 self.basePerk = ko.observable(basep);
 self.perkType = ko.computed(function() { return self.basePerk().ptype; });
 self.rules = ko.computed(function() { return self.basePerk().rules; });
 self.cost = ko.computed(function() { return self.basePerk().cost; });

 /*****************************************
 * bindable lists (for filling combo boxes etc)
 *****************************************/
 self.perkOptions = ko.computed(function() {
  var pks = self.vehicle.availablePerks(self.basePerk()).slice();
  //pks.unshift(self.basePerk());

  return pks;
 });

 /*****************************************
 * bindable style/display helpers
 *****************************************/

 /*****************************************
 * POJO functions
 *****************************************/

 self.toSimpleObject = function() {
  return { perkType: self.perkType() };
 };
}

PerkViewModel.fromSimpleObject = function(so, vehicle) {
 var perks = allPerks.filter(p => p.ptype == so.perkType);
 if(perks.length == 1)
 {
  var newP = new PerkViewModel(perks[0], vehicle);

  return newP;
 }
 else
 {
  throw "Unknown perk type '" + so.perkType + "'";
 }
}</script> <script>function SponsorReferenceCollectionViewModel() {
 var self = this;

 self.currentReferenceSponsorId = ko.observable("");

 self.setCurrentReferenceSponsor = function(sponsor, evt) {
  var newSponsorId = sponsor.name();
  if(newSponsorId == "None" || newSponsorId == self.currentReferenceSponsorId()) {
   newSponsorId = "";
  }

  self.currentReferenceSponsorId(newSponsorId);
 }

 self.currentBaseSponsor = function() {
  var refSponsors = allSponsors.filter(s => s["name"] == self.currentReferenceSponsorId());

  // add "null" object
  refSponsors.push({name: "", keywords: [], perkClasses: []});

  return refSponsors[0];
 }

 // init sponsor view object array
 self.sponsorReferences = ko.observableArray([]);
 allSponsors.forEach(s => self.sponsorReferences.push(new ReferenceSponsorViewModel(s, self)));

 // init keyword view object array
 self.allReferenceSponsorKeywords = ko.observableArray([]);
 sponsorKeywords.map(sk => new ReferenceSponsorKeywordsViewModel(sk, self)).forEach(skvm => self.allReferenceSponsorKeywords.push(skvm));

 // init perkclass view object array
 self.allReferencePerkKeywords = ko.observableArray([]);
 allPerks.map(sp => new ReferencePerkViewModel(sp, self)).forEach(spvm => self.allReferencePerkKeywords.push(spvm));
}

function ReferenceSponsorViewModel(baseSponsor, collection) {
 var self = this;

 self.collection = collection;
 self.baseSponsor = baseSponsor;

 self.name = ko.computed(() => self.baseSponsor["name"]);
 self.keywords = ko.computed(() => self.baseSponsor["keywords"]);
 self.perkClasses = ko.computed(() => self.baseSponsor["perkClasses"]);
 self.shouldHighlight = ko.computed(function() {
  return collection.currentBaseSponsor()["name"] == self.baseSponsor["name"];
 });
 
 self.supplementIndicatorStyle = ko.computed(function() {
  if(self.baseSponsor["ruleset"] == "BASE") {
   return "";
  }

  return self.baseSponsor["ruleset"].toLowerCase();
 });
}

function ReferenceSponsorKeywordsViewModel(baseKeyword, collection) {
 var self = this;

 self.collection = collection;
 self.baseKeyword = baseKeyword;

 self.ktype = ko.computed(() => self.baseKeyword["ktype"]);
 self.rules = ko.computed(() => self.baseKeyword["rules"]);
 self.shouldHighlight = ko.computed(function() {
  return collection.currentBaseSponsor()["keywords"].some(kw => kw == self.baseKeyword["ktype"]);
 });
 
 self.supplementIndicatorStyle = ko.computed(function() {
  if(self.baseKeyword["ruleset"] == "BASE") {
   return "";
  }

  return self.baseKeyword["ruleset"].toLowerCase();
 });
}

function ReferencePerkViewModel(basePerk, collection) {
 var self = this;

 self.collection = collection;
 self.basePerk = basePerk;

 self.class = ko.computed(() => self.basePerk["class"]);
 self.ptype = ko.computed(() => self.basePerk["ptype"]);
 self.cost = ko.computed(() => self.basePerk["cost"]);
 self.rules = ko.computed(() => self.basePerk["rules"]);
 self.shouldHighlight = ko.computed(function() {
  return collection.currentBaseSponsor()["perkClasses"].some(pc => pc == self.basePerk["class"]);
 });
 
 self.supplementIndicatorStyle = ko.computed(function() {
  if(self.basePerk["ruleset"] == "BASE") {
   return "";
  }

  return self.basePerk["ruleset"].toLowerCase();
 });
}</script> <script>function VehicleReferenceCollectionViewModel() {
 var self = this;

 self.currentReferenceVehicleId = ko.observable("");

 self.setCurrentReferenceVehicle = function(vehicle, evt) {
  var newType = vehicle.vtype();
  if(newType == self.currentReferenceVehicleId()) {
   newType = "";
  }

  self.currentReferenceVehicleId(newType);
 }

 self.currentBaseVehicle = function() {
  var refVehicles = allVehicles.filter(v => v["vtype"] == self.currentReferenceVehicleId());

  // add "null" object
  refVehicles.push({vtype: "", weight: "", hull: null, handling: null, maxGear: null, slots: null, crew: null,  cost: null, keywords: []});

  return refVehicles[0];
 }

 // init sponsor view object array
 self.vehicleReferences = ko.observableArray([]);
 allVehicles.forEach(v => self.vehicleReferences.push(new ReferenceVehicleViewModel(v, self)));

 // init keyword view object array
 self.allReferenceVehicleKeywords = ko.observableArray([]);
 vehicleKeywords.map(vk => new ReferenceVehicleKeywordsViewModel(vk, self)).forEach(vkvm => self.allReferenceVehicleKeywords.push(vkvm));
}

function ReferenceVehicleViewModel(baseVehicle, collection) {
 var self = this;

 self.collection = collection;
 self.baseVehicle = baseVehicle;

 self.vtype = ko.computed(() => self.baseVehicle["vtype"]);
 self.weight = ko.computed(() => self.baseVehicle["weight"]);
 self.hull = ko.computed(() => self.baseVehicle["hull"]);
 self.handling = ko.computed(() => self.baseVehicle["handling"]);
 self.maxGear = ko.computed(() => self.baseVehicle["maxGear"]);
 self.slots = ko.computed(() => self.baseVehicle["slots"]);
 self.crew = ko.computed(() => self.baseVehicle["crew"]);
 self.keywords = ko.computed(() => self.baseVehicle["keywords"]);
 self.cost = ko.computed(() => self.baseVehicle["cost"]);
 self.supplementIndicatorStyle = ko.computed(function() {
  if(self.baseVehicle["ruleset"] == "BASE") {
   return "";
  }

  return self.baseVehicle["ruleset"].toLowerCase();
 });
 
 self.shouldHighlight = ko.computed(function() {
  return collection.currentBaseVehicle()["vtype"] == self.baseVehicle["vtype"];
 });
}

function ReferenceVehicleKeywordsViewModel(baseKeyword, collection) {
 var self = this;

 self.collection = collection;
 self.baseKeyword = baseKeyword;

 self.ktype = ko.computed(() => self.baseKeyword["ktype"]);
 self.rules = ko.computed(() => self.baseKeyword["rules"]);
 self.supplementIndicatorStyle = ko.computed(function() {
  if(self.baseKeyword["ruleset"] == "BASE") {
   return "";
  }

  return self.baseKeyword["ruleset"].toLowerCase();
 });

 self.shouldHighlight = ko.computed(function() {
  return collection.currentBaseVehicle()["keywords"].some(kw => kw == self.baseKeyword["ktype"]);
 });
}</script> <script>function PrintOptionsModel(o,e){var s=this;s.showKeywordRules=ko.observable(!1),s.showWhizbangAndGyroscopeRandmiserTables=ko.observable(!1)}</script> <script>function SavageHighwaysFactory(){}SavageHighwaysFactory.createTeam=function(e){var a=TeamViewModel.fromSimpleObject(savageHighwaysRiggerTeams.Idris,e);return a.editMode(!0),a},SavageHighwaysFactory.createWarRig=function(e,a){var i=VehicleViewModel.fromSimpleObject(savageHighwayWarRigs[e],a);return i.specialRules.push("SavageHighwaysWarRig"),i};const allSavageHighwaysUpgrades=[{utype:"Hangers On",slots:0,ammo:0,specialRules:"this vehicle gains +4 crew. If this vehicle is involved in two or more collisions in a single activation, discard this upgrade as they are flung wildly from the vehicle.",cost:0,keywords:[],limit:1},{utype:"Selvaggio",slots:0,ammo:0,specialRules:"Once per turn, this vehicle may remove 1 hull point in order to discard all hazard tokens. If this vehicle is targeted by two shooting attacks in a single gear phase that do not suffer from cover, discard this upgrade as the snipers find their mark.",cost:0,keywords:[],limit:1},{utype:"Fuel Pod",slots:0,ammo:0,specialRules:"Once per gear phase, during a skid check, this vehicle may discard or re-roll one skid dice. If an enemy vehicle ever declares a tailgate smash attack that rolls no attack dice, discard this upgrade as the raiders cut the fuel lines and siphon them off.",cost:0,keywords:[],limit:1},{utype:"Grease Monkey",slots:0,ammo:0,specialRules:"Once per gear phase, if this vehicle successfully evades a hit, gain 1 previously lost hull point. If this vehicle ever gains a hazard token via the Blast effect discard this upgrade as the mechanic is thrown from the rig.",cost:0,keywords:[],limit:1},{utype:"Cow Catcher",slots:0,ammo:0,specialRules:"Once per turn, this vehicle may consider a single piece of terrain to be destructible during its activation. If this vehicle is targeted with a head-on collision discard this upgrade.",cost:0,keywords:[],limit:1}],savageHighwayWarRigs={Idris:{vehicleName:"Idris War Rig",vehicleType:"War Rig",weapons:[{weaponType:"Mini-Gun",facing:"Turret/360",location:"Trailer"},{weaponType:"Ram",facing:"Front",location:"Cab"}],upgrades:[],perks:[{perkType:"Overload"},{perkType:"Expertise"},{perkType:"Easy Rider"},{perkType:"Handbrake Artist"}]},Rutherford:{vehicleName:"Rutherford War Rig",vehicleType:"War Rig",weapons:[{weaponType:"125mm Cannon",facing:"Turret/360",location:"Trailer"},{weaponType:"Rockets",facing:"Turret/360",location:"Trailer"}],upgrades:[{upgradeType:"Tank tracks"}],perks:[{perkType:"Loader"}]},Mishkin:{vehicleName:"Mishkin War Rig",vehicleType:"War Rig",weapons:[{weaponType:"Arc Lightning Projector",facing:"Turret/360",location:"Trailer"},{weaponType:"Heavy Machine Gun",facing:"Turret/360",location:"Trailer"},{weaponType:"Mortar",facing:"Rear",location:"Trailer"},{weaponType:"Mines",facing:"Rear",location:"Trailer"},{weaponType:"Oil Slick Dropper",facing:"Rear",location:"Trailer"}],upgrades:[],perks:[{perkType:"Gyroscope"}]},Slime:{vehicleName:"Slime War Rig",vehicleType:"War Rig",weapons:[{weaponType:"Mini-Gun",facing:"Turret/360",location:"Trailer"},{weaponType:"Ram",facing:"Front",location:"Cab"},{weaponType:"Ram",facing:"Sides",location:"Trailer"},{weaponType:"Ram",facing:"Rear",location:"Trailer"},{weaponType:"Smoke",facing:"Sides",location:"Trailer"},{weaponType:"Smoke",facing:"Rear",location:"Trailer"}],upgrades:[],perks:[{perkType:"Overload"}]},Warden:{vehicleName:"Warden War Rig",vehicleType:"War Rig",weapons:[{weaponType:"Mini-Gun",facing:"Turret/360",location:"Trailer"},{weaponType:"Caltrop Dropper",facing:"Rear",location:"Trailer"}],upgrades:[{upgradeType:"Extra crew"}],perks:[{perkType:"Terrifying Lunatic"},{perkType:"Battlehammer"},{perkType:"Madman"},{perkType:"Cover Me"}]}},savageHighwaysRiggerTeams={Idris:{teamType:"SavageHighwaysRiggerTeam",teamName:"Riggers",sponsor:"Idris",specialty:"None",vehicles:[],maxCost:60},Rutherford:{teamType:"SavageHighwaysRiggerTeam",teamName:"Riggers",sponsor:"Rutherford",specialty:"None",vehicles:[],maxCost:60},Mishkin:{teamType:"SavageHighwaysRiggerTeam",teamName:"Riggers",sponsor:"Mishkin",specialty:"None",vehicles:[],maxCost:60},Slime:{teamType:"SavageHighwaysRiggerTeam",teamName:"Riggers",sponsor:"Slime",specialty:"None",vehicles:[],maxCost:60},Warden:{teamType:"SavageHighwaysRiggerTeam",teamName:"Riggers",sponsor:"Warden",specialty:"None",vehicles:[],maxCost:60}},savageHighwaysRiggerTeamNames=Object.keys(savageHighwaysRiggerTeams);</script> <script>function OnPageLoadFinished(){window.localStorage.lastBETA2TeamCollection&&LoadTeamCollectionFromStorage()}function toggleAccordian(e){var t=e.parentElement.parentElement.nextElementSibling;"block"===t.style.display?(e.innerHTML="&#9660;",t.style.display="none"):(e.innerHTML="&#9650;",t.style.display="block")}function Format0(e){return 0==e?"-":e}function SaveCollectionInBrowser(){var e=teamModel.serialise();window.localStorage.lastBETA2TeamCollection=e,teamModel.checkpoint()}function ExportTeamCollection(){createExportFile("GaslandsBETATeamCollection",teamModel.serialise())}function ImportTeamCollection(e){if(e.stopPropagation(),e.preventDefault(),e.target.files.length>0){var t=e.target.files[0],o=new FileReader;o.onload=function(e){return function(e){teamModel.deserialise(o.result)}}(),o.readAsText(t)}}function CreateStandardTeam(){var e=teamModel.createTeam();setTimeout(ScrollToTeam,0,e)}function CreateSavageHighwaysTeam(){var e=SavageHighwaysFactory.createTeam(teamModel);null!=e&&(e.collection=teamModel,teamModel.addTeam(e),setTimeout(ScrollToTeam,0,e.teamId))}function AddVehicleToTeam(e){var t=e.addVehicle();setTimeout(ScrollToTeam,0,t)}function ScrollToTeam(e){var t=document.getElementById(e);null!=t&&t.scrollIntoView()}function ImportTeam(e){if(e.stopPropagation(),e.preventDefault(),e.target.files.length>0){var t=e.target.files[0],o=new FileReader;o.onload=function(e){return function(e){var t=new TeamViewModel(teamModel);t.deserialise(o.result),teamModel.addTeam(t)}}(),o.readAsText(t)}}function LoadTeamCollectionFromStorage(){teamModel.deserialise(window.localStorage.lastBETA2TeamCollection),teamModel.checkpoint()}function createExportFile(e,t){var o=new Blob([t],{type:"text/plain"});null!==teamFile&&window.URL.revokeObjectURL(teamFile),textFile=window.URL.createObjectURL(o);var n=document.createElement("a");n.setAttribute("download",e+".json"),n.href=textFile,document.body.appendChild(n),window.requestAnimationFrame(function(){var e=new MouseEvent("click");n.dispatchEvent(e),document.body.removeChild(n)})}function noBubble(e){e.stopPropagation(),e.preventDefault()}function showTab(e,t){var o,n=document.getElementsByClassName("tabPage");for(o=0;o<n.length;o++)n[o].style.display="none";document.getElementById(t).style.display="block"}var nextVehicleNum=1,teamFile=null,referenceHighlightColour="#fffacd",teamModel=new TeamCollectionViewModel,printOptionsModel=new PrintOptionsModel,sponsorRefModel=new SponsorReferenceCollectionViewModel,vehicleRefModel=new VehicleReferenceCollectionViewModel;document.addEventListener("DOMContentLoaded",function(){ko.applyBindings(teamModel),document.getElementById("importTeamCollectionButton").addEventListener("change",ImportTeamCollection),document.getElementById("importTeamButton").addEventListener("change",ImportTeam),OnPageLoadFinished()}),window.onclick=function(e){if("savageHighwaysDropdownButton"!=e.target.id)for(var t=document.getElementsByClassName("dropdown-content"),o=0;o<t.length;o++){var n=t[o];n.classList.contains("showDropdown")&&n.classList.remove("showDropdown")}};</script> <style> html{ box-sizing:border-box;height:100%;}*, *:before, *:after{ box-sizing:inherit;}body{ font:12px arial, sans-serif;margin:0px;padding:8px;} #pageDiv{ box-sizing:border-box;width:97vw;height:97vh;display:grid;grid-template-areas:'header tabbar' 'leftcol rightcol' 'footer footer';grid-template-columns:3fr 2fr ;grid-template-rows:auto auto 1fr auto;grid-gap:10px;}#headerDiv{ grid-area:header;margin:6px;}#footerDiv{ grid-area:footer;margin:6px;font-size:smaller;}#editDiv{ grid-area:leftcol;overflow:auto;}#tabBarDiv{ grid-area:tabbar;align-self:end;}#referenceDiv{ grid-area:rightcol;overflow:auto;background-color:#eee;}#printDiv{ text-align:left;overflow:visible;}#footerDiv{ display:inline-block;} .teamContainer{ width:100%;margin-bottom:4px;}.specialRules{ color:red;} .vehicleEditCard{ border:solid 1px black;margin-bottom:4px;width:100%;} .dropdown-content{ display:none;position:absolute;background-color:#f1f1f1;min-width:160px;overflow:auto;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);z-index:1;}.dropdown-content a{ color:black;padding:12px 16px;text-decoration:none;display:block;}.dropdown a:hover{ background-color:#ddd;}.showDropdown{ display:block;} .cardEditHeader{ background-color:#eee;color:#444;cursor:pointer;padding:5px;padding-top:0px;padding-bottom:0px;width:100%;text-align:left;border:none;outline:none;transition:0.4s;}.cardEditHeaderDisplayOnlyMode{ padding:5px;}.cardEditHeader:hover{ background-color:#ccc;}.indentContainer{ margin-left:20px;width:calc(100% - 20px);}.leftAlignContainer{ width:74%;text-align:left;display:inline-block;}.leftAlignContainer > *{ margin-right:10px;}.rightAlignContainer{ width:25%;text-align:right;display:inline-block;}.rightAlignContainer > *{ margin-left:10px;} .propertyTable{ border-collapse:collapse;border-spacing:0;padding:0;margin:0;border:1px solid black;table-layout:auto;margin:4px;margin-bottom:8px;width:calc(100% - 8px);text-align:center;}.propertyTable td{ padding:3px;}.propertyTable .noPadding{ padding:0px;}.propertyTable .fillColumn{ width:100%;}.propertyTable tr:nth-child(even){ background-color:white;}.propertyTable tr:nth-child(odd){ background-color:#eeeeee;}.propertyTable tr:nth-child(1){ background-color:#dddddd;} .referenceTable{ border-collapse:collapse;border-spacing:0;padding:0;margin:0;border:1px solid black;}.referenceTable th{ background-color:#3b4767;color:white;}.referenceTable tr:nth-child(odd){ background-color:#b4b6cb;}.referenceTable tr:nth-child(even){ background-color:#e4e3e9;}.referenceTable td{ border:1px solid black;}#subheadingRow{ background-color:#aaaaaa;font-weight:bold;text-align:left;}.referenceHeadingText{ margin-top:0px;}.tabPage{ display:none;}.tabBar{ margin-bottom:5px;} .tab{ } .active{ background-color:#ccc;} .addSpan{ color:blue;font-style:italic;margin:5px;margin-left:0px;cursor:pointer;}#vehicleStatTable{ margin-top:4px;margin-bottom:4px;width:100%;border:none;padding:3px;text-align:center;}.statValue{ font-weight:bolder;}.icon{ width:12px;height:12px;}.warning{ background-color:#ed5454;color:white;}.modified{ color:green;}.leftalign{ text-align:left;}.rightalign{ text-align:right;}.centeralign{ text-align:center;}.larger{ font-size:larger;}.bold{ font-weight:bold;}.smaller{ font-size:smaller;}.smallest{ font-size:x-small;}.centre{ text-align:center;}.labelAsButton{ text-decoration:none;background-color:#EEEEEE;color:#333333;padding:5px 5px 5px 5px;border-top:1px solid #CCCCCC;border-right:1px solid #333333;border-bottom:1px solid #333333;border-left:1px solid #CCCCCC;margin:2px;display:inline-block;}.disabledLabelAsButton{ color:#cccccc;}.hideRealButton{ display:none;} @media print{ .noprint{ display:none;}.mediaNoBreak{ page-break-inside:avoid;}#pageDiv{ display:block;}}.printCard{ display:block;width:700px;word-break:normal;border:1px solid black;margin:10px;font-size:large;}.section{ margin:5px;display:flex;justify-content:space-between;}.flexVContainer{ display:flex;flex-grow:1;flex-direction:column;}.flexHContainer{ display:flex;flex-direction:row;}.flexFixedVBox{ align-self:flex-end;flex-direction:column;flex-grow:0;justify-content:center;text-align:center;margin-left:10px;}.flexGearBox{ display:flex;flex-grow:0;flex-shrink:0;border:1px solid black;width:90px;height:90px;margin-left:10px;flex-direction:column;justify-content:center;text-align:center;}.checkimg{ width:15px;height:15px;border:1px solid black;margin:1px;}.printPropertyTable{ border-collapse:collapse;border-spacing:0;width:100%;border:1px solid black;display:block;margin-top:5px;}.printPropertyTable th{ background-color:#dddddd;padding:2px;font-size:small;}.printPropertyTable td{ padding:2px;white-space:nowrap;}.printPropertyTable .fillColumn{ width:100%;white-space:normal;}.randomiserTable{ border-collapse:collapse;border-spacing:0;padding:0;margin:0;border:1px solid black;}.randomiserTable th{ background-color:#dddddd;}.printPropertyTable tr:nth-child(even){ background-color:white;}.printPropertyTable tr:nth-child(odd){ background-color:#eeeeee;} .tx1{ color:darkblue;}.tx2{ color:sienna;}.tx3{ color:MediumOrchid;}</style> </head> <!-- ************************************************** EDIT TABLE ************************************************** --> <body id="body"> <div id="pageDiv"> <div class="noprint" id="headerDiv" data-bind="visible: !printMode()"> <label class="labelAsButton" for="saveCollectionInBrowserButton" data-bind="css: {disabledLabelAsButton: !modified()}">Save Collection in Browser</label> <button class="hideRealButton" id="saveCollectionInBrowserButton" data-bind="enable: modified" onclick="SaveCollectionInBrowser();"></button> <label class="labelAsButton" for="restoreCollectionFromBrowserButton" data-bind="css: {disabledLabelAsButton: !modified()}">Revert all Changes</label> <button class="hideRealButton" id="restoreCollectionFromBrowserButton" data-bind="enable: modified" onclick="LoadTeamCollectionFromStorage();"></button> <label class="labelAsButton" for="exportTeamCollectionButton">Export Team Collection</label> <button class="hideRealButton" id="exportTeamCollectionButton" onclick="ExportTeamCollection();"></button> <label class="labelAsButton" for="importTeamCollectionButton">Import Team Collection</label> <input class="hideRealButton" type="file" id="importTeamCollectionButton"> <label class="labelAsButton" for="importTeamButton">Import Team</label> <input class="hideRealButton" type="file" id="importTeamButton"> <br> <label class="labelAsButton" for="addTeamButton">Add Team</label> <button class="hideRealButton" id="addTeamButton" onclick="CreateStandardTeam();"></button> <label class="labelAsButton" for="sortTeamsByNameButton">Sort Teams by Name</label> <button class="hideRealButton" id="sortTeamsByNameButton" data-bind="click: sortTeams"></button> </div> <div id="editDiv" data-bind="visible: !printMode()"> <!-- ko foreach: teams --> <div class="teamContainer" data-bind="attr: { id: $data.teamId}"> <div data-bind="css: editMode() ? 'cardEditHeader' : 'cardEditHeader cardEditHeaderDisplayOnlyMode'"> <!-- ko if: !editMode() --> <div class="leftAlignContainer"> <span class="dropDown" data-bind="click: toggleEditMode">&#9660;</span> <label data-bind="text: teamName">Section 1</label>&nbsp;&nbsp;&nbsp; <label data-bind="text: sponsor().name">Section 1</label> <!-- ko if: teamType() == "SavageHighwaysRiggerTeam" --> <label>Savage Highways Rigger Team</label> <!-- /ko --> </div> <div class="rightAlignContainer"> <span data-bind="visible: includesSupplementItems('TX1')" class="tx1 bold smaller">TX1</span> <span data-bind="visible: includesSupplementItems('TX2')" class="tx2 bold smaller">TX2</span> <span data-bind="visible: includesSupplementItems('TX3')" class="tx3 bold smaller">TX3</span> <span data-bind="text: teamCost, css: teamCostStyle"></span>&nbsp;cans <img class="icon" data-bind="click: $parent.cloneTeam" src="data:image/png;base64,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" title="Clone team"> <img class="icon" data-bind="click: printPreview" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gUOBzsstEJ9NAAADHFJREFUeNrt3e1Rm2cWx+H/0fAdtgKzFZgOEB04FRhXEG8FIRXEqWBxBXEHyB3gCowrCFRw9gMPXuxgkAxCL891zXgygzEwRyL3T7eel+rusBpVNU1yZhKwMp+STLv70igYm4kRACP2MsmsqvaMAgEAIAJAAACIABAAACIABACACAABACACQAAAiAAQAAAiAAQAgAgAAQAgAkAAAIgAEAAAIgAEAIAIAAEAIAJAAACIABAAACIABACACAABACACEAAAiAAEAAAiAAEAgAhAAAAgAhAAAIgABACACBABCAAAEQACAEAEgAAAEAEgAABEAAgAABEAAgBABIAAABABsKgdIxi37jYEVqKqjpKciYCadvelZwR2AADsBIAAABABIAAARAAIAAARAAIAQASAAAAQASAAAEQACAAAEYAAAEAEIAAAEAEIAABEAAIAABGAAABABCAAABABCAAARAACAAARgAAAQAQgAAAQAQgAAEQAAgAAEYAAAEAEIAAAEAEIAAARIAIQAAAiAAQAgAhAAAAgAhAAAIgABAAAIgABAIAIQAAAIAIQAACIAAQAACIAAQCACEAAACACEAAAiAAEAAAiAAEAgAhAAAAgAhAAAIgABAAAIgABAIAIQAAAIAIEAACIAAEAACJAAACACBAAAIgAESAAABABCAAARAACAAARgAAAQAQgAAAQAQgAAEQAAgAAEYAAAEAEIAAAEAEIAABEAAIAABGAAABABCAAABABCAAARIAAAAARIAAAQAQIAAAQAVtixwhYlao6SnJmEqvT3YbAKiPgIMnMKOwAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAABAAAIAABAAAAAAgAAEAAAwMbYMQJWpbvPTMHjz+pUlSHYAQAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAg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" title="Print mode"> </div> <!-- /ko --> <!-- ko if: editMode --> <div class="leftAlignContainer"> <span class="dropDown" data-bind="click: toggleEditMode">&#9650;</span> <input data-bind="value: teamName" placeholder="unknown">&nbsp;&nbsp;&nbsp; <select data-bind="options: availableSponsors, value: sponsor, optionsText: 'optionText'"></select>&nbsp; <!-- ko if: teamType() == "SavageHighwaysRiggerTeam" --> <label>Savage Highways Rigger Team</label> <!-- /ko --> </div> <div class="rightAlignContainer"> <span data-bind="text: teamCost, css: teamCostStyle"></span> <input class="rightalign" data-bind="value: maxCost" size="2"> &nbsp;cans <img class="icon" data-bind="click: $parent.cloneTeam" src="data:image/png;base64,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" title="Clone team"> <img class="icon" data-bind="click: printPreview" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gUOBzsstEJ9NAAADHFJREFUeNrt3e1Rm2cWx+H/0fAdtgKzFZgOEB04FRhXEG8FIRXEqWBxBXEHyB3gCowrCFRw9gMPXuxgkAxCL891zXgygzEwRyL3T7eel+rusBpVNU1yZhKwMp+STLv70igYm4kRACP2MsmsqvaMAgEAIAJAAACIABAAACIABACACAABACACQAAAiAAQAAAiAAQAgAgAAQAgAkAAAIgAEAAAIgAEAIAIAAEAIAJAAACIABAAACIABACACAABACACEAAAiAAEAAAiAAEAgAhAAAAgAhAAAIgABACACBABCAAAEQACAEAEgAAAEAEgAABEAAgAABEAAgBABIAAABABsKgdIxi37jYEVqKqjpKciYCadvelZwR2AADsBIAAABABIAAARAAIAAARAAIAQASAAAAQASAAAEQACAAAEYAAAEAEIAAAEAEIAABEAAIAABGAAABABCAAABABCAAARAACAAARgAAAQAQgAAAQAQgAAEQAAgAAEYAAAEAEIAAAEAEIAAARIAIQAAAiAAQAgAhAAAAgAhAAAIgABAAAIgABAIAIQAAAIAIQAACIAAQAACIAAQCACEAAACACEAAAiAAEAAAiAAEAgAhAAAAgAhAAAIgABAAAIgABAIAIQAAAIAIEAACIAAEAACJAAACACBAAAIgAESAAABABCAAARAACAAARgAAAQAQgAAAQAQgAAEQAAgAAEYAAAEAEIAAAEAEIAABEAAIAABGAAABABCAAABABCAAARIAAAAARIAAAQAQIAAAQAVtixwhYlao6SnJmEqvT3YbAKiPgIMnMKOwAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAABAAAIAABAAAAAAgAAEAAAwMbYMQJWpbvPTMHjz+pUlSHYAQAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAg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" title="Print mode"> <img class="icon" data-bind="click: $parent.removeTeam" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFGSURBVDiNnZO9TgJBFIW/AZX/zmZbSgoaKUkmUJLwBPoQ22pM/Im+hK0+AqGloaThDei2s2B3FoKRazHssuuGRbzJJPN3zz3nzhkFFB14rsB1Dc4VCDkhoAx8reDDgwcceL2DYAsifxxbkFsIHHihCYtTkpMgTVgUylBSSY6uC1pnuWttz3ahgDKUaIEXI7uuiIhIEIhova+otd0TsXd2+y3wzlJVZjPwfWg0YDyG4RA2GxiNoFaDMIT5PM0sxQBEul2R5dJWW61EwtDOjRHp9VJ9aIGXBYhAjJE41utMcgRQOPjgSuWvcyX4/l5CxMQYkX7/iIRkcqQ52ZNfIFkJnQ7U62AMDAYwmcB0al/DGKhWod0+IsF10x5IeiHhgVjCf638vbNysQyXn3DVh4sDfc6EAPdgZvCmsN/5qQI3J37ndw8efwCti3bEgmgKyQAAAABJRU5ErkJggg==" title="Remove team"> </div> <!-- /ko --> </div> <!-- ko if: editMode --> <div class="indentContainer"> <div id="addVehicleSpan" class="addSpan" data-bind="click: AddVehicleToTeam">add vehicle</div> <!-- ko foreach: teamVehicles --> <div class="vehicleEditCard" data-bind="attr: { id: $data.vehicleId}"> <div class="cardEditHeader"> <!-- VEHICLE HEADER --> <div class="leftAlignContainer"> <input data-bind="value: vehicleName" placeholder="unknown"> <select data-bind="options: baseVehicleOptions, value: baseVehicle, optionsText: 'optionText'"></select> &nbsp;&nbsp; <label class="specialRules" data-bind="text: specialRulesString"></label> </div> <div class="rightAlignContainer"> <span data-bind="visible: includesSupplementItems('TX1')" class="tx1 bold smaller">TX1</span> <span data-bind="visible: includesSupplementItems('TX2')" class="tx2 bold smaller">TX2</span> <span data-bind="visible: includesSupplementItems('TX3')" class="tx3 bold smaller">TX3</span> <span data-bind="text: cost"></span>&nbsp;cans <!-- ko if: !readOnly() --> <img class="icon" data-bind="click: $parent.removeVehicle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFGSURBVDiNnZO9TgJBFIW/AZX/zmZbSgoaKUkmUJLwBPoQ22pM/Im+hK0+AqGloaThDei2s2B3FoKRazHssuuGRbzJJPN3zz3nzhkFFB14rsB1Dc4VCDkhoAx8reDDgwcceL2DYAsifxxbkFsIHHihCYtTkpMgTVgUylBSSY6uC1pnuWttz3ahgDKUaIEXI7uuiIhIEIhova+otd0TsXd2+y3wzlJVZjPwfWg0YDyG4RA2GxiNoFaDMIT5PM0sxQBEul2R5dJWW61EwtDOjRHp9VJ9aIGXBYhAjJE41utMcgRQOPjgSuWvcyX4/l5CxMQYkX7/iIRkcqQ52ZNfIFkJnQ7U62AMDAYwmcB0al/DGKhWod0+IsF10x5IeiHhgVjCf638vbNysQyXn3DVh4sDfc6EAPdgZvCmsN/5qQI3J37ndw8efwCti3bEgmgKyQAAAABJRU5ErkJggg=="> <!-- /ko --> </div> <div> <table id="vehicleStatTable"> <tr> <td> Weight: <span class="statValue" data-bind="text: weight"></span> </td> <td> Hull: <span class="statValue" data-bind="text: hull, css: hullStyle"></span> </td> <td> Handling: <span class="statValue" data-bind="text: handling, css: handlingStyle"></span> </td> <td> Max gear: <span class="statValue" data-bind="text: maxGear, css: maxGearStyle"></span> </td> <td> Crew: <span class="statValue" data-bind="text: crew, css: crewNumStyle"></span> </td> <td> Free slots: <span class="statValue" data-bind="text: remainingSlots, css: remainingSlotsStyle"></span> </td> </tr> </table> </div> </div> <div data-bind="visible: team.sponsor().name == 'Rusty\'s Bootleggers'" class="indentContainer"> <table class="propertyTable leftalign"> <tr> <td>Trailer</td> <td data-bind="visible: baseVehicle().vtype != 'War Rig'"> <select data-bind="options: baseTrailerOptions, value: trailer, optionsText: 'ttype'"></select> </td> <td class="rightalign"> Cargo <select data-bind="options: baseCargoOptions, value: cargo, optionsText: 'optionText'"></select> </td> </tr> </table> </div> <div class="indentContainer"> <!-- WEAPONS TABLE --> <table class="propertyTable"> <tr> <td>Weapon</td> <td>Facing</td> <!-- ko if: hasTrailer() --> <td>Location</td> <!-- /ko --> <td>Type</td> <td>Attack</td> <td>Range</td> <td>Special Rules</td> <td>Ammo</td> <td>Slots</td> <td>Cost</td> <td class="addRemoveTd"> <!-- ko if: !readOnly() --> <img class="icon" data-bind="click: addWeapon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEZSURBVDiNzZM/bsIwFIc/B0dI/JEyJFJXryyII5QTZAcp7B3KDZqiHqBLdyN6gJ6gF2CALlmzNZXIwECRUJDcpSDSpAjEwjf9rOf3/H62nwAqNBkh6WFjIzAcwyDIyMh4ZcWDpMmIDvfcUkccTT0sAu8MmYGFpFeWrByF9jXa1yhH5YMC6FLHpm8hqZad7NZcgnZA0A5wa25xgwAkVevEpv/l4gJyJ5Sjcq22vFapBkjXKfEy/l15JIQYPdfmVPRcG0IMHsnFFgQeCXfclFnQvgZg8DYgWkRFCy987e8gXsYHvvJEi4jp57Q0dg3PuGWDgb+/MV2njD/Ge13AAFs2ggZPdBjSPXuYvpnxLIAKDR6x6Z85zhNWhD+vjYJnJRxgmwAAAABJRU5ErkJggg=="> <!-- /ko --> </td> </tr> <tr data-bind="with: handgun"> <td class="leftalign" data-bind="text: wtype"></td> <td class="leftalign">360</td> <!-- ko if: $parent.hasTrailer() --> <td></td> <!-- /ko --> <td data-bind="text: attackType"></td> <td data-bind="text: attack"></td> <td data-bind="text: range"></td> <td class="fillColumn" data-bind="text: specialRules"></td> <td data-bind="text: ammo"></td> <td data-bind="text: slots"></td> <td data-bind="text: cost"></td> <td></td> </tr> <!-- ko foreach: weapons --> <tr> <td class="nopadding leftalign"> <!-- ko if: !$parent.readOnly() --> <select data-bind="options: weaponOptions, value: baseWeapon, optionsText: 'optionText'"></select> <!-- /ko --> <!-- ko if: $parent.readOnly() --> <span data-bind="text: baseWeapon().wtype"></span> <!-- /ko --> </td> <td class="nopadding leftalign"> <!-- ko if: !$parent.readOnly() --> <!-- ko if: availableFacings().length == 1 --> <span data-bind="text: availableFacings()[0]"></span> <!-- /ko --> <!-- ko if: availableFacings().length > 1 --> <select data-bind="options: availableFacings, value: selectedFacing"></select> <!-- /ko --> <!-- /ko --> <!-- ko if: $parent.readOnly() --> <span data-bind="text: selectedFacing"></span> <!-- /ko --> </td> <!-- ko if: $parent.hasTrailer() --> <td> <!-- ko if: !$parent.readOnly() --> <select data-bind="options: allLocations, value: location"></select> <!-- /ko --> <!-- ko if: $parent.readOnly() --> <span data-bind="text: location"></span> <!-- /ko --> </td> <!-- /ko --> <td data-bind="text: attackType"></td> <td data-bind="text: attack"></td> <td data-bind="text: range"></td> <td data-bind="text: specialRules"></td> <td data-bind="text: ammo"></td> <td data-bind="text: slots"></td> <td data-bind="text: cost"></td> <td class="addRemoveTd rightalign"> <!-- ko if: !$parent.readOnly() --> <img class="icon" data-bind="click: $parent.removeWeapon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFGSURBVDiNnZO9TgJBFIW/AZX/zmZbSgoaKUkmUJLwBPoQ22pM/Im+hK0+AqGloaThDei2s2B3FoKRazHssuuGRbzJJPN3zz3nzhkFFB14rsB1Dc4VCDkhoAx8reDDgwcceL2DYAsifxxbkFsIHHihCYtTkpMgTVgUylBSSY6uC1pnuWttz3ahgDKUaIEXI7uuiIhIEIhova+otd0TsXd2+y3wzlJVZjPwfWg0YDyG4RA2GxiNoFaDMIT5PM0sxQBEul2R5dJWW61EwtDOjRHp9VJ9aIGXBYhAjJE41utMcgRQOPjgSuWvcyX4/l5CxMQYkX7/iIRkcqQ52ZNfIFkJnQ7U62AMDAYwmcB0al/DGKhWod0+IsF10x5IeiHhgVjCf638vbNysQyXn3DVh4sDfc6EAPdgZvCmsN/5qQI3J37ndw8efwCti3bEgmgKyQAAAABJRU5ErkJggg=="> <!-- /ko --> </td> </tr> <!-- /ko --><!-- end weapons --> </table> <!-- UPGRADES TABLE --> <table class="propertyTable"> <tr> <td>Upgrade</td> <td>Ammo</td> <td>Slots</td> <td>Rules</td> <td>Cost</td> <td class="addRemoveTd rightalign"> <!-- ko if: !readOnly() --> <img class="icon" data-bind="click: addUpgrade" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEZSURBVDiNzZM/bsIwFIc/B0dI/JEyJFJXryyII5QTZAcp7B3KDZqiHqBLdyN6gJ6gF2CALlmzNZXIwECRUJDcpSDSpAjEwjf9rOf3/H62nwAqNBkh6WFjIzAcwyDIyMh4ZcWDpMmIDvfcUkccTT0sAu8MmYGFpFeWrByF9jXa1yhH5YMC6FLHpm8hqZad7NZcgnZA0A5wa25xgwAkVevEpv/l4gJyJ5Sjcq22vFapBkjXKfEy/l15JIQYPdfmVPRcG0IMHsnFFgQeCXfclFnQvgZg8DYgWkRFCy987e8gXsYHvvJEi4jp57Q0dg3PuGWDgb+/MV2njD/Ge13AAFs2ggZPdBjSPXuYvpnxLIAKDR6x6Z85zhNWhD+vjYJnJRxgmwAAAABJRU5ErkJggg=="> <!-- /ko --> </td> </tr> <!-- ko foreach: upgrades --> <tr> <td class="nopadding leftalign"> <!-- ko if: !$parent.readOnly() --> <select data-bind="options: upgradeOptions, value: baseUpgrade, optionsText: 'optionText'"></select> <!-- /ko --> <!-- ko if: $parent.readOnly() --> <span data-bind="text: baseUpgrade().utype"></span> <!-- /ko --> </td> <td data-bind="text: ammo"></td> <td data-bind="text: slots"></td> <td class="leftalign fillColumn" data-bind="text: specialRules"></td> <td data-bind="text: cost"></td> <td class="addRemoveTd rightalign"> <!-- ko if: !$parent.readOnly() --> <img class="icon" data-bind="click: $parent.removeUpgrade" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFGSURBVDiNnZO9TgJBFIW/AZX/zmZbSgoaKUkmUJLwBPoQ22pM/Im+hK0+AqGloaThDei2s2B3FoKRazHssuuGRbzJJPN3zz3nzhkFFB14rsB1Dc4VCDkhoAx8reDDgwcceL2DYAsifxxbkFsIHHihCYtTkpMgTVgUylBSSY6uC1pnuWttz3ahgDKUaIEXI7uuiIhIEIhova+otd0TsXd2+y3wzlJVZjPwfWg0YDyG4RA2GxiNoFaDMIT5PM0sxQBEul2R5dJWW61EwtDOjRHp9VJ9aIGXBYhAjJE41utMcgRQOPjgSuWvcyX4/l5CxMQYkX7/iIRkcqQ52ZNfIFkJnQ7U62AMDAYwmcB0al/DGKhWod0+IsF10x5IeiHhgVjCf638vbNysQyXn3DVh4sDfc6EAPdgZvCmsN/5qQI3J37ndw8efwCti3bEgmgKyQAAAABJRU5ErkJggg=="> <!-- /ko --> </td> </tr> <!-- /ko --><!-- end upgrades --> </table> <!-- ko if: $parent.sponsorMode --> <!-- PERKS TABLE --> <table class="propertyTable"> <tr> <td>Perk</td> <td>Rules</td> <td>Cost</td> <td class="addRemoveTd rightalign"> <!-- ko if: !readOnly() --> <img class="icon" data-bind="click: addPerk, visible: availablePerks().length > 0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEZSURBVDiNzZM/bsIwFIc/B0dI/JEyJFJXryyII5QTZAcp7B3KDZqiHqBLdyN6gJ6gF2CALlmzNZXIwECRUJDcpSDSpAjEwjf9rOf3/H62nwAqNBkh6WFjIzAcwyDIyMh4ZcWDpMmIDvfcUkccTT0sAu8MmYGFpFeWrByF9jXa1yhH5YMC6FLHpm8hqZad7NZcgnZA0A5wa25xgwAkVevEpv/l4gJyJ5Sjcq22vFapBkjXKfEy/l15JIQYPdfmVPRcG0IMHsnFFgQeCXfclFnQvgZg8DYgWkRFCy987e8gXsYHvvJEi4jp57Q0dg3PuGWDgb+/MV2njD/Ge13AAFs2ggZPdBjSPXuYvpnxLIAKDR6x6Z85zhNWhD+vjYJnJRxgmwAAAABJRU5ErkJggg=="> <!-- /ko --> </td> </tr> <!-- ko foreach: perks --> <tr> <td class="nopadding leftalign"> <!-- ko if: !$parent.readOnly() --> <select data-bind="options: perkOptions, value: basePerk, optionsText: 'ptype'"></select> <!-- /ko --> <!-- ko if: $parent.readOnly() --> <span data-bind="text: basePerk().ptype"></span> <!-- /ko --> </td> <td class="leftalign fillColumn" data-bind="text: rules"></td> <td data-bind="text: cost"></td> <td class="addRemoveTd rightalign"> <!-- ko if: !$parent.readOnly() --> <img class="icon" data-bind="click: $parent.removePerk" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFGSURBVDiNnZO9TgJBFIW/AZX/zmZbSgoaKUkmUJLwBPoQ22pM/Im+hK0+AqGloaThDei2s2B3FoKRazHssuuGRbzJJPN3zz3nzhkFFB14rsB1Dc4VCDkhoAx8reDDgwcceL2DYAsifxxbkFsIHHihCYtTkpMgTVgUylBSSY6uC1pnuWttz3ahgDKUaIEXI7uuiIhIEIhova+otd0TsXd2+y3wzlJVZjPwfWg0YDyG4RA2GxiNoFaDMIT5PM0sxQBEul2R5dJWW61EwtDOjRHp9VJ9aIGXBYhAjJE41utMcgRQOPjgSuWvcyX4/l5CxMQYkX7/iIRkcqQ52ZNfIFkJnQ7U62AMDAYwmcB0al/DGKhWod0+IsF10x5IeiHhgVjCf638vbNysQyXn3DVh4sDfc6EAPdgZvCmsN/5qQI3J37ndw8efwCti3bEgmgKyQAAAABJRU5ErkJggg=="> <!-- /ko --> </td> </tr> <!-- /ko --> <!-- end perks --> </table> <!-- /ko --> <!-- end sponsorMode --> </div> </div> <!-- /ko --> <!-- end vehicles --> <!-- ko if: teamVehicles().length > 0 --> <div id="addVehicleSpan" class="addSpan" data-bind="click: AddVehicleToTeam">add vehicle</div> <!-- /ko --> </div> <!-- /ko --> </div> <!-- /ko --> <!-- end teams --> </div> <!-- ************************************************** REFERENCE TABLES ************************************************** --> <div id="tabBarDiv" class="tabBar" data-bind="visible: !printMode()"> <span class="larger bold referenceHeadingText">Reference Tables</span> <br> <button class="tab" onclick="showTab(event, 'vehiclesTabPage')">Vehicles</button> <button class="tab" onclick="showTab(event, 'weaponsTabPage')">Weapons</button> <button class="tab" onclick="showTab(event, 'upgradesTabPage')">Upgrades</button> <button class="tab" onclick="showTab(event, 'sponsorsTabPage')">Sponsors</button> <button class="tab" onclick="showTab(event, 'cargosTabPage')">Cargos</button> </div> <div id="referenceDiv" data-bind="visible: !printMode()"> <div id="vehiclesTabPage" class="tabPage"> <table class="referenceTable"> <!-- ****************** VEHICLES ******************--> <tr> <th>Vehicle</th> <th>Weight</th> <th>Hull</th> <th>Handling</th> <th>Max Gear</th> <th>Slots</th> <th>Crew</th> <th>Keywords</th> <th>Cost</th> </tr> <tbody data-bind="foreach: vehicleRefModel.vehicleReferences"> <tr data-bind="click: vehicleRefModel.setCurrentReferenceVehicle, style: { backgroundColor: shouldHighlight() ? referenceHighlightColour : ''}, css: supplementIndicatorStyle"> <td class="leftalign" data-bind="text: vtype"></td> <td data-bind="text: weight"></td> <td class="centeralign" data-bind="text: hull"></td> <td class="centeralign" data-bind="text: handling"></td> <td class="centeralign" data-bind="text: maxGear"></td> <td class="centeralign" data-bind="text: Format0(slots())"></td> <td class="centeralign" data-bind="text: crew"></td> <td data-bind="text: keywords().join(', ')"></td> <td class="centeralign" data-bind="text: cost"></td> </tr> </tbody> </table> <br> <table class="referenceTable"> <!-- ****************** Vehicle Keywords ******************--> <tr> <th>Vehicle Keyword</th> <th>Rules</th> </tr> <!-- ko foreach: vehicleRefModel.allReferenceVehicleKeywords --> <tr data-bind="style: { backgroundColor: shouldHighlight() ? referenceHighlightColour : '' }, css: supplementIndicatorStyle"> <td class="leftalign" data-bind="text: ktype"></td> <td class="leftalign" data-bind="text: rules"></td> </tr> <!-- /ko --> </table> <br> <table class="referenceTable"> <!-- ****************** Trailers ******************--> <tr> <th>Trailer</th> <th>Slots</th> <th>Cost</th> </tr> <!-- ko foreach: allTrailers --> <tr> <td class="leftalign" data-bind="text: ttype"></td> <td class="centeralign" data-bind="text: slots"></td> <td class="centeralign" data-bind="text: cost"></td> </tr> <!-- /ko --> </table> </div> <div id="weaponsTabPage" class="tabPage"> <table class="referenceTable"> <!-- ****************** WEAPONS ******************--> <tr> <th>Weapon</th> <th>Type</th> <th>Attack</th> <th>Range</th> <th>Ammo</th> <th>Slots</th> <th>Crew fired</th> <th>Special Rules</th> <th>Cost</th> </tr> <tr data-bind="with: handgun"> <td class="leftalign" data-bind="text: wtype"></td> <td data-bind="text: attackType"></td> <td class="centeralign" data-bind="text: attack"></td> <td class="centeralign" data-bind="text: range"></td> <td class="centeralign" data-bind="text: ammo"></td> <td class="centeralign" data-bind="text: slots"></td> <td class="centeralign" data-bind="text: crewFired"></td> <td class="leftalign" data-bind="text: specialRules"></td> <td class="centeralign" data-bind="text: cost"></td> </tr> <tbody data-bind="foreach: allWeapons"> <tr data-bind="css: ruleset == 'BASE' ? '' : ruleset.toLowerCase()"> <td class="leftalign" data-bind="text: wtype"></td> <td data-bind="text: attackType"></td> <td class="centeralign" data-bind="text: attack"></td> <td class="centeralign" data-bind="text: range"></td> <td class="centeralign" data-bind="text: Format0(ammo)"></td> <td class="centeralign" data-bind="text: Format0(slots)"></td> <td class="centeralign" data-bind="text: crewFired ? 'Yes' : ''"></td> <td class="leftalign" data-bind="text: specialRules"></td> <td class="centeralign" data-bind="text: Format0(cost)"></td> </tr> </tbody> </table> </div> <div id="upgradesTabPage" class="tabPage"> <table class="referenceTable"> <!-- ****************** STANDARD UPGRADES ******************--> <tr> <th>Upgrade</th> <th>Slots</th> <th>Ammo</th> <th>Rules</th> <th>Cost</th> </tr> <tbody data-bind="foreach: allUpgrades"> <tr data-bind="css: ruleset == 'BASE' ? '' : ruleset.toLowerCase()"> <td class="leftalign" data-bind="text: utype"></td> <td class="centeralign" data-bind="text: Format0(slots)"></td> <td class="centeralign" data-bind="text: Format0(ammo)"></td> <td class="leftalign" data-bind="text: specialRules"></td> <td class="centeralign" data-bind="text: cost"></td> </tr> </tbody> </table> </div> <div id="sponsorsTabPage" class="tabPage"> <table class="referenceTable"> <!-- ****************** SPONSORS ******************--> <tr> <th>Sponsor</th> <th>Perk Classes</th> <th>Keywords</th> </tr> <tbody data-bind="foreach: sponsorRefModel.sponsorReferences"> <tr data-bind="click: sponsorRefModel.setCurrentReferenceSponsor, style: { backgroundColor: shouldHighlight() ? referenceHighlightColour : '' }, css: supplementIndicatorStyle"> <td class="leftalign" data-bind="text: name()"></td> <td class="leftalign" data-bind="text: perkClasses().join(', ')"></td> <td class="leftalign" data-bind="text: keywords().join(', ')"></td> </tr> </tbody> </table> <br> <table class="referenceTable"> <!-- ****************** SPONSOR KEYWORDS ******************--> <tr> <th>Sponsor Keyword</th> <th>Rules</th> </tr> <!-- ko foreach: sponsorRefModel.allReferenceSponsorKeywords --> <tr data-bind="style: { backgroundColor: shouldHighlight() ? referenceHighlightColour : ''}, css: supplementIndicatorStyle"> <td class="leftalign" data-bind="text: ktype"></td> <td class="leftalign" data-bind="text: rules"></td> </tr> <!-- /ko --> </table> <br> <table class="referenceTable"> <!-- ****************** PERKS ******************--> <tr> <th>Perk</th> <th>Rules</th> <th>Cost</th> </tr> <!-- ko foreach: allPerkClasses --> <tr> <td id="subheadingRow" colspan="3" data-bind="text: $data"></td> </tr> <!-- ko foreach: sponsorRefModel.allReferencePerkKeywords().filter(x => x.class() == $data) --> <tr data-bind="style: { backgroundColor: shouldHighlight() ? referenceHighlightColour : '' }, css: supplementIndicatorStyle"> <td class="leftalign" data-bind="text: ptype"></td> <td class="leftalign" data-bind="text: rules"></td> <td data-bind="text: cost"></td> </tr> <!-- /ko --> <!-- /ko --> </table> </div> <div id="cargosTabPage" class="tabPage"> <table class="referenceTable"> <!-- ****************** CARGOS ******************--> <tr> <th>Cargo</th> <th>Rules</th> </tr> <tbody data-bind="foreach: allCargos.filter(c => c.ctype != 'None')"> <tr data-bind="css: ruleset == 'BASE' ? '' : ruleset.toLowerCase()"> <td class="leftalign" data-bind="text: ctype"></td> <td class="leftalign" data-bind="text: specialRules"></td> </tr> </tbody> </table> </div> </div> <!-- ************************************************** PRINT VIEW ************************************************** --> <div id="printDiv" data-bind="visible: printMode()"> <div class="noprint"> <label class="labelAsButton" for="closePrintButton">Close Print Preview</label> <button class="hideRealButton" id="closePrintButton" data-bind="click: printMode(false)">Close Print Preview</button> <label class="labelAsButton" for="printButton">Print</label> <button class="hideRealButton" id="printButton" onclick="window.print()">Print</button> <br> <label for="chkPrintOptShowKeywords"><input id="chkPrintOptShowKeywords" type="checkbox" data-bind="checked: printOptionsModel.showKeywordRules"> Include keyword rules reference</label> <label for="chkShowRandomiserTables"><input id="chkShowRandomiserTables" type="checkbox" data-bind="checked: printOptionsModel.showWhizbangAndGyroscopeRandmiserTables"> Include Whizbang and Gyroscpe Perk Randomiser Tables</label> </div> <!-- ko with: currentTeam --> <div class="printCard mediaNoBreak"> <div class="section"> <div class="flexVContainer"> <div class="larger bold" data-bind="text: teamName"></div> <!-- ko if: sponsorMode --> <div data-bind="text: playKeywords"></div> <!-- /ko --> </div> <div class="flexVContainer rightalign"> <!-- ko if: sponsorMode --> <div data-bind="text: sponsor().name"></div> <!-- /ko --> <div class="rightalign"> <span data-bind="visible: includesSupplementItems('TX1')" class="rightalign smallest">TX1</span> <span data-bind="visible: includesSupplementItems('TX2')" class="rightalign smallest">TX2</span> <span data-bind="visible: includesSupplementItems('TX3')" class="rightalign smallest">TX3</span> </div> </div> </div> </div> <!-- ko if: teamVehicles().length == 0 --> No Vehicles in Team! <!-- /ko --> <!-- ko foreach: teamVehicles --> <div class="printCard mediaNoBreak"> <div class="section flexHContainer"> <!-- header and gear boxes --> <div class="flexVContainer"> <div class="larger bold" data-bind="text: vehicleName"></div> <div class="smaller" data-bind="text: vehicleType"></div> <div class="bold" data-bind="text: playKeywords"></div> </div> <div class="flexVContainer"> <div class="rightalign"> <!-- ko if: $parent.sponsorMode() --> <span data-bind="text: $parent.sponsor().name"></span> <!-- /ko --> </div> <div class="flexFixedVBox smaller"> <span class="bold" data-bind="text: cost"></span> cans<br> <span data-bind="visible: includesSupplementItems('TX1')" class="smallest">TX1</span> <span data-bind="visible: includesSupplementItems('TX2')" class="smallest">TX2</span> <span data-bind="visible: includesSupplementItems('TX3')" class="smallest">TX3</span> </div> </div> <div class="flexGearBox"> Max<br> Gear<br> <div class="larger bold" data-bind="text: maxGear"></div> </div> <div class="flexGearBox"> Hazards </div> </div> <div class="section flexHContainer"> <!-- stats --> <div class="flexVContainer"> Hull<br> <div data-bind="foreach: hullSpaces"> <img class="checkimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMVCBYYttixbQAAABVJREFUGNNj/P//PwNuwMSAF4xUaQCl4wMR/9A5uQAAAABJRU5ErkJggg=="> </div> </div> <div class="flexFixedVBox"> Handling<br> <div class="larger bold" data-bind="text: handling"></div> </div> <div class="flexFixedVBox"> Crew<br> <div class="larger bold" data-bind="text: crew"></div> </div> </div> <div class="section flexVContainer"> <!-- property tables --> <table class="printPropertyTable"> <tr> <th>Weapon</th> <th>Facing</th> <!-- ko if: hasTrailer() --> <th>Loc</th> <!-- /ko --> <th>Range</th> <th>Attack</th> <th>Ammo</th> <th class="fillColumn">Rules</th> </tr> <tr data-bind="with: handgun"> <td class="leftalign" data-bind="text: wtype"></td> <td>360</td> <!-- ko if: $parent.hasTrailer() --> <td></td> <!-- /ko --> <td data-bind="text: range"></td> <td data-bind="text: attack"></td> <td></td> <td class="fillColumn smallest" data-bind="text: specialRules"></td> </tr> <!-- ko if: cargo().ctype == "Bandstand" --> <tr data-bind="with: thumperCargo"> <td class="leftalign" data-bind="text: wtype">Thumper</td> <td>360</td> <!-- ko if: hasTrailer() --> <td>Trailer</td> <!-- /ko --> <td data-bind="text: range"></td> <td data-bind="text: attack"></td> <td> <div data-bind="foreach: 3"> <img class="checkimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMVCBYYttixbQAAABVJREFUGNNj/P//PwNuwMSAF4xUaQCl4wMR/9A5uQAAAABJRU5ErkJggg=="> </div> </td> <td class="fillColumn smallest" data-bind="text: specialRules"></td> </tr> <!-- /ko --> <!-- ko foreach: weapons --> <tr> <td class="leftalign" data-bind="text: weaponType"></td> <td data-bind="text: facing"></td> <!-- ko if: $parent.hasTrailer() --> <td data-bind="text: location"></td> <!-- /ko --> <td data-bind="text: range"></td> <td data-bind="text: attack"></td> <td> <div data-bind="foreach: ammoSpaces"> <img class="checkimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMVCBYYttixbQAAABVJREFUGNNj/P//PwNuwMSAF4xUaQCl4wMR/9A5uQAAAABJRU5ErkJggg=="> </div> </td> <td class="fillColumn smallest" data-bind="text: specialRules"></td> </tr> <!-- /ko --> </table> <!-- ko if: hasTrailer() && cargo().ctype != "None"--> <table class="printPropertyTable"> <tr> <th>Trailer</th> <th class="fillColumn" data-bind="text: trailerName"></th> </tr> <tr> <td class="leftalign" data-bind="text: cargo().ctype"></td> <td class="fillColumn smallest" data-bind="text: cargo().specialRules"></td> </tr> </table> <!-- /ko --> <div class="section flexHContainer"> <!-- upgrades and cost --> <div class="flexHContainer"> Upgrades:&nbsp;<span data-bind="text: upgradesString"></span> <!-- ko if:nitrousCount() == -1 --> <!-- aka inifinity --> &nbsp;&infin; <!-- /ko --> <span class="flexFixedVBox" data-bind="foreach: nitrousSpaces"> <img class="checkimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMVCBYYttixbQAAABVJREFUGNNj/P//PwNuwMSAF4xUaQCl4wMR/9A5uQAAAABJRU5ErkJggg=="> </span> </div> </div> <!-- ko if: specialRules().some(sr => sr == "SavageHighwaysWarRig") --> <br> <table class="printPropertyTable smaller"><!-- Savage Highways War Rig Upgrades table --> <tr> <th class="centre" colspan="3">War Rig Upgrades</th> </tr> <!-- ko foreach: allSavageHighwaysUpgrades --> <tr> <td><img class="checkimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMVCBYYttixbQAAABVJREFUGNNj/P//PwNuwMSAF4xUaQCl4wMR/9A5uQAAAABJRU5ErkJggg=="></td> <td data-bind="text: utype"></td> <td class="fillColumn smallest" data-bind="text: specialRules"></td> </tr> <!-- /ko --> </table> <!-- /ko --> <!-- ko if: $parent.sponsorMode && perks().length > 0 --> <br> <table class="printPropertyTable"><!-- Perk table --> <tr> <th class="centre" colspan="2">Perks</th> </tr> <!-- ko foreach: perks --> <tr> <td data-bind="text: perkType"></td> <td class="fillColumn smallest" data-bind="text: rules"></td> </tr> <!-- /ko --> </table> <!-- /ko --> </div> <!-- ko if:printOptionsModel.showWhizbangAndGyroscopeRandmiserTables --> <!-- ko if:showRandomSpeedPerksTable --> <div class="section flexVContainer smaller"> <table class="printPropertyTable"> <!-- RANDOM SPEED PERKS --> <tr> <th class="centre smaller" colspan="3">Whizbang Perk Randomiser Table</th> </tr> <!-- ko foreach: sponsorRefModel.allReferencePerkKeywords().filter(x => x.class() == "Speed") --> <tr> <td><img class="checkimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMVCBYYttixbQAAABVJREFUGNNj/P//PwNuwMSAF4xUaQCl4wMR/9A5uQAAAABJRU5ErkJggg=="></td> <td class="leftalign" data-bind="text: ptype"></td> <td class="fillColumn leftalign smallest" data-bind="text: rules"></td> </tr> <!-- /ko --> </table> </div> <!-- /ko --> <!-- ko if:showRandomDaringPerksTable --> <div class="section flexVContainer smaller"> <table class="printPropertyTable"> <!-- RANDOM DARING PERKS --> <tr> <th class="centre smaller" colspan="6">Gyroscope Perk Randomiser Table</th> </tr> <!-- ko foreach: sponsorRefModel.allReferencePerkKeywords().filter(x => x.class() == "Daring") --> <tr> <td><img class="checkimg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gMVCBYYttixbQAAABVJREFUGNNj/P//PwNuwMSAF4xUaQCl4wMR/9A5uQAAAABJRU5ErkJggg=="></td> <td class="leftalign" data-bind="text: ptype"></td> <td class="fillColumn leftalign smallest" data-bind="text: rules"></td> </tr> <!-- /ko --> </table> </div> <!-- /ko --> <!-- /ko --> <!-- ko if:printOptionsModel.showKeywordRules() && playKeywordObjects().length > 0 --> <div class="section flexVContainer"> <table class="printPropertyTable smaller"><!-- Keywords table --> <tbody data-bind="foreach: playKeywordObjects"> <tr> <td class="bold" data-bind="text: ktype"></td> <td class="fillColumn smallest" data-bind="text: rules"></td> </tr> </tbody> </table> </div> <!-- /ko --> </div> <!-- /ko --> <!-- /ko --> </div> <div class="noprint smaller" id="footerDiv" data-bind="visible: !printMode()"> <a id="version" href="ReleaseNotes.txt">vBETA_2.1.6</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Supports "Gaslands Refuelled BETA 1.5.11"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Support <a href="mailto:gtbsupport@lukerazor.dx.am">gtbsupport@lukerazor.dx.am</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; All rules text &copy; 2017-2019 Mike Hutchinson </div> </div> </body>
